2025-02-21 18:21:25,242 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:21:25,278 - WARNING - Hybrid selection failed: Failed to extract fields after 3 attempts
2025-02-21 18:21:37,019 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:21:37,100 - WARNING - Hybrid selection failed: Failed to extract fields after 3 attempts
2025-02-21 18:21:43,341 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:21:43,469 - WARNING - Hybrid selection failed: Failed to extract fields after 3 attempts
2025-02-21 18:21:45,411 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:21:45,506 - INFO - Retrying request to /openai/v1/chat/completions in 6.000000 seconds
2025-02-21 18:21:45,935 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:21:45,965 - INFO - Retrying request to /openai/v1/chat/completions in 9.000000 seconds
2025-02-21 18:21:52,931 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:21:53,027 - WARNING - Hybrid selection failed: Failed to extract fields after 3 attempts
2025-02-21 18:21:56,381 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:21:56,381 - INFO - Retrying request to /openai/v1/chat/completions in 20.000000 seconds
2025-02-21 18:22:09,757 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:22:11,710 - WARNING - LLM extraction failed: Failed to extract fields after 3 attempts
2025-02-21 18:22:11,726 - ERROR - Error processing page 2 of Eng Example 2.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 96, in process_single_page
    structured_data, warnings = ocr_utils.extract_fields_from_text(extracted_text)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\.\src\ocr_utils.py", line 368, in extract_fields_from_text
    if field in missing_fields and (match := re.search(pattern, text, re.DOTALL)):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 201, in search
    return _compile(pattern, flags).search(string)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 304, in _compile
    p = sre_compile.compile(pattern, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_compile.py", line 788, in compile
    p = sre_parse.parse(p, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 955, in parse
    p = _parse_sub(source, state, flags & SRE_FLAG_VERBOSE, 0)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 444, in _parse_sub
    itemsappend(_parse(source, state, verbose, nested + 1,
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 843, in _parse
    raise source.error("missing ), unterminated subpattern",
re.error: missing ), unterminated subpattern at position 41
2025-02-21 18:22:15,457 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:22:15,457 - INFO - Retrying request to /openai/v1/chat/completions in 11.000000 seconds
2025-02-21 18:22:17,207 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:22:17,240 - WARNING - Rate limited. Waiting 10 seconds before retry...
2025-02-21 18:22:23,329 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:22:23,393 - INFO - Retrying request to /openai/v1/chat/completions in 4.000000 seconds
2025-02-21 18:22:27,885 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:22:27,996 - INFO - Retrying request to /openai/v1/chat/completions in 19.000000 seconds
2025-02-21 18:22:28,043 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:22:28,524 - WARNING - Hybrid selection failed: Failed to extract fields after 3 attempts
2025-02-21 18:22:28,841 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:22:28,984 - INFO - Retrying request to /openai/v1/chat/completions in 24.000000 seconds
2025-02-21 18:22:48,206 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:22:48,206 - WARNING - Rate limited. Waiting 10 seconds before retry...
2025-02-21 18:22:54,637 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:22:55,095 - WARNING - Hybrid selection failed: Failed to extract fields after 3 attempts
2025-02-21 18:22:59,842 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:23:00,021 - INFO - Retrying request to /openai/v1/chat/completions in 15.000000 seconds
2025-02-21 18:23:17,921 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:23:18,603 - WARNING - Hybrid selection failed: Failed to extract fields after 3 attempts
2025-02-21 18:23:37,745 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:23:38,175 - WARNING - LLM extraction failed: Failed to extract fields after 3 attempts
2025-02-21 18:23:38,239 - ERROR - Error processing page 2 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 96, in process_single_page
    structured_data, warnings = ocr_utils.extract_fields_from_text(extracted_text)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\.\src\ocr_utils.py", line 368, in extract_fields_from_text
    if field in missing_fields and (match := re.search(pattern, text, re.DOTALL)):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 201, in search
    return _compile(pattern, flags).search(string)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 304, in _compile
    p = sre_compile.compile(pattern, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_compile.py", line 788, in compile
    p = sre_parse.parse(p, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 955, in parse
    p = _parse_sub(source, state, flags & SRE_FLAG_VERBOSE, 0)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 444, in _parse_sub
    itemsappend(_parse(source, state, verbose, nested + 1,
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 843, in _parse
    raise source.error("missing ), unterminated subpattern",
re.error: missing ), unterminated subpattern at position 41
2025-02-21 18:23:56,201 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:23:56,503 - WARNING - LLM extraction failed: Failed to extract fields after 3 attempts
2025-02-21 18:23:56,567 - ERROR - Error processing page 1 of Eng Example 2.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 96, in process_single_page
    structured_data, warnings = ocr_utils.extract_fields_from_text(extracted_text)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\.\src\ocr_utils.py", line 368, in extract_fields_from_text
    if field in missing_fields and (match := re.search(pattern, text, re.DOTALL)):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 201, in search
    return _compile(pattern, flags).search(string)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 304, in _compile
    p = sre_compile.compile(pattern, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_compile.py", line 788, in compile
    p = sre_parse.parse(p, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 955, in parse
    p = _parse_sub(source, state, flags & SRE_FLAG_VERBOSE, 0)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 444, in _parse_sub
    itemsappend(_parse(source, state, verbose, nested + 1,
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 843, in _parse
    raise source.error("missing ), unterminated subpattern",
re.error: missing ), unterminated subpattern at position 41
2025-02-21 18:24:40,729 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:24:41,205 - WARNING - LLM extraction failed: Failed to extract fields after 3 attempts
2025-02-21 18:24:41,205 - ERROR - Error processing page 1 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 96, in process_single_page
    structured_data, warnings = ocr_utils.extract_fields_from_text(extracted_text)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\.\src\ocr_utils.py", line 368, in extract_fields_from_text
    if field in missing_fields and (match := re.search(pattern, text, re.DOTALL)):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 201, in search
    return _compile(pattern, flags).search(string)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 304, in _compile
    p = sre_compile.compile(pattern, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_compile.py", line 788, in compile
    p = sre_parse.parse(p, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 955, in parse
    p = _parse_sub(source, state, flags & SRE_FLAG_VERBOSE, 0)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 444, in _parse_sub
    itemsappend(_parse(source, state, verbose, nested + 1,
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 843, in _parse
    raise source.error("missing ), unterminated subpattern",
re.error: missing ), unterminated subpattern at position 41
2025-02-21 18:24:54,245 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:24:54,661 - WARNING - LLM extraction failed: Failed to extract fields after 3 attempts
2025-02-21 18:24:54,676 - ERROR - Error processing page 2 of FR Example 3.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 96, in process_single_page
    structured_data, warnings = ocr_utils.extract_fields_from_text(extracted_text)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\.\src\ocr_utils.py", line 368, in extract_fields_from_text
    if field in missing_fields and (match := re.search(pattern, text, re.DOTALL)):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 201, in search
    return _compile(pattern, flags).search(string)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 304, in _compile
    p = sre_compile.compile(pattern, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_compile.py", line 788, in compile
    p = sre_parse.parse(p, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 955, in parse
    p = _parse_sub(source, state, flags & SRE_FLAG_VERBOSE, 0)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 444, in _parse_sub
    itemsappend(_parse(source, state, verbose, nested + 1,
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 843, in _parse
    raise source.error("missing ), unterminated subpattern",
re.error: missing ), unterminated subpattern at position 41
2025-02-21 18:25:00,919 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:25:01,061 - WARNING - LLM extraction failed: Failed to extract fields after 3 attempts
2025-02-21 18:25:01,077 - ERROR - Error processing page 1 of FR Example 4.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 96, in process_single_page
    structured_data, warnings = ocr_utils.extract_fields_from_text(extracted_text)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\.\src\ocr_utils.py", line 368, in extract_fields_from_text
    if field in missing_fields and (match := re.search(pattern, text, re.DOTALL)):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 201, in search
    return _compile(pattern, flags).search(string)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 304, in _compile
    p = sre_compile.compile(pattern, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_compile.py", line 788, in compile
    p = sre_parse.parse(p, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 955, in parse
    p = _parse_sub(source, state, flags & SRE_FLAG_VERBOSE, 0)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 444, in _parse_sub
    itemsappend(_parse(source, state, verbose, nested + 1,
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 843, in _parse
    raise source.error("missing ), unterminated subpattern",
re.error: missing ), unterminated subpattern at position 41
2025-02-21 18:25:10,785 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:25:10,785 - WARNING - LLM extraction failed: Failed to extract fields after 3 attempts
2025-02-21 18:25:10,785 - ERROR - Error processing page 1 of FR Example 3.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 96, in process_single_page
    structured_data, warnings = ocr_utils.extract_fields_from_text(extracted_text)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\.\src\ocr_utils.py", line 368, in extract_fields_from_text
    if field in missing_fields and (match := re.search(pattern, text, re.DOTALL)):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 201, in search
    return _compile(pattern, flags).search(string)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 304, in _compile
    p = sre_compile.compile(pattern, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_compile.py", line 788, in compile
    p = sre_parse.parse(p, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 955, in parse
    p = _parse_sub(source, state, flags & SRE_FLAG_VERBOSE, 0)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 444, in _parse_sub
    itemsappend(_parse(source, state, verbose, nested + 1,
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 843, in _parse
    raise source.error("missing ), unterminated subpattern",
re.error: missing ), unterminated subpattern at position 41
2025-02-21 18:30:19,507 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:30:19,519 - ERROR - API error: 'ChatCompletion' object has no attribute 'raise_for_status'
2025-02-21 18:30:19,519 - WARNING - Waiting 15 seconds before retry...
2025-02-21 18:30:24,165 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:30:24,169 - ERROR - API error: 'ChatCompletion' object has no attribute 'raise_for_status'
2025-02-21 18:30:24,169 - WARNING - Waiting 15 seconds before retry...
2025-02-21 18:30:24,702 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:30:24,705 - ERROR - API error: 'ChatCompletion' object has no attribute 'raise_for_status'
2025-02-21 18:30:24,705 - WARNING - Waiting 15 seconds before retry...
2025-02-21 18:30:26,119 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:30:26,121 - INFO - Retrying request to /openai/v1/chat/completions in 18.000000 seconds
2025-02-21 18:30:26,480 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:30:26,480 - INFO - Retrying request to /openai/v1/chat/completions in 18.000000 seconds
2025-02-21 18:30:27,399 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:30:27,399 - INFO - Retrying request to /openai/v1/chat/completions in 16.000000 seconds
2025-02-21 18:30:29,762 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:30:29,762 - INFO - Retrying request to /openai/v1/chat/completions in 14.000000 seconds
2025-02-21 18:30:34,655 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:30:34,655 - INFO - Retrying request to /openai/v1/chat/completions in 6.000000 seconds
2025-02-21 18:30:39,337 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:30:39,337 - INFO - Retrying request to /openai/v1/chat/completions in 3.000000 seconds
2025-02-21 18:30:39,797 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:30:39,797 - INFO - Retrying request to /openai/v1/chat/completions in 6.000000 seconds
2025-02-21 18:30:41,305 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:30:41,305 - ERROR - API error: 'ChatCompletion' object has no attribute 'raise_for_status'
2025-02-21 18:30:41,305 - WARNING - Waiting 30 seconds before retry...
2025-02-21 18:30:42,405 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:30:42,415 - INFO - Retrying request to /openai/v1/chat/completions in 19.000000 seconds
2025-02-21 18:30:43,495 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:30:43,495 - INFO - Retrying request to /openai/v1/chat/completions in 19.000000 seconds
2025-02-21 18:30:43,890 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:30:43,890 - INFO - Retrying request to /openai/v1/chat/completions in 19.000000 seconds
2025-02-21 18:30:44,255 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:30:44,255 - INFO - Retrying request to /openai/v1/chat/completions in 19.000000 seconds
2025-02-21 18:30:44,565 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:30:44,573 - INFO - Retrying request to /openai/v1/chat/completions in 19.000000 seconds
2025-02-21 18:30:45,895 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:30:45,895 - INFO - Retrying request to /openai/v1/chat/completions in 19.000000 seconds
2025-02-21 18:31:02,135 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:31:02,135 - ERROR - API error: 'ChatCompletion' object has no attribute 'raise_for_status'
2025-02-21 18:31:02,135 - WARNING - Waiting 30 seconds before retry...
2025-02-21 18:31:02,625 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:31:02,635 - ERROR - API error: Error code: 429 - {'error': {'message': 'Rate limit reached for model `mixtral-8x7b-32768` in organization `org_01jjr06gvjepht8gfgh9726zm6` service tier `on_demand` on tokens per minute (TPM): Limit 5000, Used 5123, Requested 1588. Please try again in 20.533s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing', 'type': 'tokens', 'code': 'rate_limit_exceeded'}}
2025-02-21 18:31:02,635 - WARNING - Waiting 15 seconds before retry...
2025-02-21 18:31:02,987 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:31:02,991 - ERROR - API error: Error code: 429 - {'error': {'message': 'Rate limit reached for model `mixtral-8x7b-32768` in organization `org_01jjr06gvjepht8gfgh9726zm6` service tier `on_demand` on tokens per minute (TPM): Limit 5000, Used 5093, Requested 1638. Please try again in 20.78s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing', 'type': 'tokens', 'code': 'rate_limit_exceeded'}}
2025-02-21 18:31:02,991 - WARNING - Waiting 15 seconds before retry...
2025-02-21 18:31:03,385 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:31:03,385 - ERROR - API error: Error code: 429 - {'error': {'message': 'Rate limit reached for model `mixtral-8x7b-32768` in organization `org_01jjr06gvjepht8gfgh9726zm6` service tier `on_demand` on tokens per minute (TPM): Limit 5000, Used 5060, Requested 1650. Please try again in 20.523s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing', 'type': 'tokens', 'code': 'rate_limit_exceeded'}}
2025-02-21 18:31:03,385 - WARNING - Waiting 15 seconds before retry...
2025-02-21 18:31:03,661 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:31:03,661 - ERROR - API error: Error code: 429 - {'error': {'message': 'Rate limit reached for model `mixtral-8x7b-32768` in organization `org_01jjr06gvjepht8gfgh9726zm6` service tier `on_demand` on tokens per minute (TPM): Limit 5000, Used 5037, Requested 1677. Please try again in 20.573s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing', 'type': 'tokens', 'code': 'rate_limit_exceeded'}}
2025-02-21 18:31:03,665 - WARNING - Waiting 15 seconds before retry...
2025-02-21 18:31:05,010 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:31:05,010 - ERROR - API error: Error code: 429 - {'error': {'message': 'Rate limit reached for model `mixtral-8x7b-32768` in organization `org_01jjr06gvjepht8gfgh9726zm6` service tier `on_demand` on tokens per minute (TPM): Limit 5000, Used 4926, Requested 1823. Please try again in 20.982s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing', 'type': 'tokens', 'code': 'rate_limit_exceeded'}}
2025-02-21 18:31:05,010 - WARNING - Waiting 30 seconds before retry...
2025-02-21 18:31:11,425 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:31:11,425 - INFO - Retrying request to /openai/v1/chat/completions in 9.000000 seconds
2025-02-21 18:31:17,775 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:31:17,775 - INFO - Retrying request to /openai/v1/chat/completions in 6.000000 seconds
2025-02-21 18:31:18,095 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:31:18,095 - INFO - Retrying request to /openai/v1/chat/completions in 6.000000 seconds
2025-02-21 18:31:18,545 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:31:18,545 - INFO - Retrying request to /openai/v1/chat/completions in 6.000000 seconds
2025-02-21 18:31:18,805 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:31:18,805 - INFO - Retrying request to /openai/v1/chat/completions in 6.000000 seconds
2025-02-21 18:31:21,039 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:31:21,039 - ERROR - API error: 'ChatCompletion' object has no attribute 'raise_for_status'
2025-02-21 18:31:21,039 - WARNING - Hybrid selection failed: Failed to extract fields after 3 attempts
2025-02-21 18:31:24,197 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:31:24,197 - INFO - Retrying request to /openai/v1/chat/completions in 19.000000 seconds
2025-02-21 18:31:24,389 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:31:24,421 - INFO - Retrying request to /openai/v1/chat/completions in 19.000000 seconds
2025-02-21 18:31:24,834 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:31:24,834 - INFO - Retrying request to /openai/v1/chat/completions in 19.000000 seconds
2025-02-21 18:31:25,167 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:31:25,183 - INFO - Retrying request to /openai/v1/chat/completions in 19.000000 seconds
2025-02-21 18:31:32,453 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:31:32,453 - INFO - Retrying request to /openai/v1/chat/completions in 9.000000 seconds
2025-02-21 18:31:35,427 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:31:35,443 - INFO - Retrying request to /openai/v1/chat/completions in 10.000000 seconds
2025-02-21 18:31:38,507 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:31:38,507 - ERROR - API error: 'ChatCompletion' object has no attribute 'raise_for_status'
2025-02-21 18:31:38,507 - WARNING - Waiting 15 seconds before retry...
2025-02-21 18:31:41,545 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:31:41,545 - INFO - Retrying request to /openai/v1/chat/completions in 12.000000 seconds
2025-02-21 18:31:43,295 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:31:43,295 - ERROR - API error: Error code: 429 - {'error': {'message': 'Rate limit reached for model `mixtral-8x7b-32768` in organization `org_01jjr06gvjepht8gfgh9726zm6` service tier `on_demand` on tokens per minute (TPM): Limit 5000, Used 4347, Requested 1588. Please try again in 11.211s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing', 'type': 'tokens', 'code': 'rate_limit_exceeded'}}
2025-02-21 18:31:43,295 - WARNING - Waiting 30 seconds before retry...
2025-02-21 18:31:43,521 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:31:43,521 - ERROR - API error: Error code: 429 - {'error': {'message': 'Rate limit reached for model `mixtral-8x7b-32768` in organization `org_01jjr06gvjepht8gfgh9726zm6` service tier `on_demand` on tokens per minute (TPM): Limit 5000, Used 4327, Requested 1638. Please try again in 11.579s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing', 'type': 'tokens', 'code': 'rate_limit_exceeded'}}
2025-02-21 18:31:43,521 - WARNING - Waiting 30 seconds before retry...
2025-02-21 18:31:44,001 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:31:44,001 - ERROR - API error: Error code: 429 - {'error': {'message': 'Rate limit reached for model `mixtral-8x7b-32768` in organization `org_01jjr06gvjepht8gfgh9726zm6` service tier `on_demand` on tokens per minute (TPM): Limit 5000, Used 4288, Requested 1650. Please try again in 11.252s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing', 'type': 'tokens', 'code': 'rate_limit_exceeded'}}
2025-02-21 18:31:44,001 - WARNING - Waiting 30 seconds before retry...
2025-02-21 18:31:44,295 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:31:44,295 - ERROR - API error: Error code: 429 - {'error': {'message': 'Rate limit reached for model `mixtral-8x7b-32768` in organization `org_01jjr06gvjepht8gfgh9726zm6` service tier `on_demand` on tokens per minute (TPM): Limit 5000, Used 4264, Requested 1677. Please try again in 11.288s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing', 'type': 'tokens', 'code': 'rate_limit_exceeded'}}
2025-02-21 18:31:44,295 - WARNING - Waiting 30 seconds before retry...
2025-02-21 18:31:45,555 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:31:45,555 - INFO - Retrying request to /openai/v1/chat/completions in 12.000000 seconds
2025-02-21 18:31:53,765 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:31:53,765 - ERROR - API error: Error code: 429 - {'error': {'message': 'Rate limit reached for model `mixtral-8x7b-32768` in organization `org_01jjr06gvjepht8gfgh9726zm6` service tier `on_demand` on tokens per minute (TPM): Limit 5000, Used 4044, Requested 1497. Please try again in 6.49s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing', 'type': 'tokens', 'code': 'rate_limit_exceeded'}}
2025-02-21 18:31:53,765 - WARNING - Hybrid selection failed: Failed to extract fields after 3 attempts
2025-02-21 18:31:54,602 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:31:54,649 - ERROR - API error: 'ChatCompletion' object has no attribute 'raise_for_status'
2025-02-21 18:31:54,665 - WARNING - Waiting 30 seconds before retry...
2025-02-21 18:31:57,875 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:31:57,875 - ERROR - API error: Error code: 429 - {'error': {'message': 'Rate limit reached for model `mixtral-8x7b-32768` in organization `org_01jjr06gvjepht8gfgh9726zm6` service tier `on_demand` on tokens per minute (TPM): Limit 5000, Used 4166, Requested 1823. Please try again in 11.861s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing', 'type': 'tokens', 'code': 'rate_limit_exceeded'}}
2025-02-21 18:31:57,875 - WARNING - Hybrid selection failed: Failed to extract fields after 3 attempts
2025-02-21 18:32:14,259 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:32:14,309 - INFO - Retrying request to /openai/v1/chat/completions in 13.000000 seconds
2025-02-21 18:32:14,721 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:32:14,769 - INFO - Retrying request to /openai/v1/chat/completions in 13.000000 seconds
2025-02-21 18:32:14,832 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:32:14,864 - INFO - Retrying request to /openai/v1/chat/completions in 13.000000 seconds
2025-02-21 18:32:14,942 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:32:15,151 - ERROR - API error: 'ChatCompletion' object has no attribute 'raise_for_status'
2025-02-21 18:32:15,151 - WARNING - Hybrid selection failed: Failed to extract fields after 3 attempts
2025-02-21 18:32:26,196 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:32:26,372 - ERROR - API error: 'ChatCompletion' object has no attribute 'raise_for_status'
2025-02-21 18:32:26,435 - WARNING - LLM extraction failed: Failed to extract fields after 3 attempts
2025-02-21 18:32:26,467 - ERROR - Error processing page 2 of Eng Example 2.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 96, in process_single_page
    structured_data, warnings = ocr_utils.extract_fields_from_text(extracted_text)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\.\src\ocr_utils.py", line 376, in extract_fields_from_text
    if field in missing_fields and (match := re.search(pattern, text, re.DOTALL)):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 201, in search
    return _compile(pattern, flags).search(string)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 304, in _compile
    p = sre_compile.compile(pattern, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_compile.py", line 788, in compile
    p = sre_parse.parse(p, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 955, in parse
    p = _parse_sub(source, state, flags & SRE_FLAG_VERBOSE, 0)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 444, in _parse_sub
    itemsappend(_parse(source, state, verbose, nested + 1,
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 843, in _parse
    raise source.error("missing ), unterminated subpattern",
re.error: missing ), unterminated subpattern at position 41
2025-02-21 18:32:28,319 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:32:28,805 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:32:28,900 - INFO - Retrying request to /openai/v1/chat/completions in 17.000000 seconds
2025-02-21 18:32:28,979 - INFO - Retrying request to /openai/v1/chat/completions in 17.000000 seconds
2025-02-21 18:32:29,345 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:32:29,366 - INFO - Retrying request to /openai/v1/chat/completions in 16.000000 seconds
2025-02-21 18:32:32,833 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:32:32,833 - INFO - Retrying request to /openai/v1/chat/completions in 2.000000 seconds
2025-02-21 18:32:35,722 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:32:35,865 - ERROR - API error: 'ChatCompletion' object has no attribute 'raise_for_status'
2025-02-21 18:32:35,881 - WARNING - Waiting 15 seconds before retry...
2025-02-21 18:32:46,470 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:32:46,503 - ERROR - API error: Error code: 429 - {'error': {'message': 'Rate limit reached for model `mixtral-8x7b-32768` in organization `org_01jjr06gvjepht8gfgh9726zm6` service tier `on_demand` on tokens per minute (TPM): Limit 5000, Used 4286, Requested 1650. Please try again in 11.221s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing', 'type': 'tokens', 'code': 'rate_limit_exceeded'}}
2025-02-21 18:32:46,535 - WARNING - Hybrid selection failed: Failed to extract fields after 3 attempts
2025-02-21 18:32:46,838 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:32:46,870 - ERROR - API error: Error code: 429 - {'error': {'message': 'Rate limit reached for model `mixtral-8x7b-32768` in organization `org_01jjr06gvjepht8gfgh9726zm6` service tier `on_demand` on tokens per minute (TPM): Limit 5000, Used 4233, Requested 1677. Please try again in 10.914s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing', 'type': 'tokens', 'code': 'rate_limit_exceeded'}}
2025-02-21 18:32:46,870 - WARNING - Hybrid selection failed: Failed to extract fields after 3 attempts
2025-02-21 18:32:46,870 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:32:46,918 - ERROR - API error: Error code: 429 - {'error': {'message': 'Rate limit reached for model `mixtral-8x7b-32768` in organization `org_01jjr06gvjepht8gfgh9726zm6` service tier `on_demand` on tokens per minute (TPM): Limit 5000, Used 4234, Requested 1638. Please try again in 10.459s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing', 'type': 'tokens', 'code': 'rate_limit_exceeded'}}
2025-02-21 18:32:46,918 - WARNING - Hybrid selection failed: Failed to extract fields after 3 attempts
2025-02-21 18:32:48,422 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:32:48,422 - ERROR - API error: 'ChatCompletion' object has no attribute 'raise_for_status'
2025-02-21 18:32:48,422 - WARNING - Waiting 15 seconds before retry...
2025-02-21 18:32:51,295 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:32:51,295 - INFO - Retrying request to /openai/v1/chat/completions in 8.000000 seconds
2025-02-21 18:33:01,379 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:33:01,522 - ERROR - API error: 'ChatCompletion' object has no attribute 'raise_for_status'
2025-02-21 18:33:01,555 - WARNING - Waiting 30 seconds before retry...
2025-02-21 18:33:04,699 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:33:04,746 - INFO - Retrying request to /openai/v1/chat/completions in 6.000000 seconds
2025-02-21 18:33:12,400 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:33:12,591 - ERROR - API error: 'ChatCompletion' object has no attribute 'raise_for_status'
2025-02-21 18:33:12,623 - WARNING - Waiting 30 seconds before retry...
2025-02-21 18:33:33,550 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:33:34,220 - ERROR - API error: 'ChatCompletion' object has no attribute 'raise_for_status'
2025-02-21 18:33:34,267 - WARNING - LLM extraction failed: Failed to extract fields after 3 attempts
2025-02-21 18:33:34,426 - ERROR - Error processing page 1 of Eng Example 2.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 96, in process_single_page
    structured_data, warnings = ocr_utils.extract_fields_from_text(extracted_text)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\.\src\ocr_utils.py", line 376, in extract_fields_from_text
    if field in missing_fields and (match := re.search(pattern, text, re.DOTALL)):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 201, in search
    return _compile(pattern, flags).search(string)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 304, in _compile
    p = sre_compile.compile(pattern, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_compile.py", line 788, in compile
    p = sre_parse.parse(p, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 955, in parse
    p = _parse_sub(source, state, flags & SRE_FLAG_VERBOSE, 0)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 444, in _parse_sub
    itemsappend(_parse(source, state, verbose, nested + 1,
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 843, in _parse
    raise source.error("missing ), unterminated subpattern",
re.error: missing ), unterminated subpattern at position 41
2025-02-21 18:33:39,236 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:33:39,411 - ERROR - API error: 'ChatCompletion' object has no attribute 'raise_for_status'
2025-02-21 18:33:39,411 - WARNING - Waiting 15 seconds before retry...
2025-02-21 18:33:43,743 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:33:43,758 - INFO - Retrying request to /openai/v1/chat/completions in 5.000000 seconds
2025-02-21 18:33:50,125 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:33:50,316 - ERROR - API error: 'ChatCompletion' object has no attribute 'raise_for_status'
2025-02-21 18:33:50,332 - WARNING - LLM extraction failed: Failed to extract fields after 3 attempts
2025-02-21 18:33:50,348 - ERROR - Error processing page 2 of FR Example 3.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 96, in process_single_page
    structured_data, warnings = ocr_utils.extract_fields_from_text(extracted_text)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\.\src\ocr_utils.py", line 376, in extract_fields_from_text
    if field in missing_fields and (match := re.search(pattern, text, re.DOTALL)):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 201, in search
    return _compile(pattern, flags).search(string)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 304, in _compile
    p = sre_compile.compile(pattern, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_compile.py", line 788, in compile
    p = sre_parse.parse(p, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 955, in parse
    p = _parse_sub(source, state, flags & SRE_FLAG_VERBOSE, 0)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 444, in _parse_sub
    itemsappend(_parse(source, state, verbose, nested + 1,
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 843, in _parse
    raise source.error("missing ), unterminated subpattern",
re.error: missing ), unterminated subpattern at position 41
2025-02-21 18:33:55,495 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:33:55,510 - INFO - Retrying request to /openai/v1/chat/completions in 5.000000 seconds
2025-02-21 18:34:01,658 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:34:01,714 - ERROR - API error: 'ChatCompletion' object has no attribute 'raise_for_status'
2025-02-21 18:34:01,721 - WARNING - Waiting 30 seconds before retry...
2025-02-21 18:34:33,824 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:34:34,301 - ERROR - API error: 'ChatCompletion' object has no attribute 'raise_for_status'
2025-02-21 18:34:34,333 - WARNING - LLM extraction failed: Failed to extract fields after 3 attempts
2025-02-21 18:34:34,396 - ERROR - Error processing page 2 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 96, in process_single_page
    structured_data, warnings = ocr_utils.extract_fields_from_text(extracted_text)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\.\src\ocr_utils.py", line 376, in extract_fields_from_text
    if field in missing_fields and (match := re.search(pattern, text, re.DOTALL)):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 201, in search
    return _compile(pattern, flags).search(string)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 304, in _compile
    p = sre_compile.compile(pattern, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_compile.py", line 788, in compile
    p = sre_parse.parse(p, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 955, in parse
    p = _parse_sub(source, state, flags & SRE_FLAG_VERBOSE, 0)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 444, in _parse_sub
    itemsappend(_parse(source, state, verbose, nested + 1,
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 843, in _parse
    raise source.error("missing ), unterminated subpattern",
re.error: missing ), unterminated subpattern at position 41
2025-02-21 18:34:37,666 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:34:37,825 - ERROR - API error: 'ChatCompletion' object has no attribute 'raise_for_status'
2025-02-21 18:34:37,888 - WARNING - Waiting 15 seconds before retry...
2025-02-21 18:34:42,548 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:34:42,565 - INFO - Retrying request to /openai/v1/chat/completions in 1.000000 seconds
2025-02-21 18:34:44,225 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:34:44,272 - ERROR - API error: 'ChatCompletion' object has no attribute 'raise_for_status'
2025-02-21 18:34:44,272 - WARNING - Waiting 15 seconds before retry...
2025-02-21 18:34:47,155 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:34:47,165 - INFO - Retrying request to /openai/v1/chat/completions in 12.000000 seconds
2025-02-21 18:34:52,975 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:34:52,975 - INFO - Retrying request to /openai/v1/chat/completions in 6.000000 seconds
2025-02-21 18:34:59,255 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:34:59,255 - INFO - Retrying request to /openai/v1/chat/completions in 12.000000 seconds
2025-02-21 18:34:59,427 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:34:59,427 - INFO - Retrying request to /openai/v1/chat/completions in 10.000000 seconds
2025-02-21 18:34:59,917 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:34:59,917 - ERROR - API error: 'ChatCompletion' object has no attribute 'raise_for_status'
2025-02-21 18:34:59,917 - WARNING - Waiting 30 seconds before retry...
2025-02-21 18:35:09,525 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:35:09,525 - INFO - Retrying request to /openai/v1/chat/completions in 3.000000 seconds
2025-02-21 18:35:11,425 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:35:11,425 - ERROR - API error: Error code: 429 - {'error': {'message': 'Rate limit reached for model `mixtral-8x7b-32768` in organization `org_01jjr06gvjepht8gfgh9726zm6` service tier `on_demand` on tokens per minute (TPM): Limit 5000, Used 4260, Requested 978. Please try again in 2.854999999s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing', 'type': 'tokens', 'code': 'rate_limit_exceeded'}}
2025-02-21 18:35:11,425 - WARNING - Waiting 15 seconds before retry...
2025-02-21 18:35:13,655 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:35:13,665 - ERROR - API error: 'ChatCompletion' object has no attribute 'raise_for_status'
2025-02-21 18:35:13,665 - WARNING - Waiting 30 seconds before retry...
2025-02-21 18:35:26,575 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:35:26,575 - INFO - Retrying request to /openai/v1/chat/completions in 5.000000 seconds
2025-02-21 18:35:30,015 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:35:30,015 - INFO - Retrying request to /openai/v1/chat/completions in 2.000000 seconds
2025-02-21 18:35:32,095 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:35:32,095 - INFO - Retrying request to /openai/v1/chat/completions in 12.000000 seconds
2025-02-21 18:35:32,405 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:35:32,415 - ERROR - API error: 'ChatCompletion' object has no attribute 'raise_for_status'
2025-02-21 18:35:32,415 - WARNING - Waiting 30 seconds before retry...
2025-02-21 18:35:43,795 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:35:43,800 - INFO - Retrying request to /openai/v1/chat/completions in 3.000000 seconds
2025-02-21 18:35:44,262 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:35:44,262 - ERROR - API error: Error code: 429 - {'error': {'message': 'Rate limit reached for model `mixtral-8x7b-32768` in organization `org_01jjr06gvjepht8gfgh9726zm6` service tier `on_demand` on tokens per minute (TPM): Limit 5000, Used 4317, Requested 1011. Please try again in 3.925s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing', 'type': 'tokens', 'code': 'rate_limit_exceeded'}}
2025-02-21 18:35:44,265 - WARNING - LLM extraction failed: Failed to extract fields after 3 attempts
2025-02-21 18:35:44,265 - ERROR - Error processing page 1 of FR Example 3.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 96, in process_single_page
    structured_data, warnings = ocr_utils.extract_fields_from_text(extracted_text)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\.\src\ocr_utils.py", line 376, in extract_fields_from_text
    if field in missing_fields and (match := re.search(pattern, text, re.DOTALL)):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 201, in search
    return _compile(pattern, flags).search(string)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 304, in _compile
    p = sre_compile.compile(pattern, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_compile.py", line 788, in compile
    p = sre_parse.parse(p, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 955, in parse
    p = _parse_sub(source, state, flags & SRE_FLAG_VERBOSE, 0)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 444, in _parse_sub
    itemsappend(_parse(source, state, verbose, nested + 1,
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 843, in _parse
    raise source.error("missing ), unterminated subpattern",
re.error: missing ), unterminated subpattern at position 41
2025-02-21 18:35:47,954 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:35:47,954 - ERROR - API error: 'ChatCompletion' object has no attribute 'raise_for_status'
2025-02-21 18:35:47,954 - WARNING - LLM extraction failed: Failed to extract fields after 3 attempts
2025-02-21 18:35:47,954 - ERROR - Error processing page 1 of FR Example 4.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 96, in process_single_page
    structured_data, warnings = ocr_utils.extract_fields_from_text(extracted_text)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\.\src\ocr_utils.py", line 376, in extract_fields_from_text
    if field in missing_fields and (match := re.search(pattern, text, re.DOTALL)):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 201, in search
    return _compile(pattern, flags).search(string)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 304, in _compile
    p = sre_compile.compile(pattern, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_compile.py", line 788, in compile
    p = sre_parse.parse(p, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 955, in parse
    p = _parse_sub(source, state, flags & SRE_FLAG_VERBOSE, 0)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 444, in _parse_sub
    itemsappend(_parse(source, state, verbose, nested + 1,
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 843, in _parse
    raise source.error("missing ), unterminated subpattern",
re.error: missing ), unterminated subpattern at position 41
2025-02-21 18:36:02,548 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:36:02,548 - INFO - Retrying request to /openai/v1/chat/completions in 3.000000 seconds
2025-02-21 18:36:06,415 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:36:06,415 - ERROR - API error: 'ChatCompletion' object has no attribute 'raise_for_status'
2025-02-21 18:36:06,415 - WARNING - LLM extraction failed: Failed to extract fields after 3 attempts
2025-02-21 18:36:06,415 - ERROR - Error processing page 1 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 96, in process_single_page
    structured_data, warnings = ocr_utils.extract_fields_from_text(extracted_text)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\.\src\ocr_utils.py", line 376, in extract_fields_from_text
    if field in missing_fields and (match := re.search(pattern, text, re.DOTALL)):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 201, in search
    return _compile(pattern, flags).search(string)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 304, in _compile
    p = sre_compile.compile(pattern, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_compile.py", line 788, in compile
    p = sre_parse.parse(p, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 955, in parse
    p = _parse_sub(source, state, flags & SRE_FLAG_VERBOSE, 0)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 444, in _parse_sub
    itemsappend(_parse(source, state, verbose, nested + 1,
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 843, in _parse
    raise source.error("missing ), unterminated subpattern",
re.error: missing ), unterminated subpattern at position 41
2025-02-21 18:49:34,648 - INFO - LLM Prompt:
You are an expert in medical document processing, specializing in mammogram reports. Extract the following fields:
- Patient name (title case, correct fused words like 'PatientName' to 'Patient Name')
- Exam date (YYYY-MM-DD, correct formats like '23Dec2021')
- BIRADS score for the right breast (0-6)
- BIRADS score for the left breast (0-6)
- Clinical impressions
- Key findings (include measurements and locations)
- Follow-up recommendations

Correct OCR errors, prioritize medical terminology, and handle varied labels. For each field, provide a confidence score (0-1). Return valid JSON with keys: 
patient_name, exam_date, birads_right, birads_left, impressions, findings, 
follow_up_recommendation, and a 'confidence' sub-object with scores for each field.

Text:
Score each OCR option (1-10) for coherence and medical field presence. Return JSON with 'scores': [int, ...].

Option 1 (PSM 3):     Oesaeeeterete PROTECTEDB CFHSISSFC    Patient:  Scan-Mammo(B)Diagnostic DocumentDate:2021-12-23    1372320213:50:43PM MICMeccallmaging To97809724184Msg9974241.PegeZof2         NPPatriciaMalott  CFB-Edmonton  POBOX10500STNFORCES  EdmontonABT5J4J5    ExamDate: 23Dec2021  - Exam:  Phone:(780)973-4011 ot 7  FAX:7809734184 Location: Southpointe    BILATERALDIAGNOSTICMAMMOGRAPHYWITHTOMOSYNTHESIS-IMPLANTS  ULTRASOUNDRIGHTBREAST    Questionsaboutthisreport  Orderingphysiciansmaycontacttheradiologistat1-844-642-4723(1-844-MIC-4RAD).    Page2of2    Printedon:2022-09-0907:51  Printedby:NataliePaille    PROTEGEB Page:18

Option 2 (PSM 6):     NationalCxifensa  UsL)Gerencenationale PROTECTEDB CFHSISSFC  Patient:  Scan-Mammo(B)Diagnostic DocumentDate:2021-12-23  13723120213:50:43PM MICMeccallmaging To97809734184Msg9974241.PegeZof2  6)- :  MEDICALIMAGING  NPPatriciaMalott  CFB-Edmonton  POBOX10500STNFORCES  Edmonton.ABT5J4J5 ExamDale: 23Dec2021  Phone:(780)973-4041 Exam es  FAX:7809734184 Location: Southpointe  BILATERALDIAGNOSTICMAMMOGRAPHYWITHTOMOSYNTHESIS-IMPLANTS  ULTRASOUNDRIGHTBREAST  Questionsaboutthisreport  Orderingphysiciansmaycontacttheradiologistat1-844-642-4723(1-844-MIC-4RAD).  i  i  Page2of2  Printedon:2022-09-0907:51 ee Page:18  PROTEGEB 9  Printedby:NataliePaille

Option 3 (PSM 11):     NationalODdifonse    Ls    Defence    rationale    PROTECTEDB    CFHSSSFC    Patient:    Scan-Mammo(B)Diagnostic    DocumentDate: 2021-12-28    1372320213:50:43PM    MICMeccallmaging    To97809724184Msg9974241.PegeZof2    x    %    ee    40    e    of    8    lo    ME    IMAGING    NPPatriciaMalott    CFB-Edmonton    POBOX10500STNFORCES    EdmontonABT5J4J5    ExamDate:    23Dec2021    Exam:    Phone:(780)973-4011    Location:    Southpointe    FAX:7809734184    BILATERALDIAGNOSTICMAMMOGRAPHYWITHTOMOSYNTHESIS-IMPLANTS    ULTRASOUNDRIGHTBREAST    Questionsaboutthisreport    Orderingphysiciansmaycontacttheradiologistat1-844-642-4723(1-844-MIC-4RAD).    Page2of2    Printedon:    2022-09-0907:51    Page:18    PROTEGEB    Printedby:    NataliePaille
2025-02-21 18:49:34,656 - INFO - LLM Prompt:
You are an expert in medical document processing, specializing in mammogram reports. Extract the following fields:
- Patient name (title case, correct fused words like 'PatientName' to 'Patient Name')
- Exam date (YYYY-MM-DD, correct formats like '23Dec2021')
- BIRADS score for the right breast (0-6)
- BIRADS score for the left breast (0-6)
- Clinical impressions
- Key findings (include measurements and locations)
- Follow-up recommendations

Correct OCR errors, prioritize medical terminology, and handle varied labels. For each field, provide a confidence score (0-1). Return valid JSON with keys: 
patient_name, exam_date, birads_right, birads_left, impressions, findings, 
follow_up_recommendation, and a 'confidence' sub-object with scores for each field.

Text:
Score each OCR option (1-10) for coherence and medical field presence. Return JSON with 'scores': [int, ...].

Option 1 (PSM 3):     Oeste PROTECTEDB CFHSISSFC    Defencemationale    Patient:  Scan-MammoDIAGNOSTIC Document Date: 2023-05-05         0511202812:07PM5063577051 HIGaS PAGE047 04    May062023MAMMO-Diagnostic    DEPARTHENT.OFDIAGNOSTICMMAGTHG  HORTZONBEALTER NETHORE  Predericton and. UgnerRiverVallieyAren    Mawes Mddioaree  Unitf: Roquertings tidgge. waldian  BOB: Panty (MD):NODor   : . : Location: Dd BAD    SEXx 3 :  AgatNumber:    TS    EXaH8-TYRHExan a a BXAMDATE  306264069RADMAMMGURAM-DIAGNOSTICBIRATo5f05f23    dilidanHiggs    cer . . a  RigosJillianND.CCEP         eREPORTSIGHEDINCINERVENDOR 8Sverey 054952023s.  Reported BysCyathia Thertault WDFRCPC         PAGE:2 -JFilRianwiggs         )R9nemareornsrneUe  May11202312:59PM: Maycontalnconfldentialinfo Page2of2    ReceivedTimeMay..20231:09PMNo.8783    ENDOFDOCUMENT    i : -08- : moe Page:23  Printedon: 2024- 08 01 14:17 PROTEGEB g  Printedby:NataliePaille

Option 2 (PSM 6):     NationalDith   UsL)Gerencenationale PROTECTEDB CFHSISSFC   Patient:(   Scan-MammoDIAGNOSTIC DocumentDate:2023-05-05  05(11f202312:07PM5063577051 HIGGS . PAGE 04f04   May062023MAMMO-Diagnostic  DEPARIMENT.OFDIAGNOSPICTHAGING 4 )  HORIZONBRALTHNETHWORR   . Prederistonand.UpperRiverValieyAres . :  Unitf: RequestingsHiggeFillian .  x J . . . fem 5 .   - . TS .  EXOHE8--TYPBExaw a -- BXAKDATE  JOG2EANESRADMAMMGGRAM-DIAGNOSTKCBrRATo8f0523 .   wiliion Higgs . :  . BiggsTillian.ND.CCrp . . .  eREPORTSIONEDTHCHHERVENDOR.SYSREM054052023a6.  ReportedBy:CynthiaTheriault.MD.FRCPC  . . . 1 . . . :  . . . . . % .  PAGE:2 -JiltianBigge oS  RecelvedTimeMay.1.1.20231:09PMNo.8783  ENDOFDOCUMENT  Printedby:NataliePaille

Option 3 (PSM 11):     NationalODdifonse    Ls    Defence    rationale    PROTECTEDB    CFHSSSFC    Patient    Scan-MammoDIAGNOSTIC    Document Date: 2023-05-05    0511f202312:07PM5063577051    HIGaS    PAGE04704    May062023MAMMO-Diagnostic    DSPARTMENT.OFDIAGNOSTTeIMAgING    HORIZONBEALTE    BH    Predericton and. Upper Rdver-ValieyAres    Hames    Unitfr    Medi    BOB:    Band    RGquestings    anity(MD) 2    NODOr:    eae aaa    SEX:    Location:    -    AgatNumber:    I    J0G26A069RADMAMMOORAM-DIAGNOSTICBILAT    DATE    a8f0523    GillianHiggs    RiggsTitlianND.cdryp    eREPORTSIGHEDINCHIER    VENDOR.    8Sverey aa 052023w    Reported BysCyathia Thertault YD.FR    PAGE:2    FillianHigge    OaurarwyrmarurermrerrnUr    M    lay11202312: 59 at    Maycontainconfidentialinfo    Pags2of2    HichhMk091-404.    2023    ReceivedTime May.1l.    1:09PMNo.8783    ENDOFDOCUMENT    Printedon    2024-08-0114:17    Page:23    PROTEGEB    Printedby    NataliePaille
2025-02-21 18:49:35,498 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:49:35,504 - INFO - Raw API Response:
{
  "patient_name": "NP Patricia Malott",
  "exam_date": "2021-12-23",
  "birads_right": 0,
  "birads_left": 0,
  "impressions": "BILATERAL DIAGNOSTIC MAMMOGRAPHY WITH TOMOSYNTHESIS-IMPLANTS, ULTRASOUND RIGHT BREAST",
  "findings": "",
  "follow_up_recommendation": "",
  "confidence": {
    "patient_name": 1.0,
    "exam_date": 1.0,
    "birads_right": 0.3,
    "birads_left": 0.3,
    "impressions": 1.0,
    "findings": 0.0,
    "follow_up_recommendation": 0.0
  }
}
2025-02-21 18:49:35,754 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:49:35,881 - INFO - Raw API Response:
{
  "patient_name": {
    "value": "Jillian Higgs",
    "confidence": {
      "text": 0.95,
      "medical": 0.99
    }
  },
  "exam_date": {
    "value": "2023-05-06",
    "confidence": {
      "text": 0.95,
      "date": 0.99
    }
  },
  "birads_right": null,
  "birads_left": null,
  "impressions": {
    "value": "Prediction and Upper River Valley Areas",
    "confidence": {
      "text": 0.9,
      "medical": 0.8
    }
  },
  "findings": {
    "value": "Hames Unitfr Medi BOB: Band RGquestings anity(MD) 2 NODOr: eae aaa SEX: Location: - AgatNumber: I JOG26A069RADMAMMOORAM-DIAGNOSTICBILAT DATE a8f0523 GillianHiggs RiggsTitlianND.cdryp",
    "confidence": {
      "text": 0.7,
      "medical": 0.6
    }
  },
  "follow_up_recommendation": null,
  "confidence": {
    "patient_name": 0.97,
    "exam_date": 0.97,
    "birads_right": 0,
    "birads_left": 0,
    "impressions": 0.85,
    "findings": 0.65,
    "follow_up_recommendation": 0
  }
}
2025-02-21 18:49:47,414 - INFO - LLM Prompt:
You are an expert in medical document processing, specializing in mammogram reports. Extract the following fields:
- Patient name (title case, correct fused words like 'PatientName' to 'Patient Name')
- Exam date (YYYY-MM-DD, correct formats like '23Dec2021')
- BIRADS score for the right breast (0-6)
- BIRADS score for the left breast (0-6)
- Clinical impressions
- Key findings (include measurements and locations)
- Follow-up recommendations

Correct OCR errors, prioritize medical terminology, and handle varied labels. For each field, provide a confidence score (0-1). Return valid JSON with keys: 
patient_name, exam_date, birads_right, birads_left, impressions, findings, 
follow_up_recommendation, and a 'confidence' sub-object with scores for each field.

Text:
Score each OCR option (1-10) for coherence and medical field presence. Return JSON with 'scores': [int, ...].

Option 1 (PSM 3):     Oesaeeeterete PROTECTEDB CFHSISSFC    Patient:  Scan-Mammo(B)Diagnostic DocumentDate:2021-12-23    122H26234B-18PM. MCMedicalImagng TeA7BNS7Ad184Msq9974241Pagelot2               MEDICALIMAGING    NPPatriciaMalott  CFB-Edmonton  POBOX10500STNFORCES  EdmontonABT5J4J5    ExamDate: 23Dec2021   Exam4:  Phone:(780)973-4011 ae -  FAX:7809734184 Location: Southpointe    HISTORY:Intermittentpaininrightbreast.Historyaugmentation    BILATERALDIAGNOSTICMAMMOGRAPHYWITHTOMOSYNTHESIS-IMPLANTS  ULTRASOUNDRIGHTBREAST    History:Thepatientdescribesintermittentpainintherightbreastapproximately9  oclackthelastsixmonths.Nopersonalorfamilyhistoryofbreastcancer.    Mammogram:  Thisisabaselinestudy.  Thebackgroundbreastparenchymaisalmostentirelyfatreplaced(ACRcategoryA).    Bilateralretropectoralsiliconeimplantsareseen.Theseappearintactwithanormal  i contour.    Nosuspiciousmass.architecturaldistortionorsuspiciousmicracalcificationsineither  breast.    Ultrasound:    Ultrasoundofthepatientsareaofpaindemonstratesnormalbreasttissuewithno  suspiciousabnormality.    IMPRESSION:Nomammographicorsonographicevidenceofmalignancy.No  worrisomeabnormalitytoaccountforthepatientsconcerns.    BI-RADS:1:Negative.  Recommendation(s): Screening mammographyrecommendedin7year.    ElectronicallySigned:Dr.HectorAguilar.FRCPC122320213:33PMMST    Page1of2    Printedon:2022-09-0907:51    ne Page:17  oe PROTEGEB 9  Printedby:NataliePaille

Option 2 (PSM 6):     NationalDdifenea  LseLSetencerationale PROTECTEDB CFHSISSFC  Patient:(  Scan-Mammo(B)Diagnostic DocumentDate:2021-12-23  122H26234B18PM 142Medicallmagng TeA7KNS7A418AMsq9974241Pagelol2  1  MEDICALIMAGING  NPPatriciaMalott :  CFB-Edmonton  POBOX10500STNFORCES  Edmonton.ABT5J4J6 ExamDate: 23Dec2021  Phone:(780)973-4011 Exar )  FAX:7809734184 ocation: outhpointe  HISTORY:Intermittentpaininrightbreast.Historyaugmentation  BILATERALDIAGNOSTICMAMMOGRAPHYWITHTOMOSYNTHESIS-IMPLANTS  ULTRASOUNDRIGHTBREAST  History:Thepatientdescribesintermittentpainintherightbreastapproximately9  oclackthelastsixmonths.Nopersonalorfamilyhistoryofbreastcancer.  . Mammogram:  Thisisabaselinestudy.  Thebackgroundbreastparenchymaisalmostentirelyfatreplaced(ACRcategoryA).  Bilateralretropectoralsiliconeimplantsareseen.Theseappearintactwithanormal  contour.  Nosuspiciousmass.architecturaldistortionorsuspiciousmicracalcificationsineither  breast.  Ultrasound:  Ultrasoundofthepatientsareaofpaindemonstratesnormalbreasttissuewithno  suspiciousabnormality. .  IMPRESSION:Nomammographicorsonographicevidenceofmalignancy.No  worrisomeabnormalitytoaccountforthepatientsconcerns.  BI-RADS:1:Negative.  Recommendation(s): Screening mammographyrecommendedin7year.  ElectronicallySigned:Dr.HectorAguilar.FRCPC122320213:33PMMST  Page1of2  Printedon:2022-09-0907:51 ee Page:17  nome PROTEGEB g  Printedby:NataliePaille

Option 3 (PSM 11):     NationalODdifonse
2025-02-21 18:49:48,532 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:49:48,784 - INFO - Raw API Response:
{
  "patient_name": "NP Patricia Malott",
  "exam_date": "2021-12-23",
  "birads_right": 1,
  "birads_left": 1,
  "impressions": "No mammographic or sonographic evidence of malignancy. No worrisome abnormality to account for the patient's concerns.",
  "findings": "Bilateral diagnostic mammography with tomosynthesis-implants. Ultrasound right breast. The patient describes intermittent pain in the right breast approximately 9 o'clock the last six months. No personal or family history of breast cancer. The background breast parenchyma is almost entirely fat replaced (ACR category A). Bilateral retropectoral silicone implants are seen. These appear intact with a normal contour. No suspicious mass, architectural distortion, or suspicious microcalcifications in either breast. Ultrasound of the patient's area of pain demonstrates normal breast tissue with no suspicious abnormality.",
  "follow_up_recommendation": "Screening mammography recommended in 7 years.",
  "confidence": {
    "patient_name": 0.9,
    "exam_date": 1.0,
    "birads_right": 1.0,
    "birads_left": 1.0,
    "impressions": 0.9,
    "findings": 0.8,
    "follow_up_recommendation": 1.0
  }
}
2025-02-21 18:49:52,528 - INFO - LLM Prompt:
You are an expert in medical document processing, specializing in mammogram reports. Extract the following fields:
- Patient name (title case, correct fused words like 'PatientName' to 'Patient Name')
- Exam date (YYYY-MM-DD, correct formats like '23Dec2021')
- BIRADS score for the right breast (0-6)
- BIRADS score for the left breast (0-6)
- Clinical impressions
- Key findings (include measurements and locations)
- Follow-up recommendations

Correct OCR errors, prioritize medical terminology, and handle varied labels. For each field, provide a confidence score (0-1). Return valid JSON with keys: 
patient_name, exam_date, birads_right, birads_left, impressions, findings, 
follow_up_recommendation, and a 'confidence' sub-object with scores for each field.

Text:
Score each OCR option (1-10) for coherence and medical field presence. Return JSON with 'scores': [int, ...].

Option 1 (PSM 3):          Patient:  Scan-MammoDIAGNOSTIC         0511202312:07PM5063677051    May05.2023MAIMMO-Diagnostic  a  DEPADTHRAT oF DIAGNOSES THAGING    SORIZCNARALTE  Predesicton andUpp Upper. orRives ValleyArea.    Bemar.  unit1  BOB:    SEXe Fe    ir antiegs    PROTECTEDB    DocumentDate:2023-05-05    HIGGsS . oe -PAGE-0804  : . .  Lf  Medigarar  Requesting: gg8Tillian  Eaniiy.(4D):ODOCTOR  Locations D.RAD  AdotNumbers         66Broadst  Oromocko yBBav 402.    RAM TROKEXAM. ERAMDATE.  306264069RAD(MBMMOGRAM -prietoarie BILAT.05f0523  TillianFiggs    a    Indleation:2-yearscveeningmammogram.Silateralbreastimplante.    Reference study:Previous imaging Ancliuding the mammogram Erom the    162022. 1  Finaings:. :    .Botlibreastswereimaged wlth stendaxd2 andpushedbactk views    Thebreastparenchyma 8heteragenaonslydense.categoryC.No  worriaone xegionsofarobitestural Giatoxrtion suspicious ciustexsof  suspicious Gaielfications.or abnormal mass tesions are identified.    Anpreesion:  Stable mammogram. Mammographicaliy    Cynthia theriault MD: -PRCPC    negativeformalignency.    eeTHISISAN.BLECTRONTCALTY VERIPIRD REPORTa2  050520234:43BN:Cynthia theriault.MD.FRUBC    at auesee1a)f14923420  .RateDictated:O5-May2023.04:43.pm.    DateTranseribed: 05-May-2023 4:43:on    I  WilitanKiggh    4    PASE1    May112023 12:59 as    Wien-AIDNatcon    ReceivedlimeMay.11.2023.1:09PM No.8783    2024-08-0114:17  NataliePaille    Printedon:  Printedby:    Maycontainconfidenttalinfo    iCONTINGED):    Page1of2    PROTEGEB    CFHSSSFC    Page:22

Option 2 (PSM 6):     NationalCxifensa  UsL)Gerencenationale PROTECTEDB CFHSISSFC  Patient:(  Scan-MammoDIAGNOSTIC DocumentDate:2023-05-05  0511202312:07PM5063577051 .. HIGGS : . : PAGE03f04  May05.2023MAMIMO-Diagnostic CO  DEPARTMENEOFDIAGNOBTTGTHAGTNG- Lo  HORIZONBRALTANETWORE . -. L  Predesicton:andUpper. River VaileyArea. : :  Momac- Medigarar -- .  anitf. Requesting: ggs87illian : i  BOB: Eaniiy.(4D):35ODOCTOR :  : SEX:- F : Location: D.RAD : :  TkilianBLegs : eee  66Broadst. oo.  Oramocko6BBav 402.  .CRMAMHRYRRSERAM0s ..sBRAMDATE  306264069RADSMAMMOGRAM DIAGNOSTIC BIZAT.05f0623 :  a Tndication: E-year soveening namnegram. Bllateralbreastimplante.  Reference study:freviouaimaging including themammogramEromthe  -202022. : . . a : . .  .Bothbreastswereimaged withstandaxdandpushedbadk views. .   . Thebreastparenchyma 8heteragenaonslydense.categoryC.No  worriaonexagionaofdrohitesturalaistortion.suspicionaclustexsof  suspiciouscalcificationsorabnormglvieaslesionsareidentified. .   . Impression: - oe  Stablemanmogram.Mammographically negativefor malignancy.  CynthiaTheriault.pp:PROPE ae  eeeTHISISAN.BLECTROMICALIYYERIPIRDREPQRT2%7 :  0505202343:43PM:CynthiaTheriault.MD.FRUPC  ot auez6833f14423420 . .  .PateDictateds05-May42033.04:43.pm. 7 5 .  : DateTranscribed: 05-May-2023 4243:jon : . Lo  . . i . . a . :  . i 
2025-02-21 18:49:53,114 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:49:53,134 - INFO - Retrying request to /openai/v1/chat/completions in 8.000000 seconds
2025-02-21 18:49:53,623 - INFO - LLM Prompt:
You are an expert in medical document processing, specializing in mammogram reports. Extract the following fields:
- Patient name (title case, correct fused words like 'PatientName' to 'Patient Name')
- Exam date (YYYY-MM-DD, correct formats like '23Dec2021')
- BIRADS score for the right breast (0-6)
- BIRADS score for the left breast (0-6)
- Clinical impressions
- Key findings (include measurements and locations)
- Follow-up recommendations

Correct OCR errors, prioritize medical terminology, and handle varied labels. For each field, provide a confidence score (0-1). Return valid JSON with keys: 
patient_name, exam_date, birads_right, birads_left, impressions, findings, 
follow_up_recommendation, and a 'confidence' sub-object with scores for each field.

Text:
Score each OCR option (1-10) for coherence and medical field presence. Return JSON with 'scores': [int, ...].

Option 1 (PSM 3):     Oesaeeeterete PROTECTEDB CFHSISSFC    Patient(  Scan-MammoBilat DocumentDate:2023-12-05    (af4s:2502-08-2023T2terve2i23  12(87202312:44:02EST To:14188446671 Page:2(2    CLINIQUERADIOLOGIQUEAUDET    CITEVERTE  1180.ruedesSoeurs-du-Bon-Pasteur.bureau240  Qubec(Quebec)G1S0B1  T6l.:(418)681-6121-Telec:(418)681-0125    DrFREDERIQUEFERLAND  Basemilitaire6difice109C.P1000SuccForces    COURCELETTE  PROTOCOLEDIMAGERIEMEDICALE    Quebec  GOA4Z0  Ndevisite:20231205-105 Datedexamen:2023-12-05  Ndedossier:0806655    DicteeparAlexisBeland.resident.    Signenonrelu    Admispar: ALL   Dicteele: 2023-12-06   Transeritfe: 2023-12-08 cp)   Transeritpar: JULIELAROCHE   Referant: DrFREDERIQUEFERLAND DrYVESLOISEL YLysjl  ee: DrGUYCANTIN Page:2sur2    Dansunbutdeconfidentialitesicedocumentvousa6t6transmisparerreursilvousplait  communiquezavecnousau418-681-6721poste226    Printedon:2024-06-1714:36  Printedby:JuliaHarchun    PROTEGEB Page:30

Option 2 (PSM 6):     NationalCxifensa  LsrL)Betencenationale PROTECTEDB CFHSSSFC  Patientd  Scan-MammoBilat DocumentDate:2023-12-05  12(87202312:44:02EST To:14188446671 Page:2)2  CLINIQUERADIOLOGIQUEAUDET  CITEVERTE  1180.ruedesSoeurs-du-Bon-Pasteur.bureau240  Quebec(Quebec)G1S0B4  T6l.:(418)6B1-6121-Telec:(418)681-0125  DrFREDERIQUEFERLAND  Basemilitairedifice109C.P1000SuccForces  COURCELETTE  Quebec :  GOA4Z0  PROTOCOLEDIMAGERIEMEDICALE  Ndevisite:20231205-105 Datedexamen:2023-12-06  Ndedossier:0806655  DicteeparAlexisBeland.resident.  Signenonrelu  Admispar: ALL  Dicidele: 2023-12-06  Transcritle: 2023-12-08  Transeritpar: JULIELAROCHE  Referant: DrFREDERIQUEFERLAND DrYVESLOISEL YLosi  ec: DrGUYCANTIN Page:2sur2  Dansunbutdeconfidentialitesicedocumentvousa6t6transmisparerreursilvousplait  communiquezavecnousau418-681-6121poste226  Printedon:2024-06-1714:36 ne Page:30  i F PROTEGEB g  Printedby:JuliaHarchun

Option 3 (PSM 11):     NationalODdifonse    Ls    Defence    rationale    PROTECTEDB    CFHSSSFC    Patient.    Scan-MammoBilat    DocumentDate:2023-12-05    (atarascoswa-oa-20232Jte779202263    12f8202312:44:02EST    To:14188446671    Page:2(2    CLINIQUERADIOLOGIQUEAUDET    CITEVERTE    1180.ruedesSoeurs-du-Bon-Pasteur.bureau240    Qudbec(Quebec)G1S0B1    T6l.:(418)681-6121-Telec:(418)681-0125    DrFREDERIQUEFERLAND    Basemilitaire6difice109C.P1000SuccForces    COURCELETTE    Quebec    GOA4Z0    Ndevisite:    20231205-105    Datedexamen:    2023-12-05    Ndedossier:    0806655    DicteeparAlexisBeland.resident.    Signenonrelu    Admispar:    ALL    Dicteele:    2023-12-06    Transcritfe:    2023-12-08    Transeritpar:    JULIELAROCHE    c-D    Referant:    OrFREDERIQUEFERLAND    DrYVESLOISEL    YLsjl    cc.    DrGUYCANTIN    Page:2sur2    Dansunbutdeconfidentialitesicedocumentvousa6t6transmisparerreursilvousplait    communiquezavecnousau418-681-6121poste226    Printedon:    2024-06-1714:36 
2025-02-21 18:49:53,990 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:49:54,004 - INFO - Retrying request to /openai/v1/chat/completions in 9.000000 seconds
2025-02-21 18:50:02,800 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:50:03,035 - INFO - Raw API Response:
{
  "patient_name": {
    "value": "Tillian Figgs",
    "confidence": {
      "patient_name": 0.95
    }
  },
  "exam_date": {
    "value": "2023-05-05",
    "confidence": {
      "exam_date": 1
    }
  },
  "birads_right": 0,
  "birads_left": 0,
  "impressions": {
    "value": "Stable mammogram. Mammographically negative for malignancy.",
    "confidence": {
      "impressions": 0.95
    }
  },
  "findings": {
    "value": "Both breasts were imaged with standard axial and pushed back views. The breast parenchyma is heterogeneously dense, category C. No worrisome areas of distortion or suspicious clusters of calcifications or abnormal growths are identified.",
    "confidence": {
      "findings": 0.9
    }
  },
  "follow_up_recommendation": {
    "value": "2-year screening mammogram.",
    "confidence": {
      "follow_up_recommendation": 0.9
    }
  },
  "confidence": {
    "patient_name": 0.95,
    "exam_date": 1,
    "birads_right": 0.5,
    "birads_left": 0.5,
    "impressions": 0.95,
    "findings": 0.9,
    "follow_up_recommendation": 0.9
  }
}
2025-02-21 18:50:03,764 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:50:03,764 - INFO - Retrying request to /openai/v1/chat/completions in 24.000000 seconds
2025-02-21 18:50:14,668 - INFO - LLM Prompt:
You are an expert in medical document processing, specializing in mammogram reports. Extract the following fields:
- Patient name (title case, correct fused words like 'PatientName' to 'Patient Name')
- Exam date (YYYY-MM-DD, correct formats like '23Dec2021')
- BIRADS score for the right breast (0-6)
- BIRADS score for the left breast (0-6)
- Clinical impressions
- Key findings (include measurements and locations)
- Follow-up recommendations

Correct OCR errors, prioritize medical terminology, and handle varied labels. For each field, provide a confidence score (0-1). Return valid JSON with keys: 
patient_name, exam_date, birads_right, birads_left, impressions, findings, 
follow_up_recommendation, and a 'confidence' sub-object with scores for each field.

Text:
Score each OCR option (1-10) for coherence and medical field presence. Return JSON with 'scores': [int, ...].

Option 1 (PSM 3):     Oesaeeeterete PROTECTEDB CFHSISSFC    Patient:  Scan-MammoBilat DocumentDate:2023-12-05    12:45:2012-08-2023 L11 18779212243    42(8(202312:44:02EST To:14188446671 Pape:12  CLINIQUERADIOLOGIQUEAUDET  CITEVERTE    1180.ruedesSceurs-du-Bon-Pasteur.bureau240  Quebec(Quebec)G1S084  Tal.:(418)681-6121-Teldc:(418)681-0125    DrFREDERIQUEFERLAND  Basemilitaire6difice109C.P1000SuccForces  COURCELETTE   Quebec   GOA420    PROTOCOLEDIMAGERIEMEDICALE    Ndevisite:20231205-105 Datedexamen:2023-12-05  Ndedossier:    MAMMOGRAPHIEDIAGNOSTIQUEAVECTOMOGRAPHIE  Comparatifavecdestudesded6cembre2019adecembre2022.   Constatations   Statutpost-mastectomiesegmentairedroiten2017.  Parenchymemammiairepeudense.Pasdavidencederecidivetumoraleouniveaudelacicatricede  mastectomiesegmentaireducdtedroit.Parrapportaudernierexamenifnestpasapparude  microcatcificationsuspecte.masseoudistorsionarchitecturalealatomosyntheseetceauniveaudesdeux  seins.   ClicheCCexagerelateraldroitobtenu.   Conclusion   Pasdevidencedemaligniteauniveaudesdeuxseins.   BI-RADS2.    Mammographiededepistagesugg6reedansunanvulesantecedentspersonnelsdelapatiente.    ReviseeparDrYvesLoiselradiologiste.    Signgnonrelu    Admispar: ALL   Dicteele: 2023-12-06   Transeritle: 2023-12-08 cp)   Transcritpar: JULIELAROCHE   Referant: DrFREDERIQUEFERLAND DrYVESLOISEL YLit  ec:DrGUYCANTIN Page:4sur2 RECU LE    Dansunbutdeconfidentialitesicedocumentvousa6t6transmisparerreursilvousplait4 4QEC.2023  communiquezaveenousau418-681-6121poste226  Archivesmedicales  CentresanteValcartiar    Printedon:2024-06-1714:36    -GE Page:29  Printedby:JuliaHarchun PROTEGEB

Option 2 (PSM 6):     NationalDdifenea  LiL)Serencenationale PROTECTEDB CFHSISSFC  Patient)  Scan-MammoBilat DocumentDate:2023-12-05  12(8)202312:44:02EST To:14188446671 Page:12  CLINIQUERADIOLOGIQUEAUDET  CITEVERTE  1180.ruedesSceurs-du-Bon-Pasteur.bureau240  Quebec(Quebec)G1S084  TOl:(418)681-6121-Telec:(418)681-0125  DrFREDERIQUEFERLAND  Basemilitaireedifice109C.P1000SuceForces  COURCELETTE  Quebec  GOA420  PROTOCOLEDIMAGERIEMEDICALE  Ndevisite:20231205-105 Datedexamen:2023-12-05  Ndedossier:(LJ  MAMMOGRAPHIEDIAGNOSTIQUEAVECTOMOGRAPHIE  Comparatifavecdestudesded6cembre2019adecembre2022.  Constatations :  Statutpost-mastectomiesegmentairedroiten2017.  Parenchymemammiairepeudense.Pasdavidencederecidivetumoraleouniveaudelacicatricede  mastectomiesegmentaireducdtedroit.Parrapportaudernierexamenifnestpasapparude  microcatcificationsuspecte.masseoudistorsionarchitecturalealatomosyntheseetceauniveaudesdeux  seins.  ClicheCCexagerelateraldroitobtenu.  Conclusion  Pasdevidencedemaligniteauniveaudesdeuxseins.  BI-RADS2.  Mammographiededepistagesugg6reedansunanvulesantecedentspersonnelsdelapatiente.  ReviseeparDrYvesLoiselradiologiste.  Signgnonrelu  Admispar: ALL  Dicteele: 2023-12-06  Transeritla: 2023-12-08 .  Transcritpar: JULIELAROCHE  Re
2025-02-21 18:50:15,417 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:50:15,560 - INFO - Retrying request to /openai/v1/chat/completions in 11.000000 seconds
2025-02-21 18:50:22,781 - INFO - LLM Prompt:
You are an expert in medical document processing, specializing in mammogram reports. Extract the following fields:
- Patient name (title case, correct fused words like 'PatientName' to 'Patient Name')
- Exam date (YYYY-MM-DD, correct formats like '23Dec2021')
- BIRADS score for the right breast (0-6)
- BIRADS score for the left breast (0-6)
- Clinical impressions
- Key findings (include measurements and locations)
- Follow-up recommendations

Correct OCR errors, prioritize medical terminology, and handle varied labels. For each field, provide a confidence score (0-1). Return valid JSON with keys: 
patient_name, exam_date, birads_right, birads_left, impressions, findings, 
follow_up_recommendation, and a 'confidence' sub-object with scores for each field.

Text:
NationalODdifonse is Defence rationale protected
CFHSSSFC patient Scan-MAMMO - (B)Diagnostic DocumentDate: 2021-12-28
1372320213:50:43PM MICMeccallmaging To97809724184Msg9974241.PegeZof2 i % ee 40 e of 8 lo
IMAGING NPPatriciaMalott CFB-Edmonton
POBOX10500STNFORCES EdmontonABT5J4J5 ExamDate: 23Dec2021 exam Phone:(780)973-4011 location Southpointe
FAX:7809734184
BILATERALDIAGNOSTICMAMMO - GRAPHYWITHTOMOSYNTHESIS-IMPLANTS
ULTRASOUNDRIGHTBREAST Questionsaboutthisreport Orderingphysiciansmaycontacttheradiologistat1-844-642-4723(1-844-MIC-4RAD). Page2of2 Printedon: 2022-09-01-0907:51 Page:18 protege Printedby: NataliePaille
2025-02-21 18:50:24,535 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:50:24,869 - INFO - Raw API Response:
{
  "patient_name": {
    "value": "Patricia Malott",
    "confidence": {
      "patient_name": 1
    }
  },
  "exam_date": {
    "value": "2021-12-23",
    "confidence": {
      "exam_date": 1
    }
  },
  "birads_right": {
    "value": null,
    "confidence": {
      "birads_right": 0
    }
  },
  "birads_left": {
    "value": null,
    "confidence": {
      "birads_left": 0
    }
  },
  "impressions": {
    "value": "BILATERAL DIAGNOSTIC MAMMOGRAPHY WITH TOMOSYNTHESIS-IMPLANTS",
    "confidence": {
      "impressions": 1
    }
  },
  "findings": {
    "value": "N/A",
    "confidence": {
      "findings": 0
    }
  },
  "follow_up_recommendation": {
    "value": "Ordering physicians may contact the radiologist at 1-844-642-4723 (1-844-MIC-4RAD).",
    "confidence": {
      "follow_up_recommendation": 1
    }
  },
  "confidence": {
    "patient_name": 1,
    "exam_date": 1,
    "birads_right": 0,
    "birads_left": 0,
    "impressions": 1,
    "findings": 0,
    "follow_up_recommendation": 1
  }
}
2025-02-21 18:50:24,869 - ERROR - Error processing page 2 of Eng Example 2.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 96, in process_single_page
    structured_data, warnings = ocr_utils.extract_fields_from_text(extracted_text)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\.\src\ocr_utils.py", line 381, in extract_fields_from_text
    if field in missing_fields and (match := re.search(pattern, text, re.DOTALL)):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 201, in search
    return _compile(pattern, flags).search(string)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 304, in _compile
    p = sre_compile.compile(pattern, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_compile.py", line 788, in compile
    p = sre_parse.parse(p, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 955, in parse
    p = _parse_sub(source, state, flags & SRE_FLAG_VERBOSE, 0)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 444, in _parse_sub
    itemsappend(_parse(source, state, verbose, nested + 1,
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 843, in _parse
    raise source.error("missing ), unterminated subpattern",
re.error: missing ), unterminated subpattern at position 52
2025-02-21 18:50:27,443 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:50:27,444 - INFO - Retrying request to /openai/v1/chat/completions in 11.000000 seconds
2025-02-21 18:50:28,302 - INFO - LLM Prompt:
You are an expert in medical document processing, specializing in mammogram reports. Extract the following fields:
- Patient name (title case, correct fused words like 'PatientName' to 'Patient Name')
- Exam date (YYYY-MM-DD, correct formats like '23Dec2021')
- BIRADS score for the right breast (0-6)
- BIRADS score for the left breast (0-6)
- Clinical impressions
- Key findings (include measurements and locations)
- Follow-up recommendations

Correct OCR errors, prioritize medical terminology, and handle varied labels. For each field, provide a confidence score (0-1). Return valid JSON with keys: 
patient_name, exam_date, birads_right, birads_left, impressions, findings, 
follow_up_recommendation, and a 'confidence' sub-object with scores for each field.

Text:
Score each OCR option (1-10) for coherence and medical field presence. Return JSON with 'scores': [int, ...].

Option 1 (PSM 3):     Natio  LseLSetencerationale PROTECTEDB CFHSISSFC  Patient:   Scan-Mammo-MammoBilateraledeDepistage DocumentDate:2022-02-23    TTisasasoa-or-zoz2Ttesoscan  P-Mar-282215:37 450-671-9284 RESOSCAN pel          ResoScan 2084.Houl.Tascheresu.%:102    GraantialdPark.14V2G5    CHIM:tazasayart-ciza  nae . . Inforesoxcin.com.  Centredimageriemedicalewww-resoscan.com    DREMARIE-JOSEEFONTAINE  CP600SUCCK   MONTREAL   H1N8R2    PROTOCOLEDIMAGERIEMEDICALE    Dateexamen(s):Mercredile23favrier2022 20220223-006  Rens.cliniques:A36890155         Pasdecomparatif.    Constatations:         LapatienterapporteuneradiographiepasseaMontrealem2021.Jenedisposepasde  comparatifdansleDSQ.    Seinsdedensitesmoderges2importantes.macro-nedulairesnonmasquants.actuellementsans  lesionvolutivesuspecte.nidistorsion.nicalcificationetcebilateralement.Lensernbleest  BIRADS1.    RESULE  -03-082022  ARCHIVESS-)    Datedetranseription:2022-03-07JC         Dateaimprassion: 2022-03-07  Datedamodification:2022-03-07JC  Copieconforme: DRKATALINFULOP    COPIEMEDECINREFERANT Page1da4    Anosmedecinsreferentspourdavantagedinformationsnhesitezpas4nouscommuniquer    watenarienoenencrvinlaesinfaniienencnannam    Printedon:2024-10-2508:05  Printedby:NataliePaille    PROTEGEB Page:14

Option 2 (PSM 6):     NationalCxifensa  UsL)Gerencenationale PROTECTEDB CFHSISSFC  Patientd  Scan-Mammo-MammoBilateraledeDepistage DocumentDate:2022-02-23  7-Mar-282215:374508-671-9204 RESOSCAN pel :   ly ResoScan 2084.Houl.Tascheresu.%:102 :   GraanfialdPark14V2G8 .  CHIM:tazasayart-ciza  nae . Inforesoxcin.com.   Centredimageriemedicalewww-rasoscan.camn  DREMARIE-JOSEEFONTAINE :  CP600SUCCK :   MONTREAL :  HiN3R2  PROTOCOLEDIMAGERIEMEDIGALE  Dateexamen(s):Mercredile23favrier2022 20220223-006  Rens.cliniques:A36890155  Pasdecomparatif.  Constatations: .  LapatienterapporteuneradiographiepasseaMontrealem2021.Jenedisposepasde  comparatifdansleDSQ.  Seinsdedensitesmoderges2importantes.macro-nedulairesnonmasquants.actuellementsans  lesionvolutivesuspecte.nidistorsion.nicalcificationetcebilateralement.Lensernbleest :   BIRADS1.   RESULE   -03-082022   ARCHIVESS-) )   Datademiodification:2022-03-07JC wo :  Copieconforme: DRKATALINFULOP   COPIEMEDECINREFERANT Page1da4 :   Anosmedecinsreferentspourdavantagedinformationsnhesitezpas4nouscommuniquer  watenardeneenentievintase:infanienenenannam   io PROTEGEB 9  Printedby:NataliePaille

Option 3 (PSM 11):     NationalODdifonse    Ls    Defence    rationale    PROTECTEDB    CFHSSSFC    Patient:    Scan-Mammo-MammoBilateraledeDepistage    DocumentDate:2022-02-23    eens    TTisasasoa-or-zoz2Ttesoscan    7-Mar-2822915:37    450-671-9284    RESOSCAN    pel    a    ResoScan 2084.Houl.Tascheresu.%:102    raantialdPark14V2G8    clm    Tah:(450f-671-6173    Centredimageriemedicalewww-rasoscan.camn    infaresoxedn.coin.    DREMARIE-JOSEEFONTAINE    CP600SUC
2025-02-21 18:50:28,905 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:50:28,920 - ERROR - LLM extraction failed: Error code: 429 - {'error': {'message': 'Rate limit reached for model `mixtral-8x7b-32768` in organization `org_01jjr06gvjepht8gfgh9726zm6` service tier `on_demand` on tokens per minute (TPM): Limit 5000, Used 4078, Requested 1823. Please try again in 10.806s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing', 'type': 'tokens', 'code': 'rate_limit_exceeded'}}
2025-02-21 18:50:28,968 - WARNING - Rate limited, retrying...
2025-02-21 18:50:29,372 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:50:29,372 - INFO - Retrying request to /openai/v1/chat/completions in 9.000000 seconds
2025-02-21 18:50:35,196 - INFO - LLM Prompt:
You are an expert in medical document processing, specializing in mammogram reports. Extract the following fields:
- Patient name (title case, correct fused words like 'PatientName' to 'Patient Name')
- Exam date (YYYY-MM-DD, correct formats like '23Dec2021')
- BIRADS score for the right breast (0-6)
- BIRADS score for the left breast (0-6)
- Clinical impressions
- Key findings (include measurements and locations)
- Follow-up recommendations

Correct OCR errors, prioritize medical terminology, and handle varied labels. For each field, provide a confidence score (0-1). Return valid JSON with keys: 
patient_name, exam_date, birads_right, birads_left, impressions, findings, 
follow_up_recommendation, and a 'confidence' sub-object with scores for each field.

Text:
Score each OCR option (1-10) for coherence and medical field presence. Return JSON with 'scores': [int, ...].

Option 1 (PSM 3):     Oesaeeeterete PROTECTEDB CFHSISSFC    Patient(  Scan-MammoBilat DocumentDate:2023-12-05    (af4s:2502-08-2023T2terve2i23  12(87202312:44:02EST To:14188446671 Page:2(2    CLINIQUERADIOLOGIQUEAUDET    CITEVERTE  1180.ruedesSoeurs-du-Bon-Pasteur.bureau240  Qubec(Quebec)G1S0B1  T6l.:(418)681-6121-Telec:(418)681-0125    DrFREDERIQUEFERLAND  Basemilitaire6difice109C.P1000SuccForces    COURCELETTE  PROTOCOLEDIMAGERIEMEDICALE    Quebec  GOA4Z0  Ndevisite:20231205-105 Datedexamen:2023-12-05  Ndedossier:0806655    DicteeparAlexisBeland.resident.    Signenonrelu    Admispar: ALL   Dicteele: 2023-12-06   Transeritfe: 2023-12-08 cp)   Transeritpar: JULIELAROCHE   Referant: DrFREDERIQUEFERLAND DrYVESLOISEL YLysjl  ee: DrGUYCANTIN Page:2sur2    Dansunbutdeconfidentialitesicedocumentvousa6t6transmisparerreursilvousplait  communiquezavecnousau418-681-6721poste226    Printedon:2024-06-1714:36  Printedby:JuliaHarchun    PROTEGEB Page:30

Option 2 (PSM 6):     NationalCxifensa  LsrL)Betencenationale PROTECTEDB CFHSSSFC  Patientd  Scan-MammoBilat DocumentDate:2023-12-05  12(87202312:44:02EST To:14188446671 Page:2)2  CLINIQUERADIOLOGIQUEAUDET  CITEVERTE  1180.ruedesSoeurs-du-Bon-Pasteur.bureau240  Quebec(Quebec)G1S0B4  T6l.:(418)6B1-6121-Telec:(418)681-0125  DrFREDERIQUEFERLAND  Basemilitairedifice109C.P1000SuccForces  COURCELETTE  Quebec :  GOA4Z0  PROTOCOLEDIMAGERIEMEDICALE  Ndevisite:20231205-105 Datedexamen:2023-12-06  Ndedossier:0806655  DicteeparAlexisBeland.resident.  Signenonrelu  Admispar: ALL  Dicidele: 2023-12-06  Transcritle: 2023-12-08  Transeritpar: JULIELAROCHE  Referant: DrFREDERIQUEFERLAND DrYVESLOISEL YLosi  ec: DrGUYCANTIN Page:2sur2  Dansunbutdeconfidentialitesicedocumentvousa6t6transmisparerreursilvousplait  communiquezavecnousau418-681-6121poste226  Printedon:2024-06-1714:36 ne Page:30  i F PROTEGEB g  Printedby:JuliaHarchun

Option 3 (PSM 11):     NationalODdifonse    Ls    Defence    rationale    PROTECTEDB    CFHSSSFC    Patient.    Scan-MammoBilat    DocumentDate:2023-12-05    (atarascoswa-oa-20232Jte779202263    12f8202312:44:02EST    To:14188446671    Page:2(2    CLINIQUERADIOLOGIQUEAUDET    CITEVERTE    1180.ruedesSoeurs-du-Bon-Pasteur.bureau240    Qudbec(Quebec)G1S0B1    T6l.:(418)681-6121-Telec:(418)681-0125    DrFREDERIQUEFERLAND    Basemilitaire6difice109C.P1000SuccForces    COURCELETTE    Quebec    GOA4Z0    Ndevisite:    20231205-105    Datedexamen:    2023-12-05    Ndedossier:    0806655    DicteeparAlexisBeland.resident.    Signenonrelu    Admispar:    ALL    Dicteele:    2023-12-06    Transcritfe:    2023-12-08    Transeritpar:    JULIELAROCHE    c-D    Referant:    OrFREDERIQUEFERLAND    DrYVESLOISEL    YLsjl    cc.    DrGUYCANTIN    Page:2sur2    Dansunbutdeconfidentialitesicedocumentvousa6t6transmisparerreursilvousplait    communiquezavecnousau418-681-6121poste226    Printedon:    2024-06-1714:36 
2025-02-21 18:50:36,040 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:50:36,120 - INFO - Retrying request to /openai/v1/chat/completions in 4.000000 seconds
2025-02-21 18:50:39,494 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:50:39,620 - INFO - Retrying request to /openai/v1/chat/completions in 19.000000 seconds
2025-02-21 18:50:40,369 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:50:40,449 - INFO - Retrying request to /openai/v1/chat/completions in 28.000000 seconds
2025-02-21 18:50:40,544 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:50:40,892 - INFO - Raw API Response:
{
  "patient_name": {
    "value": "Dr Frederique Ferland",
    "confidence": {
      "coherence": 8,
      "medical_field": 9
    }
  },
  "exam_date": {
    "value": "2023-12-05",
    "confidence": {
      "coherence": 10,
      "date_format": 10
    }
  },
  "birads_right": {
    "value": 2,
    "confidence": {
      "coherence": 10,
      "medical_field": 10
    }
  },
  "birads_left": {
    "value": 2,
    "confidence": {
      "coherence": 10,
      "medical_field": 10
    }
  },
  "impressions": {
    "value": "BI-RADS 2",
    "confidence": {
      "coherence": 10,
      "medical_field": 10
    }
  },
  "findings": {
    "value": "Pas de videncede malignite aux deux seins. Parenchyme mammiaire peu dense. Pas de davidencederecidive tumorale ou de nouvelle lsion  l'un ou l'autre sein par rapport au dernier examen. Cliche CC exagr lateral droit obtenu.",
    "confidence": {
      "coherence": 9,
      "medical_field": 10
    }
  },
  "follow_up_recommendation": {
    "value": "Mammographie de dpistage suggre dans un an en l'absence d'antcdents personnels de la patiente.",
    "confidence": {
      "coherence": 10,
      "medical_field": 10
    }
  },
  "confidence": {
    "patient_name": {
      "coherence": 0.9,
      "medical_field": 0.95
    },
    "exam_date": {
      "coherence": 1,
      "date_format": 1
    },
    "birads_right": 1,
    "birads_left": 1,
    "impressions": {
      "coherence": 1,
      "medical_field": 1
    },
    "findings": {
      "coherence": 0.9,
      "medical_field": 1
    },
    "follow_up_recommendation": {
      "coherence": 1,
      "medical_field": 1
    }
  }
}
2025-02-21 18:51:00,107 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:51:00,107 - ERROR - LLM extraction failed: Error code: 429 - {'error': {'message': 'Rate limit reached for model `mixtral-8x7b-32768` in organization `org_01jjr06gvjepht8gfgh9726zm6` service tier `on_demand` on tokens per minute (TPM): Limit 5000, Used 3846, Requested 1650. Please try again in 5.943s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing', 'type': 'tokens', 'code': 'rate_limit_exceeded'}}
2025-02-21 18:51:00,123 - WARNING - Rate limited, retrying...
2025-02-21 18:51:06,368 - INFO - LLM Prompt:
You are an expert in medical document processing, specializing in mammogram reports. Extract the following fields:
- Patient name (title case, correct fused words like 'PatientName' to 'Patient Name')
- Exam date (YYYY-MM-DD, correct formats like '23Dec2021')
- BIRADS score for the right breast (0-6)
- BIRADS score for the left breast (0-6)
- Clinical impressions
- Key findings (include measurements and locations)
- Follow-up recommendations

Correct OCR errors, prioritize medical terminology, and handle varied labels. For each field, provide a confidence score (0-1). Return valid JSON with keys: 
patient_name, exam_date, birads_right, birads_left, impressions, findings, 
follow_up_recommendation, and a 'confidence' sub-object with scores for each field.

Text:
Score each OCR option (1-10) for coherence and medical field presence. Return JSON with 'scores': [int, ...].

Option 1 (PSM 3):     Natio  LseLSetencerationale PROTECTEDB CFHSISSFC  Patient:   Scan-Mammo-MammoBilateraledeDepistage DocumentDate:2022-02-23    TTisasasoa-or-zoz2Ttesoscan  P-Mar-282215:37 450-671-9284 RESOSCAN pel          ResoScan 2084.Houl.Tascheresu.%:102    GraantialdPark.14V2G5    CHIM:tazasayart-ciza  nae . . Inforesoxcin.com.  Centredimageriemedicalewww-resoscan.com    DREMARIE-JOSEEFONTAINE  CP600SUCCK   MONTREAL   H1N8R2    PROTOCOLEDIMAGERIEMEDICALE    Dateexamen(s):Mercredile23favrier2022 20220223-006  Rens.cliniques:A36890155         Pasdecomparatif.    Constatations:         LapatienterapporteuneradiographiepasseaMontrealem2021.Jenedisposepasde  comparatifdansleDSQ.    Seinsdedensitesmoderges2importantes.macro-nedulairesnonmasquants.actuellementsans  lesionvolutivesuspecte.nidistorsion.nicalcificationetcebilateralement.Lensernbleest  BIRADS1.    RESULE  -03-082022  ARCHIVESS-)    Datedetranseription:2022-03-07JC         Dateaimprassion: 2022-03-07  Datedamodification:2022-03-07JC  Copieconforme: DRKATALINFULOP    COPIEMEDECINREFERANT Page1da4    Anosmedecinsreferentspourdavantagedinformationsnhesitezpas4nouscommuniquer    watenarienoenencrvinlaesinfaniienencnannam    Printedon:2024-10-2508:05  Printedby:NataliePaille    PROTEGEB Page:14

Option 2 (PSM 6):     NationalCxifensa  UsL)Gerencenationale PROTECTEDB CFHSISSFC  Patientd  Scan-Mammo-MammoBilateraledeDepistage DocumentDate:2022-02-23  7-Mar-282215:374508-671-9204 RESOSCAN pel :   ly ResoScan 2084.Houl.Tascheresu.%:102 :   GraanfialdPark14V2G8 .  CHIM:tazasayart-ciza  nae . Inforesoxcin.com.   Centredimageriemedicalewww-rasoscan.camn  DREMARIE-JOSEEFONTAINE :  CP600SUCCK :   MONTREAL :  HiN3R2  PROTOCOLEDIMAGERIEMEDIGALE  Dateexamen(s):Mercredile23favrier2022 20220223-006  Rens.cliniques:A36890155  Pasdecomparatif.  Constatations: .  LapatienterapporteuneradiographiepasseaMontrealem2021.Jenedisposepasde  comparatifdansleDSQ.  Seinsdedensitesmoderges2importantes.macro-nedulairesnonmasquants.actuellementsans  lesionvolutivesuspecte.nidistorsion.nicalcificationetcebilateralement.Lensernbleest :   BIRADS1.   RESULE   -03-082022   ARCHIVESS-) )   Datademiodification:2022-03-07JC wo :  Copieconforme: DRKATALINFULOP   COPIEMEDECINREFERANT Page1da4 :   Anosmedecinsreferentspourdavantagedinformationsnhesitezpas4nouscommuniquer  watenardeneenentievintase:infanienenenannam   io PROTEGEB 9  Printedby:NataliePaille

Option 3 (PSM 11):     NationalODdifonse    Ls    Defence    rationale    PROTECTEDB    CFHSSSFC    Patient:    Scan-Mammo-MammoBilateraledeDepistage    DocumentDate:2022-02-23    eens    TTisasasoa-or-zoz2Ttesoscan    7-Mar-2822915:37    450-671-9284    RESOSCAN    pel    a    ResoScan 2084.Houl.Tascheresu.%:102    raantialdPark14V2G8    clm    Tah:(450f-671-6173    Centredimageriemedicalewww-rasoscan.camn    infaresoxedn.coin.    DREMARIE-JOSEEFONTAINE    CP600SUC
2025-02-21 18:51:06,702 - INFO - LLM Prompt:
You are an expert in medical document processing, specializing in mammogram reports. Extract the following fields:
- Patient name (title case, correct fused words like 'PatientName' to 'Patient Name')
- Exam date (YYYY-MM-DD, correct formats like '23Dec2021')
- BIRADS score for the right breast (0-6)
- BIRADS score for the left breast (0-6)
- Clinical impressions
- Key findings (include measurements and locations)
- Follow-up recommendations

Correct OCR errors, prioritize medical terminology, and handle varied labels. For each field, provide a confidence score (0-1). Return valid JSON with keys: 
patient_name, exam_date, birads_right, birads_left, impressions, findings, 
follow_up_recommendation, and a 'confidence' sub-object with scores for each field.

Text:
este protected
CFHSISSFC Defencemationale patient Scan-MAMMO - DIAGNOSTIC Document date 2023-05-05
0511202812:07PM5063577051 highs
PAGE047 04 May062023MAMMO - Diagnostic
DEPARTHENT.OFDIAGNOSTICMMAGTHG
HORTZONBEALTER network Predericton and UgnerRiverVallieyAren makes Mddioaree unit Roquertings tigger walkman bob Panty (MD):NODor : . : location do
BAD sex 3 : AgatNumber: to EXaH8-TYRHExan a a
BXAMDATE 306264069RADMAMMGURAM-DIAGNOSTICBIRATo5f05f23 dilidanHiggs her . . a RigosJillianND.CCEP eREPORTSIGHEDINCINERVENDOR 8Sverey 054952023s. Reported BysCyathia Thertault
WDFRCPC page -JFilRianwiggs )R9nemareornsrneUe May11202312:59PM: Maycontalnconfldentialinfo Page2of2 ReceivedTimeMay..20231:09PMNo.8783
ENDOFDOCUMENT i : -08- : moe Page:23 Printedon: 2024-01-01- 08 01 14:17 protege i Printedby:NataliePaille
2025-02-21 18:51:07,671 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:51:07,830 - INFO - Raw API Response:
{
  "patient_name": "Dremarie Josee Fontaine",
  "exam_date": "2022-02-23",
  "birads_right": null,
  "birads_left": null,
  "impressions": "Seins de densits modres  importantes, sans lsion volumineuse suspecte, ni distorsion, ni calcification bilatralement. L'ensemble est BIRADS 1.",
  "findings": "La patiente rapporte une radiographie passe  Montral en 2021. Aucun comparatif n'est disponible dans le DSQ.",
  "follow_up_recommendation": null,
  "confidence": {
    "patient_name": 0.9,
    "exam_date": 1.0,
    "birads_right": 0.0,
    "birads_left": 0.0,
    "impressions": 0.9,
    "findings": 0.9,
    "follow_up_recommendation": 0.0
  }
}
2025-02-21 18:51:07,909 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:51:08,102 - INFO - Retrying request to /openai/v1/chat/completions in 7.000000 seconds
2025-02-21 18:51:10,046 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:51:10,174 - ERROR - LLM extraction failed: Error code: 429 - {'error': {'message': 'Rate limit reached for model `mixtral-8x7b-32768` in organization `org_01jjr06gvjepht8gfgh9726zm6` service tier `on_demand` on tokens per minute (TPM): Limit 5000, Used 4982, Requested 1823. Please try again in 21.659s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing', 'type': 'tokens', 'code': 'rate_limit_exceeded'}}
2025-02-21 18:51:10,189 - WARNING - Rate limited, retrying...
2025-02-21 18:51:13,334 - INFO - LLM Prompt:
You are an expert in medical document processing, specializing in mammogram reports. Extract the following fields:
- Patient name (title case, correct fused words like 'PatientName' to 'Patient Name')
- Exam date (YYYY-MM-DD, correct formats like '23Dec2021')
- BIRADS score for the right breast (0-6)
- BIRADS score for the left breast (0-6)
- Clinical impressions
- Key findings (include measurements and locations)
- Follow-up recommendations

Correct OCR errors, prioritize medical terminology, and handle varied labels. For each field, provide a confidence score (0-1). Return valid JSON with keys: 
patient_name, exam_date, birads_right, birads_left, impressions, findings, 
follow_up_recommendation, and a 'confidence' sub-object with scores for each field.

Text:
NationalODdifonse is Defence rationale protected
CFHSSSFC patient Scan-MAMMO - (B)Diagnostic DocumentDate:2021-12-23
122H26234B-18PM. A2Medicallmagng TeA7KNS7A418AMsq9974241Pagelol2 se lab
MEDICAL
MAGI no NPPatriciaMalott CFB-Edmonton
POBOX10500STNFORCES EdmontonABT5J4J5 ExamDate: 23Dec2021 exam Phone:(780)973-4011 location Southpointe
FAX:7809734184 HISTORY:Intermittentpaininrightbreast.Historyaugmentation
BILATERALDIAGNOSTICMAMMO - GRAPHYWITHTOMOSYNTHESIS-IMPLANTS
ULTRASOUNDRIGHTBREAST History:Thepatientdescribesintermittentpainintherightbreastapproximately9 oclackthelastsixmonths.Nopersonalorfamilyhistoryofbreastcancer. MAMMO - gram Thisisabaselinestudy. Thebackgroundbreastparenchymaisalmostentirelyfatreplaced(ACRcategoryA). Bilateralretropectoralsiliconeimplantsareseen.Theseappearintactwithanormal contours Nosuspiciousmass.architecturaldistortionorsuspiciousmicracalcificationsineither breast ultrasound Ultrasoundofthepatientsareaofpaindemonstratesnormalbreasttissuewithno suspiciousabnormality. IMPRESSION:NoMAMMO - graphicorsonographicevidenceofmalignancy.No worrisomeabnormalitytoaccountforthepatientsconcerns. BIRADS:1:Negative. Recommendation(s): Screening MAMMO - graphyrecommendedin7year. ElectronicallySigned:Dr.HectorAguilar.FRCPC122320213:33PMMST Page1of2 Printedon: 2022-09-01-0907:51 Page:17 NataliePaille protege Printedby:
2025-02-21 18:51:13,988 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:51:14,055 - INFO - Retrying request to /openai/v1/chat/completions in 5.000000 seconds
2025-02-21 18:51:15,861 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:51:15,893 - INFO - Retrying request to /openai/v1/chat/completions in 2.000000 seconds
2025-02-21 18:51:18,898 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:51:19,312 - INFO - Raw API Response:
{
  "patient_name": {
    "value": "Patient Name",
    "confidence": {
      "text": 0.6,
      "medical_terminology": 0.9
    }
  },
  "exam_date": {
    "value": "2023-05-04",
    "confidence": {
      "text": 0.7,
      "date_format": 0.9
    }
  },
  "birads_right": 0,
  "birads_left": 0,
  "impressions": {
    "value": "Clinical impressions not provided",
    "confidence": 0.5
  },
  "findings": {
    "value": "Key findings not provided",
    "confidence": 0.5
  },
  "follow_up_recommendation": {
    "value": "Follow-up recommendations not provided",
    "confidence": 0.5
  },
  "confidence": {
    "patient_name": 0.75,
    "exam_date": 0.8,
    "birads_right": 0,
    "birads_left": 0,
    "impressions": 0.5,
    "findings": 0.5,
    "follow_up_recommendation": 0.5
  }
}
2025-02-21 18:51:19,312 - ERROR - Error processing page 2 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 96, in process_single_page
    structured_data, warnings = ocr_utils.extract_fields_from_text(extracted_text)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\.\src\ocr_utils.py", line 381, in extract_fields_from_text
    if field in missing_fields and (match := re.search(pattern, text, re.DOTALL)):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 201, in search
    return _compile(pattern, flags).search(string)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 304, in _compile
    p = sre_compile.compile(pattern, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_compile.py", line 788, in compile
    p = sre_parse.parse(p, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 955, in parse
    p = _parse_sub(source, state, flags & SRE_FLAG_VERBOSE, 0)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 444, in _parse_sub
    itemsappend(_parse(source, state, verbose, nested + 1,
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 843, in _parse
    raise source.error("missing ), unterminated subpattern",
re.error: missing ), unterminated subpattern at position 52
2025-02-21 18:51:19,885 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:51:19,917 - INFO - Retrying request to /openai/v1/chat/completions in 12.000000 seconds
2025-02-21 18:51:20,661 - INFO - LLM Prompt:
You are an expert in medical document processing, specializing in mammogram reports. Extract the following fields:
- Patient name (title case, correct fused words like 'PatientName' to 'Patient Name')
- Exam date (YYYY-MM-DD, correct formats like '23Dec2021')
- BIRADS score for the right breast (0-6)
- BIRADS score for the left breast (0-6)
- Clinical impressions
- Key findings (include measurements and locations)
- Follow-up recommendations

Correct OCR errors, prioritize medical terminology, and handle varied labels. For each field, provide a confidence score (0-1). Return valid JSON with keys: 
patient_name, exam_date, birads_right, birads_left, impressions, findings, 
follow_up_recommendation, and a 'confidence' sub-object with scores for each field.

Text:
Score each OCR option (1-10) for coherence and medical field presence. Return JSON with 'scores': [int, ...].

Option 1 (PSM 3):     Oesaeeeterete PROTECTEDB CFHSISSFC    Patient(  Scan-MammoBilat DocumentDate:2023-12-05    (af4s:2502-08-2023T2terve2i23  12(87202312:44:02EST To:14188446671 Page:2(2    CLINIQUERADIOLOGIQUEAUDET    CITEVERTE  1180.ruedesSoeurs-du-Bon-Pasteur.bureau240  Qubec(Quebec)G1S0B1  T6l.:(418)681-6121-Telec:(418)681-0125    DrFREDERIQUEFERLAND  Basemilitaire6difice109C.P1000SuccForces    COURCELETTE  PROTOCOLEDIMAGERIEMEDICALE    Quebec  GOA4Z0  Ndevisite:20231205-105 Datedexamen:2023-12-05  Ndedossier:0806655    DicteeparAlexisBeland.resident.    Signenonrelu    Admispar: ALL   Dicteele: 2023-12-06   Transeritfe: 2023-12-08 cp)   Transeritpar: JULIELAROCHE   Referant: DrFREDERIQUEFERLAND DrYVESLOISEL YLysjl  ee: DrGUYCANTIN Page:2sur2    Dansunbutdeconfidentialitesicedocumentvousa6t6transmisparerreursilvousplait  communiquezavecnousau418-681-6721poste226    Printedon:2024-06-1714:36  Printedby:JuliaHarchun    PROTEGEB Page:30

Option 2 (PSM 6):     NationalCxifensa  LsrL)Betencenationale PROTECTEDB CFHSSSFC  Patientd  Scan-MammoBilat DocumentDate:2023-12-05  12(87202312:44:02EST To:14188446671 Page:2)2  CLINIQUERADIOLOGIQUEAUDET  CITEVERTE  1180.ruedesSoeurs-du-Bon-Pasteur.bureau240  Quebec(Quebec)G1S0B4  T6l.:(418)6B1-6121-Telec:(418)681-0125  DrFREDERIQUEFERLAND  Basemilitairedifice109C.P1000SuccForces  COURCELETTE  Quebec :  GOA4Z0  PROTOCOLEDIMAGERIEMEDICALE  Ndevisite:20231205-105 Datedexamen:2023-12-06  Ndedossier:0806655  DicteeparAlexisBeland.resident.  Signenonrelu  Admispar: ALL  Dicidele: 2023-12-06  Transcritle: 2023-12-08  Transeritpar: JULIELAROCHE  Referant: DrFREDERIQUEFERLAND DrYVESLOISEL YLosi  ec: DrGUYCANTIN Page:2sur2  Dansunbutdeconfidentialitesicedocumentvousa6t6transmisparerreursilvousplait  communiquezavecnousau418-681-6121poste226  Printedon:2024-06-1714:36 ne Page:30  i F PROTEGEB g  Printedby:JuliaHarchun

Option 3 (PSM 11):     NationalODdifonse    Ls    Defence    rationale    PROTECTEDB    CFHSSSFC    Patient.    Scan-MammoBilat    DocumentDate:2023-12-05    (atarascoswa-oa-20232Jte779202263    12f8202312:44:02EST    To:14188446671    Page:2(2    CLINIQUERADIOLOGIQUEAUDET    CITEVERTE    1180.ruedesSoeurs-du-Bon-Pasteur.bureau240    Qudbec(Quebec)G1S0B1    T6l.:(418)681-6121-Telec:(418)681-0125    DrFREDERIQUEFERLAND    Basemilitaire6difice109C.P1000SuccForces    COURCELETTE    Quebec    GOA4Z0    Ndevisite:    20231205-105    Datedexamen:    2023-12-05    Ndedossier:    0806655    DicteeparAlexisBeland.resident.    Signenonrelu    Admispar:    ALL    Dicteele:    2023-12-06    Transcritfe:    2023-12-08    Transeritpar:    JULIELAROCHE    c-D    Referant:    OrFREDERIQUEFERLAND    DrYVESLOISEL    YLsjl    cc.    DrGUYCANTIN    Page:2sur2    Dansunbutdeconfidentialitesicedocumentvousa6t6transmisparerreursilvousplait    communiquezavecnousau418-681-6121poste226    Printedon:    2024-06-1714:36 
2025-02-21 18:51:21,739 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:51:21,834 - INFO - Retrying request to /openai/v1/chat/completions in 22.000000 seconds
2025-02-21 18:51:33,461 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:51:33,860 - INFO - Raw API Response:
{
  "patient_name": "Patricia Malott",
  "exam_date": "2021-12-23",
  "birads_right": 1,
  "birads_left": 1,
  "impressions": "No mammographic or sonographic evidence of malignancy. No worrisome abnormality to account for the patient's concerns.",
  "findings": "Bilateral retropectoral silicone implants are seen. These appear intact with normal contours. No suspicious mass, architectural distortion, or suspicious microcalcifications in either breast. Ultrasound of the patient's area of pain demonstrates normal breast tissue with no suspicious abnormality.",
  "follow_up_recommendation": "Screening mammography recommended in 7 years.",
  "confidence": {
    "patient_name": 1,
    "exam_date": 1,
    "birads_right": 1,
    "birads_left": 1,
    "impressions": 1,
    "findings": 0.95,
    "follow_up_recommendation": 1
  }
}
2025-02-21 18:51:33,907 - ERROR - Error processing page 1 of Eng Example 2.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 96, in process_single_page
    structured_data, warnings = ocr_utils.extract_fields_from_text(extracted_text)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\.\src\ocr_utils.py", line 381, in extract_fields_from_text
    if field in missing_fields and (match := re.search(pattern, text, re.DOTALL)):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 201, in search
    return _compile(pattern, flags).search(string)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 304, in _compile
    p = sre_compile.compile(pattern, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_compile.py", line 788, in compile
    p = sre_parse.parse(p, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 955, in parse
    p = _parse_sub(source, state, flags & SRE_FLAG_VERBOSE, 0)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 444, in _parse_sub
    itemsappend(_parse(source, state, verbose, nested + 1,
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 843, in _parse
    raise source.error("missing ), unterminated subpattern",
re.error: missing ), unterminated subpattern at position 52
2025-02-21 18:51:44,615 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:51:44,678 - INFO - Retrying request to /openai/v1/chat/completions in 12.000000 seconds
2025-02-21 18:51:57,942 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:51:58,149 - INFO - Raw API Response:
{
  "patient_name": "Dr Frederique Ferland",
  "exam_date": "2023-12-05",
  "birads_right": null,
  "birads_left": null,
  "impressions": "Not available",
  "findings": "Not available",
  "follow_up_recommendation": "Not available",
  "confidence": {
    "patient_name": 0.9,
    "exam_date": 1.0,
    "birads_right": 0.0,
    "birads_left": 0.0,
    "impressions": 0.0,
    "findings": 0.0,
    "follow_up_recommendation": 0.0
  }
}
2025-02-21 18:52:59,878 - INFO - LLM Prompt:
You are an expert in medical document processing, specializing in mammogram reports. Extract the following fields:
- Patient name (title case, correct fused words like 'PatientName' to 'Patient Name')
- Exam date (YYYY-MM-DD, correct formats like '23Dec2021')
- BIRADS score for the right breast (0-6)
- BIRADS score for the left breast (0-6)
- Clinical impressions
- Key findings (include measurements and locations)
- Follow-up recommendations

Correct OCR errors, prioritize medical terminology, and handle varied labels. For each field, provide a confidence score (0-1). Return valid JSON with keys: 
patient_name, exam_date, birads_right, birads_left, impressions, findings, 
follow_up_recommendation, and a 'confidence' sub-object with scores for each field.

Text:
NationalODdifonse is Defence rationale protected
CFHSSSFC Patient Scan-MAMMO - DIAGNOSTIC DocumentDate:2023-01-01-01-01-05-05
05112023-01-01-01-0112:07PM5063577051
HIGGS PAGE03f04 May052023-01-01-01-01MAMMO - Diagnostic i
DEPARTGHTOF
DEAGUOBETS thawing
HORIZONARALTE Predesicton: andUpp upper arrives ValleyArea. i amar Medigarar unit requesting ggs87illian bob Eamiiy.(4D): body sex i locations dead AsoeNunbers: and
SIS 66Broadst Oromocko abba 402.
THPKEXAM
ERAMDATE. s0Gzea069
RADMBMMOGRAM -prietoarie dilate 0516623 ilidanBiggs in - Tndication:E-yearscreeningMAMMO - gram.Silataralbreastimplants. Reference study:Previous imaging including the MAMMO - gram exam the 162022. i findings - .Batlibreastswere imaged with stendaxd2 andpushedbacikc views Thebreastparenchyma 8heteragenaonuslydense. cabegoryC. No worrisome xegionsofarobitestural Gistortionsugpioiouaclustexsof suspicious Gaielfications.or abnormal mass tensions are identified ampregpion: - StableMAMMO - gram. MAMMO - graphicallynegativeformalionancy. Cynthia theriault my
PRCPC
05052023-01-01-01-014:43PM:. eetPHISISAN.BLECTRONTCALTY verified
REPORT
BRE at Cynthia Theriault.MD.FRUBC 11e36813f14423420 pateDicratedsG5-May42023-01-01-01-01.04:43.pm. DateTranseribed: 05-May-2023-01-01-01-01 4:43:jon page WilitanKiggh
(CONTINGED) 4 May112023-01-01-01-01 12:59 as Wen-aIDMAtco. Maycontainconfidenttalinfo Page1of2 Received TimeMay.11. 2023-01-01-01-01 1:09PMNo.8783 printed 2024-08-01-0114:17 22 protege Page NataliePaille printed
2025-02-21 18:53:01,514 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:53:01,960 - INFO - Raw API Response:
{
  "patient_name": {
    "value": "Cynthia Theriault",
    "confidence": {
      "name": 1
    }
  },
  "exam_date": {
    "value": "2023-05-05",
    "confidence": {
      "date": 1
    }
  },
  "birads_right": {
    "value": 0,
    "confidence": {
      "birads_right": 0.3
    }
  },
  "birads_left": {
    "value": 0,
    "confidence": {
      "birads_left": 0.3
    }
  },
  "impressions": {
    "value": "Stable mammogram, mammographically negative for malignancy.",
    "confidence": {
      "impressions": 0.9
    }
  },
  "findings": {
    "value": "Bilateral breasts were imaged with standard views. The breast parenchyma is heterogeneously dense, category C. No worrisome x-ray findings, architectural distortions, or suspicious calcifications are identified. Stable mammogram.",
    "confidence": {
      "findings": 0.9
    }
  },
  "follow_up_recommendation": null,
  "confidence": {
    "name": 1,
    "date": 1,
    "birads_right": 0.3,
    "birads_left": 0.3,
    "impressions": 0.9,
    "findings": 0.9
  }
}
2025-02-21 18:53:01,991 - ERROR - Error processing page 1 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 96, in process_single_page
    structured_data, warnings = ocr_utils.extract_fields_from_text(extracted_text)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\.\src\ocr_utils.py", line 381, in extract_fields_from_text
    if field in missing_fields and (match := re.search(pattern, text, re.DOTALL)):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 201, in search
    return _compile(pattern, flags).search(string)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 304, in _compile
    p = sre_compile.compile(pattern, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_compile.py", line 788, in compile
    p = sre_parse.parse(p, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 955, in parse
    p = _parse_sub(source, state, flags & SRE_FLAG_VERBOSE, 0)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 444, in _parse_sub
    itemsappend(_parse(source, state, verbose, nested + 1,
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 843, in _parse
    raise source.error("missing ), unterminated subpattern",
re.error: missing ), unterminated subpattern at position 52
2025-02-21 18:53:17,548 - INFO - LLM Prompt:
You are an expert in medical document processing, specializing in mammogram reports. Extract the following fields:
- Patient name (title case, correct fused words like 'PatientName' to 'Patient Name')
- Exam date (YYYY-MM-DD, correct formats like '23Dec2021')
- BIRADS score for the right breast (0-6)
- BIRADS score for the left breast (0-6)
- Clinical impressions
- Key findings (include measurements and locations)
- Follow-up recommendations

Correct OCR errors, prioritize medical terminology, and handle varied labels. For each field, provide a confidence score (0-1). Return valid JSON with keys: 
patient_name, exam_date, birads_right, birads_left, impressions, findings, 
follow_up_recommendation, and a 'confidence' sub-object with scores for each field.

Text:
NationalODdifonse is Defence rationale protected
CFHSSSFC patient Scan-MAMMO - Bilat DocumentDate:2023-01-01-12-05 (oWrascamiz-o8-2023-01-01tTerieeis
12(8(2023-01-0112:44:02EST To:14188446671 Page:12
CLINIQUERADIOLOGIQUEAUDET
CITEVERTE 1180.ruedesSceurs-du-Bon-Pasteur.bureau240 Quebec(Quebec)G1S084 Tal.:(418)681-6121-Telc:(418)681-0125 DrFREDERIQUEFERLAND Basemilitaire6difice109C.P1000SuccForces
COURCELETTE queen
GO0A420 Ndevisite: 2023-01-011205-405 Datedexamen: 2023-01-01-12-05 Ndedossier:
MAMMO - GRAPHIEDIAGNOSTIQUEAVECTOMOGRAPHIE Comparatifavecdestudesded6cembre2019adecembre2022. consultations Statutpost-mastectomiesegmentairedroiten2017. Parenchymemammiairepeudense.Pasdavidencederecidivetumoraleouniveaudelacicatricede mastectomiesegmentaireducdtedroit.Parrapportaudernierexamenifnestpasapparude microcatcificationsuspecte.masseoudistorsionarchitecturalealatomosyntheseetceauniveaudesdeux sense ClicheCCexagerelateraldroitobtenu. Conclusion Pasdevidencedemaligniteauniveaudesdeuxseins.
BIRADS2. MAMMO - graphiededepistagesugg6reedansunanvulesantecedentspersonnelsdelapatiente. ReviseeparDrYvesLoiselradiologiste. Signgnonrelu
ALL Admispar: Dicteele: 2023-01-01-12-06 Transeritle: 2023-01-01-12-08 Transcritpar:
JULIELAROCHE op Referant: DrFREDERIQUEFERLAND DrYVESLOISEL i eco DOrGUYCANTIN Page:4sur2 recuse Dansunbutdeconfidentialitesicedocumentvousa6t6transmisparerreur.siifvousplait
11-OEC.2023-01-01 communiquezaveenousau418-681-6121poste226 Archivesmedicales CentresanteValcartiar Printedon: 2024-06-01-1714:36 Page:29 protege Printedby: JuliaHarchun
2025-02-21 18:53:18,609 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:53:18,800 - INFO - Raw API Response:
{
  "patient_name": "National Oddifonse",
  "exam_date": "2023-01-01",
  "birads_right": 2,
  "birads_left": 2,
  "impressions": "Pas de videncede malignite a un niveau des deux seins. BIRADS 2.",
  "findings": "Pas de microcalcifications suspectes, masse ou distorsion architecturale a l'atomosynthese et a un niveau des deux seins. Cliche CC exagere lateral droit obtenu.",
  "follow_up_recommendation": "Mammographie de depistage suggeree dans un an en fonction des antcedents personnels de la patiente.",
  "confidence": {
    "patient_name": 0.9,
    "exam_date": 1.0,
    "birads_right": 1.0,
    "birads_left": 1.0,
    "impressions": 0.9,
    "findings": 0.8,
    "follow_up_recommendation": 0.9
  }
}
2025-02-21 18:53:18,815 - ERROR - Error processing page 1 of FR Example 3.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 96, in process_single_page
    structured_data, warnings = ocr_utils.extract_fields_from_text(extracted_text)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\.\src\ocr_utils.py", line 381, in extract_fields_from_text
    if field in missing_fields and (match := re.search(pattern, text, re.DOTALL)):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 201, in search
    return _compile(pattern, flags).search(string)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 304, in _compile
    p = sre_compile.compile(pattern, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_compile.py", line 788, in compile
    p = sre_parse.parse(p, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 955, in parse
    p = _parse_sub(source, state, flags & SRE_FLAG_VERBOSE, 0)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 444, in _parse_sub
    itemsappend(_parse(source, state, verbose, nested + 1,
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 843, in _parse
    raise source.error("missing ), unterminated subpattern",
re.error: missing ), unterminated subpattern at position 52
2025-02-21 18:53:41,437 - INFO - LLM Prompt:
You are an expert in medical document processing, specializing in mammogram reports. Extract the following fields:
- Patient name (title case, correct fused words like 'PatientName' to 'Patient Name')
- Exam date (YYYY-MM-DD, correct formats like '23Dec2021')
- BIRADS score for the right breast (0-6)
- BIRADS score for the left breast (0-6)
- Clinical impressions
- Key findings (include measurements and locations)
- Follow-up recommendations

Correct OCR errors, prioritize medical terminology, and handle varied labels. For each field, provide a confidence score (0-1). Return valid JSON with keys: 
patient_name, exam_date, birads_right, birads_left, impressions, findings, 
follow_up_recommendation, and a 'confidence' sub-object with scores for each field.

Text:
nation LseLSetencerationale protected
CFHSISSFC patient Scan-MAMMO - MAMMO - BilateraledeDepistage DocumentDate:2022-02-23 TTisasasoa-or-zoz2Ttesoscan P-Mar-282215:37 450-671-9284 rescan pel rescan 2084-01-01.Houl.Tascheresu.%:102 GraantialdPark.14V2G5 CHIM:tazasayart-ciza nae . . Inforesoxcin.com. Centredimageriemedicalewww-resoscan.com
DREMARIE-JOSEEFONTAINE
CP600SUCCK
MONTREAL
H1N8R2
PROTOCOLEDIMAGERIEMEDICALE Dateexamen(s):Mercredile23favrier2022 20220223-006 Rens.cliniques:A36890155 Pasdecomparatif. Constatations: LapatienterapporteuneradiographiepasseaMontrealem2021.Jenedisposepasde comparatifdansleDSQ. Seinsdedensitesmoderges2importantes.macro-nedulairesnonmasquants.actuellementsans lesionvolutivesuspecte.nidistorsion.nicalcificationetcebilateralement.Lensernbleest birads result -03-082022
ARCHIVESS-) Datedetranseription:2022-03-01-01-07JC Dateaimprassion: 2022-03-01-01-07 Datedamodification:2022-03-01-01-07JC Copieconforme:
DRKATALINFULOP
COPIEMEDECINREFERANT Page1da4 Anosmedecinsreferentspourdavantagedinformationsnhesitezpas4nouscommuniquer watenarienoenencrvinlaesinfaniienencnannam Printedon:2024-10-01-2508:05 Printedby:NataliePaille protege Page:14
2025-02-21 18:53:42,381 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:53:42,476 - INFO - Raw API Response:
{
  "patient_name": "Dremarie Josee Fontaine",
  "exam_date": "2022-02-23",
  "birads_right": 3,
  "birads_left": 3,
  "impressions": "Seins de densits modres, bilatral, sans distorsion, calcification ou lsion volutive suspecte.",
  "findings": "Actuellement, sans lsion volutive suspecte, ni distorsion, ni calcification bilatralement.",
  "follow_up_recommendation": "Pas de comparatif. Suivi recommand.",
  "confidence": {
    "patient_name": 0.95,
    "exam_date": 0.9,
    "birads_right": 0.8,
    "birads_left": 0.8,
    "impressions": 0.9,
    "findings": 0.9,
    "follow_up_recommendation": 0.9
  }
}
2025-02-21 18:53:42,492 - ERROR - Error processing page 1 of FR Example 4.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 96, in process_single_page
    structured_data, warnings = ocr_utils.extract_fields_from_text(extracted_text)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\.\src\ocr_utils.py", line 381, in extract_fields_from_text
    if field in missing_fields and (match := re.search(pattern, text, re.DOTALL)):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 201, in search
    return _compile(pattern, flags).search(string)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 304, in _compile
    p = sre_compile.compile(pattern, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_compile.py", line 788, in compile
    p = sre_parse.parse(p, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 955, in parse
    p = _parse_sub(source, state, flags & SRE_FLAG_VERBOSE, 0)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 444, in _parse_sub
    itemsappend(_parse(source, state, verbose, nested + 1,
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 843, in _parse
    raise source.error("missing ), unterminated subpattern",
re.error: missing ), unterminated subpattern at position 52
2025-02-21 18:53:46,113 - INFO - LLM Prompt:
You are an expert in medical document processing, specializing in mammogram reports. Extract the following fields:
- Patient name (title case, correct fused words like 'PatientName' to 'Patient Name')
- Exam date (YYYY-MM-DD, correct formats like '23Dec2021')
- BIRADS score for the right breast (0-6)
- BIRADS score for the left breast (0-6)
- Clinical impressions
- Key findings (include measurements and locations)
- Follow-up recommendations

Correct OCR errors, prioritize medical terminology, and handle varied labels. For each field, provide a confidence score (0-1). Return valid JSON with keys: 
patient_name, exam_date, birads_right, birads_left, impressions, findings, 
follow_up_recommendation, and a 'confidence' sub-object with scores for each field.

Text:
NationalODdifonse is Defence rationale protected
CFHSSSFC patient Scan-MAMMO - Bilat DocumentDate:2023-12-05 (atarascoswa-oa-20232Jte779202263 12f8202312:44:02EST To:14188446671 Page:2(2
CLINIQUERADIOLOGIQUEAUDET
CITEVERTE 1180.ruedesSoeurs-du-Bon-Pasteur.bureau240 Qudbec(Quebec)G1S0B1 T6l.:(418)681-6121-Telec:(418)681-0125 DrFREDERIQUEFERLAND Basemilitaire6difice109C.P1000SuccForces
COURCELETTE queen
GOA4Z0 Ndevisite: 20231205-105 Datedexamen: 2023-12-05 Ndedossier: 0806655 DicteeparAlexisBeland.resident. Signenonrelu Admispar:
ALL Dicteele: 2023-12-06 Transcritfe: 2023-12-08 Transeritpar:
JULIELAROCHE cod Referant: OrFREDERIQUEFERLAND DrYVESLOISEL yesl can DrGUYCANTIN Page:2sur2 Dansunbutdeconfidentialitesicedocumentvousa6t6transmisparerreursilvousplait communiquezavecnousau418-681-6121poste226 Printedon: 2024-06-01-1714:36 Page:30 JuliaHarchun protege Printedby:
2025-02-21 18:53:46,785 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:53:46,785 - INFO - Raw API Response:
{
  "patient_name": "National Oddifonse",
  "exam_date": "2023-12-05",
  "birads_right": 0,
  "birads_left": 0,
  "impressions": "Clinical Impressions not found",
  "findings": "Key Findings not found",
  "follow_up_recommendation": "Follow-up Recommendations not found",
  "confidence": {
    "patient_name": 0.5,
    "exam_date": 1,
    "birads_right": 0,
    "birads_left": 0,
    "impressions": 0,
    "findings": 0,
    "follow_up_recommendation": 0
  }
}
2025-02-21 18:53:46,785 - ERROR - Error processing page 2 of FR Example 3.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 96, in process_single_page
    structured_data, warnings = ocr_utils.extract_fields_from_text(extracted_text)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\.\src\ocr_utils.py", line 381, in extract_fields_from_text
    if field in missing_fields and (match := re.search(pattern, text, re.DOTALL)):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 201, in search
    return _compile(pattern, flags).search(string)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 304, in _compile
    p = sre_compile.compile(pattern, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_compile.py", line 788, in compile
    p = sre_parse.parse(p, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 955, in parse
    p = _parse_sub(source, state, flags & SRE_FLAG_VERBOSE, 0)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 444, in _parse_sub
    itemsappend(_parse(source, state, verbose, nested + 1,
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 843, in _parse
    raise source.error("missing ), unterminated subpattern",
re.error: missing ), unterminated subpattern at position 52
2025-02-21 19:45:48,744 - ERROR - Error processing page 2 of Eng Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\shutil.py", line 825, in move
    os.rename(src, real_dst)
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'en_PP-OCRv4_det_infer\\en_PP-OCRv3_det_infer.tar.tmp' -> 'en_PP-OCRv4_det_infer\\en_PP-OCRv3_det_infer.tar'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 112, in process_single_page
    paddle_ocr = PaddleOCR(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 669, in __init__
    maybe_download(params.det_model_dir, det_url)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\utils\network.py", line 114, in maybe_download
    download_with_progressbar(url, tmp_path)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\utils\network.py", line 41, in download_with_progressbar
    _download(url, save_path)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\utils\network.py", line 99, in _download
    shutil.move(tmp_file, save_path)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\shutil.py", line 846, in move
    os.unlink(src)
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'en_PP-OCRv4_det_infer\\en_PP-OCRv3_det_infer.tar.tmp'
2025-02-21 19:45:49,568 - ERROR - Error processing page 3 of Eng Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\shutil.py", line 825, in move
    os.rename(src, real_dst)
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'en_PP-OCRv4_det_infer\\en_PP-OCRv3_det_infer.tar.tmp' -> 'en_PP-OCRv4_det_infer\\en_PP-OCRv3_det_infer.tar'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 112, in process_single_page
    paddle_ocr = PaddleOCR(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 669, in __init__
    maybe_download(params.det_model_dir, det_url)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\utils\network.py", line 114, in maybe_download
    download_with_progressbar(url, tmp_path)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\utils\network.py", line 41, in download_with_progressbar
    _download(url, save_path)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\utils\network.py", line 99, in _download
    shutil.move(tmp_file, save_path)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\shutil.py", line 846, in move
    os.unlink(src)
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'en_PP-OCRv4_det_infer\\en_PP-OCRv3_det_infer.tar.tmp'
2025-02-21 19:45:49,824 - ERROR - Error processing page 1 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\shutil.py", line 825, in move
    os.rename(src, real_dst)
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'en_PP-OCRv4_det_infer\\en_PP-OCRv3_det_infer.tar.tmp' -> 'en_PP-OCRv4_det_infer\\en_PP-OCRv3_det_infer.tar'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 112, in process_single_page
    paddle_ocr = PaddleOCR(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 669, in __init__
    maybe_download(params.det_model_dir, det_url)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\utils\network.py", line 114, in maybe_download
    download_with_progressbar(url, tmp_path)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\utils\network.py", line 41, in download_with_progressbar
    _download(url, save_path)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\utils\network.py", line 99, in _download
    shutil.move(tmp_file, save_path)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\shutil.py", line 846, in move
    os.unlink(src)
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'en_PP-OCRv4_det_infer\\en_PP-OCRv3_det_infer.tar.tmp'
2025-02-21 19:45:49,849 - ERROR - Error processing page 1 of Eng Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\shutil.py", line 825, in move
    os.rename(src, real_dst)
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'en_PP-OCRv4_det_infer\\en_PP-OCRv3_det_infer.tar.tmp' -> 'en_PP-OCRv4_det_infer\\en_PP-OCRv3_det_infer.tar'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 112, in process_single_page
    paddle_ocr = PaddleOCR(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 669, in __init__
    maybe_download(params.det_model_dir, det_url)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\utils\network.py", line 114, in maybe_download
    download_with_progressbar(url, tmp_path)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\utils\network.py", line 41, in download_with_progressbar
    _download(url, save_path)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\utils\network.py", line 99, in _download
    shutil.move(tmp_file, save_path)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\shutil.py", line 846, in move
    os.unlink(src)
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'en_PP-OCRv4_det_infer\\en_PP-OCRv3_det_infer.tar.tmp'
2025-02-21 19:45:50,029 - ERROR - Error processing page 1 of Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\shutil.py", line 825, in move
    os.rename(src, real_dst)
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'en_PP-OCRv4_det_infer\\en_PP-OCRv3_det_infer.tar.tmp' -> 'en_PP-OCRv4_det_infer\\en_PP-OCRv3_det_infer.tar'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 112, in process_single_page
    paddle_ocr = PaddleOCR(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 669, in __init__
    maybe_download(params.det_model_dir, det_url)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\utils\network.py", line 114, in maybe_download
    download_with_progressbar(url, tmp_path)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\utils\network.py", line 41, in download_with_progressbar
    _download(url, save_path)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\utils\network.py", line 99, in _download
    shutil.move(tmp_file, save_path)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\shutil.py", line 846, in move
    os.unlink(src)
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'en_PP-OCRv4_det_infer\\en_PP-OCRv3_det_infer.tar.tmp'
2025-02-21 19:45:50,061 - ERROR - Error processing page 1 of FR Example 4.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\shutil.py", line 825, in move
    os.rename(src, real_dst)
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'en_PP-OCRv4_det_infer\\en_PP-OCRv3_det_infer.tar.tmp' -> 'en_PP-OCRv4_det_infer\\en_PP-OCRv3_det_infer.tar'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 112, in process_single_page
    paddle_ocr = PaddleOCR(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 669, in __init__
    maybe_download(params.det_model_dir, det_url)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\utils\network.py", line 114, in maybe_download
    download_with_progressbar(url, tmp_path)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\utils\network.py", line 41, in download_with_progressbar
    _download(url, save_path)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\utils\network.py", line 99, in _download
    shutil.move(tmp_file, save_path)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\shutil.py", line 846, in move
    os.unlink(src)
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'en_PP-OCRv4_det_infer\\en_PP-OCRv3_det_infer.tar.tmp'
2025-02-21 19:45:50,105 - ERROR - Error processing page 4 of Eng Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\shutil.py", line 825, in move
    os.rename(src, real_dst)
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'en_PP-OCRv4_det_infer\\en_PP-OCRv3_det_infer.tar.tmp' -> 'en_PP-OCRv4_det_infer\\en_PP-OCRv3_det_infer.tar'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 112, in process_single_page
    paddle_ocr = PaddleOCR(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 669, in __init__
    maybe_download(params.det_model_dir, det_url)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\utils\network.py", line 114, in maybe_download
    download_with_progressbar(url, tmp_path)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\utils\network.py", line 41, in download_with_progressbar
    _download(url, save_path)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\utils\network.py", line 99, in _download
    shutil.move(tmp_file, save_path)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\shutil.py", line 846, in move
    os.unlink(src)
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'en_PP-OCRv4_det_infer\\en_PP-OCRv3_det_infer.tar.tmp'
2025-02-21 19:45:50,299 - ERROR - Error processing page 2 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\shutil.py", line 825, in move
    os.rename(src, real_dst)
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'en_PP-OCRv4_det_infer\\en_PP-OCRv3_det_infer.tar.tmp' -> 'en_PP-OCRv4_det_infer\\en_PP-OCRv3_det_infer.tar'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 112, in process_single_page
    paddle_ocr = PaddleOCR(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 669, in __init__
    maybe_download(params.det_model_dir, det_url)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\utils\network.py", line 114, in maybe_download
    download_with_progressbar(url, tmp_path)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\utils\network.py", line 41, in download_with_progressbar
    _download(url, save_path)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\utils\network.py", line 99, in _download
    shutil.move(tmp_file, save_path)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\shutil.py", line 846, in move
    os.unlink(src)
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'en_PP-OCRv4_det_infer\\en_PP-OCRv3_det_infer.tar.tmp'
2025-02-21 19:46:36,024 - ERROR - Error processing page 1 of Example 8.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 130, in process_single_page
    groq_client = Groq(api_key=os.getenv("GROQ_API_KEY"))
NameError: name 'Groq' is not defined
2025-02-21 19:56:28,949 - ERROR - Error processing page 1 of Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 114, in process_single_page
    result = paddle_ocr.ocr(np.array(image), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 144, in __call__
    rec_res, elapse = self.text_recognizer(img_crop_list)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_rec.py", line 817, in __call__
    rec_res[indices[beg_img_no + rno]] = rec_result[rno]
IndexError: index 58 is out of bounds for axis 0 with size 58
2025-02-21 19:56:45,381 - ERROR - Error processing page 1 of Example 8.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 175, in process_single_page
    'raw_ocr_text': ' '.join(ocr_data['text'])
KeyError: 'text'
2025-02-21 19:56:45,398 - ERROR - Error processing page 1 of FR Example 4.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 175, in process_single_page
    'raw_ocr_text': ' '.join(ocr_data['text'])
KeyError: 'text'
2025-02-21 19:56:45,419 - ERROR - Error processing page 1 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 175, in process_single_page
    'raw_ocr_text': ' '.join(ocr_data['text'])
KeyError: 'text'
2025-02-21 19:56:45,453 - ERROR - Error processing page 2 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 175, in process_single_page
    'raw_ocr_text': ' '.join(ocr_data['text'])
KeyError: 'text'
2025-02-21 19:56:45,585 - ERROR - Error processing page 4 of Eng Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 175, in process_single_page
    'raw_ocr_text': ' '.join(ocr_data['text'])
KeyError: 'text'
2025-02-21 19:56:45,775 - ERROR - Error processing page 2 of Eng Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 175, in process_single_page
    'raw_ocr_text': ' '.join(ocr_data['text'])
KeyError: 'text'
2025-02-21 19:56:45,812 - ERROR - Error processing page 1 of Eng Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 175, in process_single_page
    'raw_ocr_text': ' '.join(ocr_data['text'])
KeyError: 'text'
2025-02-21 19:56:45,832 - ERROR - Error processing page 3 of Eng Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 175, in process_single_page
    'raw_ocr_text': ' '.join(ocr_data['text'])
KeyError: 'text'
2025-02-21 20:07:28,954 - ERROR - Error processing page 1 of Example 8.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_http.py", line 409, in hf_raise_for_status
    response.raise_for_status()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://huggingface.co/naver-clova-ix/donut-base-finetuned-docvqa/resolve/fp16/processor_config.json

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\utils\hub.py", line 342, in cached_file
    resolved_file = hf_hub_download(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 862, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 925, in _hf_hub_download_to_cache_dir
    (url_to_download, etag, commit_hash, expected_size, head_call_error) = _get_metadata_or_catch_error(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 1376, in _get_metadata_or_catch_error
    metadata = get_hf_file_metadata(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 1296, in get_hf_file_metadata
    r = _request_wrapper(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 280, in _request_wrapper
    response = _request_wrapper(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 304, in _request_wrapper
    hf_raise_for_status(response)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_http.py", line 416, in hf_raise_for_status
    raise _format(RevisionNotFoundError, message, response) from e
huggingface_hub.errors.RevisionNotFoundError: 404 Client Error. (Request ID: Root=1-67b93161-725b0c4f00910247484aae2f;90f3fc99-cd62-4e7a-b190-a68a5175bb06)

Revision Not Found for url: https://huggingface.co/naver-clova-ix/donut-base-finetuned-docvqa/resolve/fp16/processor_config.json.
Invalid rev id: fp16

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 115, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 100, in init_donut
    processor = AutoProcessor.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\auto\processing_auto.py", line 260, in from_pretrained
    processor_config_file = get_file_from_repo(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\utils\hub.py", line 496, in get_file_from_repo
    return cached_file(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\utils\hub.py", line 372, in cached_file
    raise EnvironmentError(
OSError: fp16 is not a valid git identifier (branch name, tag name or commit id) that exists for this model name. Check the model page at 'https://huggingface.co/naver-clova-ix/donut-base-finetuned-docvqa' for available revisions.
2025-02-21 20:07:29,507 - ERROR - Error processing page 1 of FR Example 2.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_http.py", line 409, in hf_raise_for_status
    response.raise_for_status()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://huggingface.co/naver-clova-ix/donut-base-finetuned-docvqa/resolve/fp16/processor_config.json

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\utils\hub.py", line 342, in cached_file
    resolved_file = hf_hub_download(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 862, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 925, in _hf_hub_download_to_cache_dir
    (url_to_download, etag, commit_hash, expected_size, head_call_error) = _get_metadata_or_catch_error(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 1376, in _get_metadata_or_catch_error
    metadata = get_hf_file_metadata(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 1296, in get_hf_file_metadata
    r = _request_wrapper(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 280, in _request_wrapper
    response = _request_wrapper(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 304, in _request_wrapper
    hf_raise_for_status(response)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_http.py", line 416, in hf_raise_for_status
    raise _format(RevisionNotFoundError, message, response) from e
huggingface_hub.errors.RevisionNotFoundError: 404 Client Error. (Request ID: Root=1-67b93161-03ffc8bd5a60427332032e0e;514c4d80-f061-4eb3-86bd-9f68f0a6b4ae)

Revision Not Found for url: https://huggingface.co/naver-clova-ix/donut-base-finetuned-docvqa/resolve/fp16/processor_config.json.
Invalid rev id: fp16

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 115, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 100, in init_donut
    processor = AutoProcessor.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\auto\processing_auto.py", line 260, in from_pretrained
    processor_config_file = get_file_from_repo(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\utils\hub.py", line 496, in get_file_from_repo
    return cached_file(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\utils\hub.py", line 372, in cached_file
    raise EnvironmentError(
OSError: fp16 is not a valid git identifier (branch name, tag name or commit id) that exists for this model name. Check the model page at 'https://huggingface.co/naver-clova-ix/donut-base-finetuned-docvqa' for available revisions.
2025-02-21 20:07:30,453 - ERROR - Error processing page 1 of FR Example 3.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_http.py", line 409, in hf_raise_for_status
    response.raise_for_status()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://huggingface.co/naver-clova-ix/donut-base-finetuned-docvqa/resolve/fp16/processor_config.json

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\utils\hub.py", line 342, in cached_file
    resolved_file = hf_hub_download(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 862, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 925, in _hf_hub_download_to_cache_dir
    (url_to_download, etag, commit_hash, expected_size, head_call_error) = _get_metadata_or_catch_error(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 1376, in _get_metadata_or_catch_error
    metadata = get_hf_file_metadata(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 1296, in get_hf_file_metadata
    r = _request_wrapper(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 280, in _request_wrapper
    response = _request_wrapper(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 304, in _request_wrapper
    hf_raise_for_status(response)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_http.py", line 416, in hf_raise_for_status
    raise _format(RevisionNotFoundError, message, response) from e
huggingface_hub.errors.RevisionNotFoundError: 404 Client Error. (Request ID: Root=1-67b93162-4947d19e45e3d1752477e812;5813bacb-3839-4d53-9875-151617418b3c)

Revision Not Found for url: https://huggingface.co/naver-clova-ix/donut-base-finetuned-docvqa/resolve/fp16/processor_config.json.
Invalid rev id: fp16

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 115, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 100, in init_donut
    processor = AutoProcessor.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\auto\processing_auto.py", line 260, in from_pretrained
    processor_config_file = get_file_from_repo(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\utils\hub.py", line 496, in get_file_from_repo
    return cached_file(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\utils\hub.py", line 372, in cached_file
    raise EnvironmentError(
OSError: fp16 is not a valid git identifier (branch name, tag name or commit id) that exists for this model name. Check the model page at 'https://huggingface.co/naver-clova-ix/donut-base-finetuned-docvqa' for available revisions.
2025-02-21 20:07:30,510 - ERROR - Error processing page 2 of FR Example 3.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_http.py", line 409, in hf_raise_for_status
    response.raise_for_status()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://huggingface.co/naver-clova-ix/donut-base-finetuned-docvqa/resolve/fp16/processor_config.json

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\utils\hub.py", line 342, in cached_file
    resolved_file = hf_hub_download(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 862, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 925, in _hf_hub_download_to_cache_dir
    (url_to_download, etag, commit_hash, expected_size, head_call_error) = _get_metadata_or_catch_error(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 1376, in _get_metadata_or_catch_error
    metadata = get_hf_file_metadata(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 1296, in get_hf_file_metadata
    r = _request_wrapper(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 280, in _request_wrapper
    response = _request_wrapper(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 304, in _request_wrapper
    hf_raise_for_status(response)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_http.py", line 416, in hf_raise_for_status
    raise _format(RevisionNotFoundError, message, response) from e
huggingface_hub.errors.RevisionNotFoundError: 404 Client Error. (Request ID: Root=1-67b93162-2b0462373a7db8750dd917cf;2fac94dd-82b8-4a5b-9104-b758fde71eff)

Revision Not Found for url: https://huggingface.co/naver-clova-ix/donut-base-finetuned-docvqa/resolve/fp16/processor_config.json.
Invalid rev id: fp16

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 115, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 100, in init_donut
    processor = AutoProcessor.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\auto\processing_auto.py", line 260, in from_pretrained
    processor_config_file = get_file_from_repo(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\utils\hub.py", line 496, in get_file_from_repo
    return cached_file(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\utils\hub.py", line 372, in cached_file
    raise EnvironmentError(
OSError: fp16 is not a valid git identifier (branch name, tag name or commit id) that exists for this model name. Check the model page at 'https://huggingface.co/naver-clova-ix/donut-base-finetuned-docvqa' for available revisions.
2025-02-21 20:07:30,907 - ERROR - Error processing page 1 of Eng Example 4.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_http.py", line 409, in hf_raise_for_status
    response.raise_for_status()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://huggingface.co/naver-clova-ix/donut-base-finetuned-docvqa/resolve/fp16/processor_config.json

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\utils\hub.py", line 342, in cached_file
    resolved_file = hf_hub_download(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 862, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 925, in _hf_hub_download_to_cache_dir
    (url_to_download, etag, commit_hash, expected_size, head_call_error) = _get_metadata_or_catch_error(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 1376, in _get_metadata_or_catch_error
    metadata = get_hf_file_metadata(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 1296, in get_hf_file_metadata
    r = _request_wrapper(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 280, in _request_wrapper
    response = _request_wrapper(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 304, in _request_wrapper
    hf_raise_for_status(response)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_http.py", line 416, in hf_raise_for_status
    raise _format(RevisionNotFoundError, message, response) from e
huggingface_hub.errors.RevisionNotFoundError: 404 Client Error. (Request ID: Root=1-67b93163-6daff7e55e39cf72735c9b88;c33c2cde-4d00-4fe5-a91f-fb5db7dd2885)

Revision Not Found for url: https://huggingface.co/naver-clova-ix/donut-base-finetuned-docvqa/resolve/fp16/processor_config.json.
Invalid rev id: fp16

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 115, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 100, in init_donut
    processor = AutoProcessor.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\auto\processing_auto.py", line 260, in from_pretrained
    processor_config_file = get_file_from_repo(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\utils\hub.py", line 496, in get_file_from_repo
    return cached_file(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\utils\hub.py", line 372, in cached_file
    raise EnvironmentError(
OSError: fp16 is not a valid git identifier (branch name, tag name or commit id) that exists for this model name. Check the model page at 'https://huggingface.co/naver-clova-ix/donut-base-finetuned-docvqa' for available revisions.
2025-02-21 20:07:32,687 - ERROR - Error processing page 1 of Eng Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_http.py", line 409, in hf_raise_for_status
    response.raise_for_status()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://huggingface.co/naver-clova-ix/donut-base-finetuned-docvqa/resolve/fp16/processor_config.json

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\utils\hub.py", line 342, in cached_file
    resolved_file = hf_hub_download(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 862, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 925, in _hf_hub_download_to_cache_dir
    (url_to_download, etag, commit_hash, expected_size, head_call_error) = _get_metadata_or_catch_error(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 1376, in _get_metadata_or_catch_error
    metadata = get_hf_file_metadata(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 1296, in get_hf_file_metadata
    r = _request_wrapper(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 280, in _request_wrapper
    response = _request_wrapper(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 304, in _request_wrapper
    hf_raise_for_status(response)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_http.py", line 416, in hf_raise_for_status
    raise _format(RevisionNotFoundError, message, response) from e
huggingface_hub.errors.RevisionNotFoundError: 404 Client Error. (Request ID: Root=1-67b93165-4877e4c563776b5834e65f0a;0e5e617e-d357-42f1-bc70-968c077db505)

Revision Not Found for url: https://huggingface.co/naver-clova-ix/donut-base-finetuned-docvqa/resolve/fp16/processor_config.json.
Invalid rev id: fp16

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 115, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 100, in init_donut
    processor = AutoProcessor.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\auto\processing_auto.py", line 260, in from_pretrained
    processor_config_file = get_file_from_repo(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\utils\hub.py", line 496, in get_file_from_repo
    return cached_file(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\utils\hub.py", line 372, in cached_file
    raise EnvironmentError(
OSError: fp16 is not a valid git identifier (branch name, tag name or commit id) that exists for this model name. Check the model page at 'https://huggingface.co/naver-clova-ix/donut-base-finetuned-docvqa' for available revisions.
2025-02-21 20:07:32,727 - ERROR - Error processing page 2 of Eng Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_http.py", line 409, in hf_raise_for_status
    response.raise_for_status()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://huggingface.co/naver-clova-ix/donut-base-finetuned-docvqa/resolve/fp16/processor_config.json

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\utils\hub.py", line 342, in cached_file
    resolved_file = hf_hub_download(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 862, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 925, in _hf_hub_download_to_cache_dir
    (url_to_download, etag, commit_hash, expected_size, head_call_error) = _get_metadata_or_catch_error(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 1376, in _get_metadata_or_catch_error
    metadata = get_hf_file_metadata(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 1296, in get_hf_file_metadata
    r = _request_wrapper(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 280, in _request_wrapper
    response = _request_wrapper(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 304, in _request_wrapper
    hf_raise_for_status(response)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_http.py", line 416, in hf_raise_for_status
    raise _format(RevisionNotFoundError, message, response) from e
huggingface_hub.errors.RevisionNotFoundError: 404 Client Error. (Request ID: Root=1-67b93165-09471f8f388f91674e9e1b33;83236dbc-39cf-4d14-bd17-56bf6a857938)

Revision Not Found for url: https://huggingface.co/naver-clova-ix/donut-base-finetuned-docvqa/resolve/fp16/processor_config.json.
Invalid rev id: fp16

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 115, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 100, in init_donut
    processor = AutoProcessor.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\auto\processing_auto.py", line 260, in from_pretrained
    processor_config_file = get_file_from_repo(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\utils\hub.py", line 496, in get_file_from_repo
    return cached_file(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\utils\hub.py", line 372, in cached_file
    raise EnvironmentError(
OSError: fp16 is not a valid git identifier (branch name, tag name or commit id) that exists for this model name. Check the model page at 'https://huggingface.co/naver-clova-ix/donut-base-finetuned-docvqa' for available revisions.
2025-02-21 20:07:32,787 - ERROR - Error processing page 3 of Eng Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_http.py", line 409, in hf_raise_for_status
    response.raise_for_status()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://huggingface.co/naver-clova-ix/donut-base-finetuned-docvqa/resolve/fp16/processor_config.json

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\utils\hub.py", line 342, in cached_file
    resolved_file = hf_hub_download(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 862, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 925, in _hf_hub_download_to_cache_dir
    (url_to_download, etag, commit_hash, expected_size, head_call_error) = _get_metadata_or_catch_error(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 1376, in _get_metadata_or_catch_error
    metadata = get_hf_file_metadata(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 1296, in get_hf_file_metadata
    r = _request_wrapper(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 280, in _request_wrapper
    response = _request_wrapper(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 304, in _request_wrapper
    hf_raise_for_status(response)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_http.py", line 416, in hf_raise_for_status
    raise _format(RevisionNotFoundError, message, response) from e
huggingface_hub.errors.RevisionNotFoundError: 404 Client Error. (Request ID: Root=1-67b93165-67c0ee1b0b01d6de705eeb9b;7f0572a4-acc7-4350-b7fc-379da52e7dc4)

Revision Not Found for url: https://huggingface.co/naver-clova-ix/donut-base-finetuned-docvqa/resolve/fp16/processor_config.json.
Invalid rev id: fp16

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 115, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 100, in init_donut
    processor = AutoProcessor.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\auto\processing_auto.py", line 260, in from_pretrained
    processor_config_file = get_file_from_repo(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\utils\hub.py", line 496, in get_file_from_repo
    return cached_file(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\utils\hub.py", line 372, in cached_file
    raise EnvironmentError(
OSError: fp16 is not a valid git identifier (branch name, tag name or commit id) that exists for this model name. Check the model page at 'https://huggingface.co/naver-clova-ix/donut-base-finetuned-docvqa' for available revisions.
2025-02-21 20:07:32,874 - ERROR - Error processing page 4 of Eng Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_http.py", line 409, in hf_raise_for_status
    response.raise_for_status()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://huggingface.co/naver-clova-ix/donut-base-finetuned-docvqa/resolve/fp16/processor_config.json

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\utils\hub.py", line 342, in cached_file
    resolved_file = hf_hub_download(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 862, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 925, in _hf_hub_download_to_cache_dir
    (url_to_download, etag, commit_hash, expected_size, head_call_error) = _get_metadata_or_catch_error(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 1376, in _get_metadata_or_catch_error
    metadata = get_hf_file_metadata(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 1296, in get_hf_file_metadata
    r = _request_wrapper(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 280, in _request_wrapper
    response = _request_wrapper(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 304, in _request_wrapper
    hf_raise_for_status(response)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_http.py", line 416, in hf_raise_for_status
    raise _format(RevisionNotFoundError, message, response) from e
huggingface_hub.errors.RevisionNotFoundError: 404 Client Error. (Request ID: Root=1-67b93165-7c240baa499711c1545ba9fa;cce10deb-6a9e-4d59-a1a9-c00556ff398c)

Revision Not Found for url: https://huggingface.co/naver-clova-ix/donut-base-finetuned-docvqa/resolve/fp16/processor_config.json.
Invalid rev id: fp16

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 115, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 100, in init_donut
    processor = AutoProcessor.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\auto\processing_auto.py", line 260, in from_pretrained
    processor_config_file = get_file_from_repo(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\utils\hub.py", line 496, in get_file_from_repo
    return cached_file(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\utils\hub.py", line 372, in cached_file
    raise EnvironmentError(
OSError: fp16 is not a valid git identifier (branch name, tag name or commit id) that exists for this model name. Check the model page at 'https://huggingface.co/naver-clova-ix/donut-base-finetuned-docvqa' for available revisions.
2025-02-21 20:23:33,088 - ERROR - Error processing page 1 of Eng Example 4.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 113, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 104, in init_donut
    model = AutoModel.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\auto\auto_factory.py", line 567, in from_pretrained
    raise ValueError(
ValueError: Unrecognized configuration class <class 'transformers.models.vision_encoder_decoder.configuration_vision_encoder_decoder.VisionEncoderDecoderConfig'> for this kind of AutoModel: AutoModel.
Model type should be one of AlbertConfig, AlignConfig, AltCLIPConfig, AriaConfig, AriaTextConfig, ASTConfig, AutoformerConfig, BambaConfig, BarkConfig, BartConfig, BeitConfig, BertConfig, BertGenerationConfig, BigBirdConfig, BigBirdPegasusConfig, BioGptConfig, BitConfig, BlenderbotConfig, BlenderbotSmallConfig, BlipConfig, Blip2Config, BloomConfig, BridgeTowerConfig, BrosConfig, CamembertConfig, CanineConfig, ChameleonConfig, ChineseCLIPConfig, ChineseCLIPVisionConfig, ClapConfig, CLIPConfig, CLIPTextConfig, CLIPVisionConfig, CLIPSegConfig, ClvpConfig, LlamaConfig, CodeGenConfig, CohereConfig, Cohere2Config, ConditionalDetrConfig, ConvBertConfig, ConvNextConfig, ConvNextV2Config, CpmAntConfig, CTRLConfig, CvtConfig, DabDetrConfig, DacConfig, Data2VecAudioConfig, Data2VecTextConfig, Data2VecVisionConfig, DbrxConfig, DebertaConfig, DebertaV2Config, DecisionTransformerConfig, DeformableDetrConfig, DeiTConfig, DepthProConfig, DetaConfig, DetrConfig, DiffLlamaConfig, DinatConfig, Dinov2Config, Dinov2WithRegistersConfig, DistilBertConfig, DonutSwinConfig, DPRConfig, DPTConfig, EfficientFormerConfig, EfficientNetConfig, ElectraConfig, EncodecConfig, ErnieConfig, ErnieMConfig, EsmConfig, FalconConfig, FalconMambaConfig, FastSpeech2ConformerConfig, FlaubertConfig, FlavaConfig, FNetConfig, FocalNetConfig, FSMTConfig, FunnelConfig, GemmaConfig, Gemma2Config, GitConfig, GlmConfig, GLPNConfig, GotOcr2Config, GPT2Config, GPT2Config, GPTBigCodeConfig, GPTNeoConfig, GPTNeoXConfig, GPTNeoXJapaneseConfig, GPTJConfig, GPTSanJapaneseConfig, GraniteConfig, GraniteMoeConfig, GraniteMoeSharedConfig, GraphormerConfig, GroundingDinoConfig, GroupViTConfig, HeliumConfig, HieraConfig, HubertConfig, IBertConfig, IdeficsConfig, Idefics2Config, Idefics3Config, Idefics3VisionConfig, IJepaConfig, ImageGPTConfig, InformerConfig, JambaConfig, JetMoeConfig, JukeboxConfig, Kosmos2Config, LayoutLMConfig, LayoutLMv2Config, LayoutLMv3Config, LEDConfig, LevitConfig, LiltConfig, LlamaConfig, LongformerConfig, LongT5Config, LukeConfig, LxmertConfig, M2M100Config, MambaConfig, Mamba2Config, MarianConfig, MarkupLMConfig, Mask2FormerConfig, MaskFormerConfig, MaskFormerSwinConfig, MBartConfig, MCTCTConfig, MegaConfig, MegatronBertConfig, MgpstrConfig, MimiConfig, MistralConfig, MixtralConfig, MobileBertConfig, MobileNetV1Config, MobileNetV2Config, MobileViTConfig, MobileViTV2Config, ModernBertConfig, MoonshineConfig, MoshiConfig, MPNetConfig, MptConfig, MraConfig, MT5Config, MusicgenConfig, MusicgenMelodyConfig, MvpConfig, NatConfig, NemotronConfig, NezhaConfig, NllbMoeConfig, NystromformerConfig, OlmoConfig, Olmo2Config, OlmoeConfig, OmDetTurboConfig, OneFormerConfig, OpenLlamaConfig, OpenAIGPTConfig, OPTConfig, Owlv2Config, OwlViTConfig, PatchTSMixerConfig, PatchTSTConfig, PegasusConfig, PegasusXConfig, PerceiverConfig, PersimmonConfig, PhiConfig, Phi3Config, PhimoeConfig, PixtralVisionConfig, PLBartConfig, PoolFormerConfig, ProphetNetConfig, PvtConfig, PvtV2Config, QDQBertConfig, Qwen2Config, Qwen2_5_VLConfig, Qwen2AudioEncoderConfig, Qwen2MoeConfig, Qwen2VLConfig, RecurrentGemmaConfig, ReformerConfig, RegNetConfig, RemBertConfig, ResNetConfig, RetriBertConfig, RobertaConfig, RobertaPreLayerNormConfig, RoCBertConfig, RoFormerConfig, RTDetrConfig, RTDetrV2Config, RwkvConfig, SamConfig, SeamlessM4TConfig, SeamlessM4Tv2Config, SegformerConfig, SegGptConfig, SEWConfig, SEWDConfig, SiglipConfig, SiglipVisionConfig, Speech2TextConfig, SpeechT5Config, SplinterConfig, SqueezeBertConfig, StableLmConfig, Starcoder2Config, SuperGlueConfig, SwiftFormerConfig, SwinConfig, Swin2SRConfig, Swinv2Config, SwitchTransformersConfig, T5Config, TableTransformerConfig, TapasConfig, TextNetConfig, TimeSeriesTransformerConfig, TimesformerConfig, TimmBackboneConfig, TimmWrapperConfig, TrajectoryTransformerConfig, TransfoXLConfig, TvltConfig, TvpConfig, UdopConfig, UMT5Config, UniSpeechConfig, UniSpeechSatConfig, UnivNetConfig, VanConfig, VideoMAEConfig, ViltConfig, VisionTextDualEncoderConfig, VisualBertConfig, ViTConfig, ViTHybridConfig, ViTMAEConfig, ViTMSNConfig, VitDetConfig, VitsConfig, VivitConfig, Wav2Vec2Config, Wav2Vec2BertConfig, Wav2Vec2ConformerConfig, WavLMConfig, WhisperConfig, XCLIPConfig, XGLMConfig, XLMConfig, XLMProphetNetConfig, XLMRobertaConfig, XLMRobertaXLConfig, XLNetConfig, XmodConfig, YolosConfig, YosoConfig, ZambaConfig, Zamba2Config.
2025-02-21 20:23:35,054 - ERROR - Error processing page 1 of Eng Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 113, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 104, in init_donut
    model = AutoModel.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\auto\auto_factory.py", line 567, in from_pretrained
    raise ValueError(
ValueError: Unrecognized configuration class <class 'transformers.models.vision_encoder_decoder.configuration_vision_encoder_decoder.VisionEncoderDecoderConfig'> for this kind of AutoModel: AutoModel.
Model type should be one of AlbertConfig, AlignConfig, AltCLIPConfig, AriaConfig, AriaTextConfig, ASTConfig, AutoformerConfig, BambaConfig, BarkConfig, BartConfig, BeitConfig, BertConfig, BertGenerationConfig, BigBirdConfig, BigBirdPegasusConfig, BioGptConfig, BitConfig, BlenderbotConfig, BlenderbotSmallConfig, BlipConfig, Blip2Config, BloomConfig, BridgeTowerConfig, BrosConfig, CamembertConfig, CanineConfig, ChameleonConfig, ChineseCLIPConfig, ChineseCLIPVisionConfig, ClapConfig, CLIPConfig, CLIPTextConfig, CLIPVisionConfig, CLIPSegConfig, ClvpConfig, LlamaConfig, CodeGenConfig, CohereConfig, Cohere2Config, ConditionalDetrConfig, ConvBertConfig, ConvNextConfig, ConvNextV2Config, CpmAntConfig, CTRLConfig, CvtConfig, DabDetrConfig, DacConfig, Data2VecAudioConfig, Data2VecTextConfig, Data2VecVisionConfig, DbrxConfig, DebertaConfig, DebertaV2Config, DecisionTransformerConfig, DeformableDetrConfig, DeiTConfig, DepthProConfig, DetaConfig, DetrConfig, DiffLlamaConfig, DinatConfig, Dinov2Config, Dinov2WithRegistersConfig, DistilBertConfig, DonutSwinConfig, DPRConfig, DPTConfig, EfficientFormerConfig, EfficientNetConfig, ElectraConfig, EncodecConfig, ErnieConfig, ErnieMConfig, EsmConfig, FalconConfig, FalconMambaConfig, FastSpeech2ConformerConfig, FlaubertConfig, FlavaConfig, FNetConfig, FocalNetConfig, FSMTConfig, FunnelConfig, GemmaConfig, Gemma2Config, GitConfig, GlmConfig, GLPNConfig, GotOcr2Config, GPT2Config, GPT2Config, GPTBigCodeConfig, GPTNeoConfig, GPTNeoXConfig, GPTNeoXJapaneseConfig, GPTJConfig, GPTSanJapaneseConfig, GraniteConfig, GraniteMoeConfig, GraniteMoeSharedConfig, GraphormerConfig, GroundingDinoConfig, GroupViTConfig, HeliumConfig, HieraConfig, HubertConfig, IBertConfig, IdeficsConfig, Idefics2Config, Idefics3Config, Idefics3VisionConfig, IJepaConfig, ImageGPTConfig, InformerConfig, JambaConfig, JetMoeConfig, JukeboxConfig, Kosmos2Config, LayoutLMConfig, LayoutLMv2Config, LayoutLMv3Config, LEDConfig, LevitConfig, LiltConfig, LlamaConfig, LongformerConfig, LongT5Config, LukeConfig, LxmertConfig, M2M100Config, MambaConfig, Mamba2Config, MarianConfig, MarkupLMConfig, Mask2FormerConfig, MaskFormerConfig, MaskFormerSwinConfig, MBartConfig, MCTCTConfig, MegaConfig, MegatronBertConfig, MgpstrConfig, MimiConfig, MistralConfig, MixtralConfig, MobileBertConfig, MobileNetV1Config, MobileNetV2Config, MobileViTConfig, MobileViTV2Config, ModernBertConfig, MoonshineConfig, MoshiConfig, MPNetConfig, MptConfig, MraConfig, MT5Config, MusicgenConfig, MusicgenMelodyConfig, MvpConfig, NatConfig, NemotronConfig, NezhaConfig, NllbMoeConfig, NystromformerConfig, OlmoConfig, Olmo2Config, OlmoeConfig, OmDetTurboConfig, OneFormerConfig, OpenLlamaConfig, OpenAIGPTConfig, OPTConfig, Owlv2Config, OwlViTConfig, PatchTSMixerConfig, PatchTSTConfig, PegasusConfig, PegasusXConfig, PerceiverConfig, PersimmonConfig, PhiConfig, Phi3Config, PhimoeConfig, PixtralVisionConfig, PLBartConfig, PoolFormerConfig, ProphetNetConfig, PvtConfig, PvtV2Config, QDQBertConfig, Qwen2Config, Qwen2_5_VLConfig, Qwen2AudioEncoderConfig, Qwen2MoeConfig, Qwen2VLConfig, RecurrentGemmaConfig, ReformerConfig, RegNetConfig, RemBertConfig, ResNetConfig, RetriBertConfig, RobertaConfig, RobertaPreLayerNormConfig, RoCBertConfig, RoFormerConfig, RTDetrConfig, RTDetrV2Config, RwkvConfig, SamConfig, SeamlessM4TConfig, SeamlessM4Tv2Config, SegformerConfig, SegGptConfig, SEWConfig, SEWDConfig, SiglipConfig, SiglipVisionConfig, Speech2TextConfig, SpeechT5Config, SplinterConfig, SqueezeBertConfig, StableLmConfig, Starcoder2Config, SuperGlueConfig, SwiftFormerConfig, SwinConfig, Swin2SRConfig, Swinv2Config, SwitchTransformersConfig, T5Config, TableTransformerConfig, TapasConfig, TextNetConfig, TimeSeriesTransformerConfig, TimesformerConfig, TimmBackboneConfig, TimmWrapperConfig, TrajectoryTransformerConfig, TransfoXLConfig, TvltConfig, TvpConfig, UdopConfig, UMT5Config, UniSpeechConfig, UniSpeechSatConfig, UnivNetConfig, VanConfig, VideoMAEConfig, ViltConfig, VisionTextDualEncoderConfig, VisualBertConfig, ViTConfig, ViTHybridConfig, ViTMAEConfig, ViTMSNConfig, VitDetConfig, VitsConfig, VivitConfig, Wav2Vec2Config, Wav2Vec2BertConfig, Wav2Vec2ConformerConfig, WavLMConfig, WhisperConfig, XCLIPConfig, XGLMConfig, XLMConfig, XLMProphetNetConfig, XLMRobertaConfig, XLMRobertaXLConfig, XLNetConfig, XmodConfig, YolosConfig, YosoConfig, ZambaConfig, Zamba2Config.
2025-02-21 20:23:37,076 - ERROR - Error processing page 4 of Eng Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 113, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 104, in init_donut
    model = AutoModel.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\auto\auto_factory.py", line 567, in from_pretrained
    raise ValueError(
ValueError: Unrecognized configuration class <class 'transformers.models.vision_encoder_decoder.configuration_vision_encoder_decoder.VisionEncoderDecoderConfig'> for this kind of AutoModel: AutoModel.
Model type should be one of AlbertConfig, AlignConfig, AltCLIPConfig, AriaConfig, AriaTextConfig, ASTConfig, AutoformerConfig, BambaConfig, BarkConfig, BartConfig, BeitConfig, BertConfig, BertGenerationConfig, BigBirdConfig, BigBirdPegasusConfig, BioGptConfig, BitConfig, BlenderbotConfig, BlenderbotSmallConfig, BlipConfig, Blip2Config, BloomConfig, BridgeTowerConfig, BrosConfig, CamembertConfig, CanineConfig, ChameleonConfig, ChineseCLIPConfig, ChineseCLIPVisionConfig, ClapConfig, CLIPConfig, CLIPTextConfig, CLIPVisionConfig, CLIPSegConfig, ClvpConfig, LlamaConfig, CodeGenConfig, CohereConfig, Cohere2Config, ConditionalDetrConfig, ConvBertConfig, ConvNextConfig, ConvNextV2Config, CpmAntConfig, CTRLConfig, CvtConfig, DabDetrConfig, DacConfig, Data2VecAudioConfig, Data2VecTextConfig, Data2VecVisionConfig, DbrxConfig, DebertaConfig, DebertaV2Config, DecisionTransformerConfig, DeformableDetrConfig, DeiTConfig, DepthProConfig, DetaConfig, DetrConfig, DiffLlamaConfig, DinatConfig, Dinov2Config, Dinov2WithRegistersConfig, DistilBertConfig, DonutSwinConfig, DPRConfig, DPTConfig, EfficientFormerConfig, EfficientNetConfig, ElectraConfig, EncodecConfig, ErnieConfig, ErnieMConfig, EsmConfig, FalconConfig, FalconMambaConfig, FastSpeech2ConformerConfig, FlaubertConfig, FlavaConfig, FNetConfig, FocalNetConfig, FSMTConfig, FunnelConfig, GemmaConfig, Gemma2Config, GitConfig, GlmConfig, GLPNConfig, GotOcr2Config, GPT2Config, GPT2Config, GPTBigCodeConfig, GPTNeoConfig, GPTNeoXConfig, GPTNeoXJapaneseConfig, GPTJConfig, GPTSanJapaneseConfig, GraniteConfig, GraniteMoeConfig, GraniteMoeSharedConfig, GraphormerConfig, GroundingDinoConfig, GroupViTConfig, HeliumConfig, HieraConfig, HubertConfig, IBertConfig, IdeficsConfig, Idefics2Config, Idefics3Config, Idefics3VisionConfig, IJepaConfig, ImageGPTConfig, InformerConfig, JambaConfig, JetMoeConfig, JukeboxConfig, Kosmos2Config, LayoutLMConfig, LayoutLMv2Config, LayoutLMv3Config, LEDConfig, LevitConfig, LiltConfig, LlamaConfig, LongformerConfig, LongT5Config, LukeConfig, LxmertConfig, M2M100Config, MambaConfig, Mamba2Config, MarianConfig, MarkupLMConfig, Mask2FormerConfig, MaskFormerConfig, MaskFormerSwinConfig, MBartConfig, MCTCTConfig, MegaConfig, MegatronBertConfig, MgpstrConfig, MimiConfig, MistralConfig, MixtralConfig, MobileBertConfig, MobileNetV1Config, MobileNetV2Config, MobileViTConfig, MobileViTV2Config, ModernBertConfig, MoonshineConfig, MoshiConfig, MPNetConfig, MptConfig, MraConfig, MT5Config, MusicgenConfig, MusicgenMelodyConfig, MvpConfig, NatConfig, NemotronConfig, NezhaConfig, NllbMoeConfig, NystromformerConfig, OlmoConfig, Olmo2Config, OlmoeConfig, OmDetTurboConfig, OneFormerConfig, OpenLlamaConfig, OpenAIGPTConfig, OPTConfig, Owlv2Config, OwlViTConfig, PatchTSMixerConfig, PatchTSTConfig, PegasusConfig, PegasusXConfig, PerceiverConfig, PersimmonConfig, PhiConfig, Phi3Config, PhimoeConfig, PixtralVisionConfig, PLBartConfig, PoolFormerConfig, ProphetNetConfig, PvtConfig, PvtV2Config, QDQBertConfig, Qwen2Config, Qwen2_5_VLConfig, Qwen2AudioEncoderConfig, Qwen2MoeConfig, Qwen2VLConfig, RecurrentGemmaConfig, ReformerConfig, RegNetConfig, RemBertConfig, ResNetConfig, RetriBertConfig, RobertaConfig, RobertaPreLayerNormConfig, RoCBertConfig, RoFormerConfig, RTDetrConfig, RTDetrV2Config, RwkvConfig, SamConfig, SeamlessM4TConfig, SeamlessM4Tv2Config, SegformerConfig, SegGptConfig, SEWConfig, SEWDConfig, SiglipConfig, SiglipVisionConfig, Speech2TextConfig, SpeechT5Config, SplinterConfig, SqueezeBertConfig, StableLmConfig, Starcoder2Config, SuperGlueConfig, SwiftFormerConfig, SwinConfig, Swin2SRConfig, Swinv2Config, SwitchTransformersConfig, T5Config, TableTransformerConfig, TapasConfig, TextNetConfig, TimeSeriesTransformerConfig, TimesformerConfig, TimmBackboneConfig, TimmWrapperConfig, TrajectoryTransformerConfig, TransfoXLConfig, TvltConfig, TvpConfig, UdopConfig, UMT5Config, UniSpeechConfig, UniSpeechSatConfig, UnivNetConfig, VanConfig, VideoMAEConfig, ViltConfig, VisionTextDualEncoderConfig, VisualBertConfig, ViTConfig, ViTHybridConfig, ViTMAEConfig, ViTMSNConfig, VitDetConfig, VitsConfig, VivitConfig, Wav2Vec2Config, Wav2Vec2BertConfig, Wav2Vec2ConformerConfig, WavLMConfig, WhisperConfig, XCLIPConfig, XGLMConfig, XLMConfig, XLMProphetNetConfig, XLMRobertaConfig, XLMRobertaXLConfig, XLNetConfig, XmodConfig, YolosConfig, YosoConfig, ZambaConfig, Zamba2Config.
2025-02-21 20:23:38,964 - ERROR - Error processing page 3 of Eng Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 113, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 104, in init_donut
    model = AutoModel.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\auto\auto_factory.py", line 567, in from_pretrained
    raise ValueError(
ValueError: Unrecognized configuration class <class 'transformers.models.vision_encoder_decoder.configuration_vision_encoder_decoder.VisionEncoderDecoderConfig'> for this kind of AutoModel: AutoModel.
Model type should be one of AlbertConfig, AlignConfig, AltCLIPConfig, AriaConfig, AriaTextConfig, ASTConfig, AutoformerConfig, BambaConfig, BarkConfig, BartConfig, BeitConfig, BertConfig, BertGenerationConfig, BigBirdConfig, BigBirdPegasusConfig, BioGptConfig, BitConfig, BlenderbotConfig, BlenderbotSmallConfig, BlipConfig, Blip2Config, BloomConfig, BridgeTowerConfig, BrosConfig, CamembertConfig, CanineConfig, ChameleonConfig, ChineseCLIPConfig, ChineseCLIPVisionConfig, ClapConfig, CLIPConfig, CLIPTextConfig, CLIPVisionConfig, CLIPSegConfig, ClvpConfig, LlamaConfig, CodeGenConfig, CohereConfig, Cohere2Config, ConditionalDetrConfig, ConvBertConfig, ConvNextConfig, ConvNextV2Config, CpmAntConfig, CTRLConfig, CvtConfig, DabDetrConfig, DacConfig, Data2VecAudioConfig, Data2VecTextConfig, Data2VecVisionConfig, DbrxConfig, DebertaConfig, DebertaV2Config, DecisionTransformerConfig, DeformableDetrConfig, DeiTConfig, DepthProConfig, DetaConfig, DetrConfig, DiffLlamaConfig, DinatConfig, Dinov2Config, Dinov2WithRegistersConfig, DistilBertConfig, DonutSwinConfig, DPRConfig, DPTConfig, EfficientFormerConfig, EfficientNetConfig, ElectraConfig, EncodecConfig, ErnieConfig, ErnieMConfig, EsmConfig, FalconConfig, FalconMambaConfig, FastSpeech2ConformerConfig, FlaubertConfig, FlavaConfig, FNetConfig, FocalNetConfig, FSMTConfig, FunnelConfig, GemmaConfig, Gemma2Config, GitConfig, GlmConfig, GLPNConfig, GotOcr2Config, GPT2Config, GPT2Config, GPTBigCodeConfig, GPTNeoConfig, GPTNeoXConfig, GPTNeoXJapaneseConfig, GPTJConfig, GPTSanJapaneseConfig, GraniteConfig, GraniteMoeConfig, GraniteMoeSharedConfig, GraphormerConfig, GroundingDinoConfig, GroupViTConfig, HeliumConfig, HieraConfig, HubertConfig, IBertConfig, IdeficsConfig, Idefics2Config, Idefics3Config, Idefics3VisionConfig, IJepaConfig, ImageGPTConfig, InformerConfig, JambaConfig, JetMoeConfig, JukeboxConfig, Kosmos2Config, LayoutLMConfig, LayoutLMv2Config, LayoutLMv3Config, LEDConfig, LevitConfig, LiltConfig, LlamaConfig, LongformerConfig, LongT5Config, LukeConfig, LxmertConfig, M2M100Config, MambaConfig, Mamba2Config, MarianConfig, MarkupLMConfig, Mask2FormerConfig, MaskFormerConfig, MaskFormerSwinConfig, MBartConfig, MCTCTConfig, MegaConfig, MegatronBertConfig, MgpstrConfig, MimiConfig, MistralConfig, MixtralConfig, MobileBertConfig, MobileNetV1Config, MobileNetV2Config, MobileViTConfig, MobileViTV2Config, ModernBertConfig, MoonshineConfig, MoshiConfig, MPNetConfig, MptConfig, MraConfig, MT5Config, MusicgenConfig, MusicgenMelodyConfig, MvpConfig, NatConfig, NemotronConfig, NezhaConfig, NllbMoeConfig, NystromformerConfig, OlmoConfig, Olmo2Config, OlmoeConfig, OmDetTurboConfig, OneFormerConfig, OpenLlamaConfig, OpenAIGPTConfig, OPTConfig, Owlv2Config, OwlViTConfig, PatchTSMixerConfig, PatchTSTConfig, PegasusConfig, PegasusXConfig, PerceiverConfig, PersimmonConfig, PhiConfig, Phi3Config, PhimoeConfig, PixtralVisionConfig, PLBartConfig, PoolFormerConfig, ProphetNetConfig, PvtConfig, PvtV2Config, QDQBertConfig, Qwen2Config, Qwen2_5_VLConfig, Qwen2AudioEncoderConfig, Qwen2MoeConfig, Qwen2VLConfig, RecurrentGemmaConfig, ReformerConfig, RegNetConfig, RemBertConfig, ResNetConfig, RetriBertConfig, RobertaConfig, RobertaPreLayerNormConfig, RoCBertConfig, RoFormerConfig, RTDetrConfig, RTDetrV2Config, RwkvConfig, SamConfig, SeamlessM4TConfig, SeamlessM4Tv2Config, SegformerConfig, SegGptConfig, SEWConfig, SEWDConfig, SiglipConfig, SiglipVisionConfig, Speech2TextConfig, SpeechT5Config, SplinterConfig, SqueezeBertConfig, StableLmConfig, Starcoder2Config, SuperGlueConfig, SwiftFormerConfig, SwinConfig, Swin2SRConfig, Swinv2Config, SwitchTransformersConfig, T5Config, TableTransformerConfig, TapasConfig, TextNetConfig, TimeSeriesTransformerConfig, TimesformerConfig, TimmBackboneConfig, TimmWrapperConfig, TrajectoryTransformerConfig, TransfoXLConfig, TvltConfig, TvpConfig, UdopConfig, UMT5Config, UniSpeechConfig, UniSpeechSatConfig, UnivNetConfig, VanConfig, VideoMAEConfig, ViltConfig, VisionTextDualEncoderConfig, VisualBertConfig, ViTConfig, ViTHybridConfig, ViTMAEConfig, ViTMSNConfig, VitDetConfig, VitsConfig, VivitConfig, Wav2Vec2Config, Wav2Vec2BertConfig, Wav2Vec2ConformerConfig, WavLMConfig, WhisperConfig, XCLIPConfig, XGLMConfig, XLMConfig, XLMProphetNetConfig, XLMRobertaConfig, XLMRobertaXLConfig, XLNetConfig, XmodConfig, YolosConfig, YosoConfig, ZambaConfig, Zamba2Config.
2025-02-21 20:23:40,576 - ERROR - Error processing page 2 of Eng Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 113, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 104, in init_donut
    model = AutoModel.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\auto\auto_factory.py", line 567, in from_pretrained
    raise ValueError(
ValueError: Unrecognized configuration class <class 'transformers.models.vision_encoder_decoder.configuration_vision_encoder_decoder.VisionEncoderDecoderConfig'> for this kind of AutoModel: AutoModel.
Model type should be one of AlbertConfig, AlignConfig, AltCLIPConfig, AriaConfig, AriaTextConfig, ASTConfig, AutoformerConfig, BambaConfig, BarkConfig, BartConfig, BeitConfig, BertConfig, BertGenerationConfig, BigBirdConfig, BigBirdPegasusConfig, BioGptConfig, BitConfig, BlenderbotConfig, BlenderbotSmallConfig, BlipConfig, Blip2Config, BloomConfig, BridgeTowerConfig, BrosConfig, CamembertConfig, CanineConfig, ChameleonConfig, ChineseCLIPConfig, ChineseCLIPVisionConfig, ClapConfig, CLIPConfig, CLIPTextConfig, CLIPVisionConfig, CLIPSegConfig, ClvpConfig, LlamaConfig, CodeGenConfig, CohereConfig, Cohere2Config, ConditionalDetrConfig, ConvBertConfig, ConvNextConfig, ConvNextV2Config, CpmAntConfig, CTRLConfig, CvtConfig, DabDetrConfig, DacConfig, Data2VecAudioConfig, Data2VecTextConfig, Data2VecVisionConfig, DbrxConfig, DebertaConfig, DebertaV2Config, DecisionTransformerConfig, DeformableDetrConfig, DeiTConfig, DepthProConfig, DetaConfig, DetrConfig, DiffLlamaConfig, DinatConfig, Dinov2Config, Dinov2WithRegistersConfig, DistilBertConfig, DonutSwinConfig, DPRConfig, DPTConfig, EfficientFormerConfig, EfficientNetConfig, ElectraConfig, EncodecConfig, ErnieConfig, ErnieMConfig, EsmConfig, FalconConfig, FalconMambaConfig, FastSpeech2ConformerConfig, FlaubertConfig, FlavaConfig, FNetConfig, FocalNetConfig, FSMTConfig, FunnelConfig, GemmaConfig, Gemma2Config, GitConfig, GlmConfig, GLPNConfig, GotOcr2Config, GPT2Config, GPT2Config, GPTBigCodeConfig, GPTNeoConfig, GPTNeoXConfig, GPTNeoXJapaneseConfig, GPTJConfig, GPTSanJapaneseConfig, GraniteConfig, GraniteMoeConfig, GraniteMoeSharedConfig, GraphormerConfig, GroundingDinoConfig, GroupViTConfig, HeliumConfig, HieraConfig, HubertConfig, IBertConfig, IdeficsConfig, Idefics2Config, Idefics3Config, Idefics3VisionConfig, IJepaConfig, ImageGPTConfig, InformerConfig, JambaConfig, JetMoeConfig, JukeboxConfig, Kosmos2Config, LayoutLMConfig, LayoutLMv2Config, LayoutLMv3Config, LEDConfig, LevitConfig, LiltConfig, LlamaConfig, LongformerConfig, LongT5Config, LukeConfig, LxmertConfig, M2M100Config, MambaConfig, Mamba2Config, MarianConfig, MarkupLMConfig, Mask2FormerConfig, MaskFormerConfig, MaskFormerSwinConfig, MBartConfig, MCTCTConfig, MegaConfig, MegatronBertConfig, MgpstrConfig, MimiConfig, MistralConfig, MixtralConfig, MobileBertConfig, MobileNetV1Config, MobileNetV2Config, MobileViTConfig, MobileViTV2Config, ModernBertConfig, MoonshineConfig, MoshiConfig, MPNetConfig, MptConfig, MraConfig, MT5Config, MusicgenConfig, MusicgenMelodyConfig, MvpConfig, NatConfig, NemotronConfig, NezhaConfig, NllbMoeConfig, NystromformerConfig, OlmoConfig, Olmo2Config, OlmoeConfig, OmDetTurboConfig, OneFormerConfig, OpenLlamaConfig, OpenAIGPTConfig, OPTConfig, Owlv2Config, OwlViTConfig, PatchTSMixerConfig, PatchTSTConfig, PegasusConfig, PegasusXConfig, PerceiverConfig, PersimmonConfig, PhiConfig, Phi3Config, PhimoeConfig, PixtralVisionConfig, PLBartConfig, PoolFormerConfig, ProphetNetConfig, PvtConfig, PvtV2Config, QDQBertConfig, Qwen2Config, Qwen2_5_VLConfig, Qwen2AudioEncoderConfig, Qwen2MoeConfig, Qwen2VLConfig, RecurrentGemmaConfig, ReformerConfig, RegNetConfig, RemBertConfig, ResNetConfig, RetriBertConfig, RobertaConfig, RobertaPreLayerNormConfig, RoCBertConfig, RoFormerConfig, RTDetrConfig, RTDetrV2Config, RwkvConfig, SamConfig, SeamlessM4TConfig, SeamlessM4Tv2Config, SegformerConfig, SegGptConfig, SEWConfig, SEWDConfig, SiglipConfig, SiglipVisionConfig, Speech2TextConfig, SpeechT5Config, SplinterConfig, SqueezeBertConfig, StableLmConfig, Starcoder2Config, SuperGlueConfig, SwiftFormerConfig, SwinConfig, Swin2SRConfig, Swinv2Config, SwitchTransformersConfig, T5Config, TableTransformerConfig, TapasConfig, TextNetConfig, TimeSeriesTransformerConfig, TimesformerConfig, TimmBackboneConfig, TimmWrapperConfig, TrajectoryTransformerConfig, TransfoXLConfig, TvltConfig, TvpConfig, UdopConfig, UMT5Config, UniSpeechConfig, UniSpeechSatConfig, UnivNetConfig, VanConfig, VideoMAEConfig, ViltConfig, VisionTextDualEncoderConfig, VisualBertConfig, ViTConfig, ViTHybridConfig, ViTMAEConfig, ViTMSNConfig, VitDetConfig, VitsConfig, VivitConfig, Wav2Vec2Config, Wav2Vec2BertConfig, Wav2Vec2ConformerConfig, WavLMConfig, WhisperConfig, XCLIPConfig, XGLMConfig, XLMConfig, XLMProphetNetConfig, XLMRobertaConfig, XLMRobertaXLConfig, XLNetConfig, XmodConfig, YolosConfig, YosoConfig, ZambaConfig, Zamba2Config.
2025-02-21 20:23:42,136 - ERROR - Error processing page 1 of Example 8.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 113, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 104, in init_donut
    model = AutoModel.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\auto\auto_factory.py", line 567, in from_pretrained
    raise ValueError(
ValueError: Unrecognized configuration class <class 'transformers.models.vision_encoder_decoder.configuration_vision_encoder_decoder.VisionEncoderDecoderConfig'> for this kind of AutoModel: AutoModel.
Model type should be one of AlbertConfig, AlignConfig, AltCLIPConfig, AriaConfig, AriaTextConfig, ASTConfig, AutoformerConfig, BambaConfig, BarkConfig, BartConfig, BeitConfig, BertConfig, BertGenerationConfig, BigBirdConfig, BigBirdPegasusConfig, BioGptConfig, BitConfig, BlenderbotConfig, BlenderbotSmallConfig, BlipConfig, Blip2Config, BloomConfig, BridgeTowerConfig, BrosConfig, CamembertConfig, CanineConfig, ChameleonConfig, ChineseCLIPConfig, ChineseCLIPVisionConfig, ClapConfig, CLIPConfig, CLIPTextConfig, CLIPVisionConfig, CLIPSegConfig, ClvpConfig, LlamaConfig, CodeGenConfig, CohereConfig, Cohere2Config, ConditionalDetrConfig, ConvBertConfig, ConvNextConfig, ConvNextV2Config, CpmAntConfig, CTRLConfig, CvtConfig, DabDetrConfig, DacConfig, Data2VecAudioConfig, Data2VecTextConfig, Data2VecVisionConfig, DbrxConfig, DebertaConfig, DebertaV2Config, DecisionTransformerConfig, DeformableDetrConfig, DeiTConfig, DepthProConfig, DetaConfig, DetrConfig, DiffLlamaConfig, DinatConfig, Dinov2Config, Dinov2WithRegistersConfig, DistilBertConfig, DonutSwinConfig, DPRConfig, DPTConfig, EfficientFormerConfig, EfficientNetConfig, ElectraConfig, EncodecConfig, ErnieConfig, ErnieMConfig, EsmConfig, FalconConfig, FalconMambaConfig, FastSpeech2ConformerConfig, FlaubertConfig, FlavaConfig, FNetConfig, FocalNetConfig, FSMTConfig, FunnelConfig, GemmaConfig, Gemma2Config, GitConfig, GlmConfig, GLPNConfig, GotOcr2Config, GPT2Config, GPT2Config, GPTBigCodeConfig, GPTNeoConfig, GPTNeoXConfig, GPTNeoXJapaneseConfig, GPTJConfig, GPTSanJapaneseConfig, GraniteConfig, GraniteMoeConfig, GraniteMoeSharedConfig, GraphormerConfig, GroundingDinoConfig, GroupViTConfig, HeliumConfig, HieraConfig, HubertConfig, IBertConfig, IdeficsConfig, Idefics2Config, Idefics3Config, Idefics3VisionConfig, IJepaConfig, ImageGPTConfig, InformerConfig, JambaConfig, JetMoeConfig, JukeboxConfig, Kosmos2Config, LayoutLMConfig, LayoutLMv2Config, LayoutLMv3Config, LEDConfig, LevitConfig, LiltConfig, LlamaConfig, LongformerConfig, LongT5Config, LukeConfig, LxmertConfig, M2M100Config, MambaConfig, Mamba2Config, MarianConfig, MarkupLMConfig, Mask2FormerConfig, MaskFormerConfig, MaskFormerSwinConfig, MBartConfig, MCTCTConfig, MegaConfig, MegatronBertConfig, MgpstrConfig, MimiConfig, MistralConfig, MixtralConfig, MobileBertConfig, MobileNetV1Config, MobileNetV2Config, MobileViTConfig, MobileViTV2Config, ModernBertConfig, MoonshineConfig, MoshiConfig, MPNetConfig, MptConfig, MraConfig, MT5Config, MusicgenConfig, MusicgenMelodyConfig, MvpConfig, NatConfig, NemotronConfig, NezhaConfig, NllbMoeConfig, NystromformerConfig, OlmoConfig, Olmo2Config, OlmoeConfig, OmDetTurboConfig, OneFormerConfig, OpenLlamaConfig, OpenAIGPTConfig, OPTConfig, Owlv2Config, OwlViTConfig, PatchTSMixerConfig, PatchTSTConfig, PegasusConfig, PegasusXConfig, PerceiverConfig, PersimmonConfig, PhiConfig, Phi3Config, PhimoeConfig, PixtralVisionConfig, PLBartConfig, PoolFormerConfig, ProphetNetConfig, PvtConfig, PvtV2Config, QDQBertConfig, Qwen2Config, Qwen2_5_VLConfig, Qwen2AudioEncoderConfig, Qwen2MoeConfig, Qwen2VLConfig, RecurrentGemmaConfig, ReformerConfig, RegNetConfig, RemBertConfig, ResNetConfig, RetriBertConfig, RobertaConfig, RobertaPreLayerNormConfig, RoCBertConfig, RoFormerConfig, RTDetrConfig, RTDetrV2Config, RwkvConfig, SamConfig, SeamlessM4TConfig, SeamlessM4Tv2Config, SegformerConfig, SegGptConfig, SEWConfig, SEWDConfig, SiglipConfig, SiglipVisionConfig, Speech2TextConfig, SpeechT5Config, SplinterConfig, SqueezeBertConfig, StableLmConfig, Starcoder2Config, SuperGlueConfig, SwiftFormerConfig, SwinConfig, Swin2SRConfig, Swinv2Config, SwitchTransformersConfig, T5Config, TableTransformerConfig, TapasConfig, TextNetConfig, TimeSeriesTransformerConfig, TimesformerConfig, TimmBackboneConfig, TimmWrapperConfig, TrajectoryTransformerConfig, TransfoXLConfig, TvltConfig, TvpConfig, UdopConfig, UMT5Config, UniSpeechConfig, UniSpeechSatConfig, UnivNetConfig, VanConfig, VideoMAEConfig, ViltConfig, VisionTextDualEncoderConfig, VisualBertConfig, ViTConfig, ViTHybridConfig, ViTMAEConfig, ViTMSNConfig, VitDetConfig, VitsConfig, VivitConfig, Wav2Vec2Config, Wav2Vec2BertConfig, Wav2Vec2ConformerConfig, WavLMConfig, WhisperConfig, XCLIPConfig, XGLMConfig, XLMConfig, XLMProphetNetConfig, XLMRobertaConfig, XLMRobertaXLConfig, XLNetConfig, XmodConfig, YolosConfig, YosoConfig, ZambaConfig, Zamba2Config.
2025-02-21 20:23:43,516 - ERROR - Error processing page 1 of FR Example 2.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 113, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 104, in init_donut
    model = AutoModel.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\auto\auto_factory.py", line 567, in from_pretrained
    raise ValueError(
ValueError: Unrecognized configuration class <class 'transformers.models.vision_encoder_decoder.configuration_vision_encoder_decoder.VisionEncoderDecoderConfig'> for this kind of AutoModel: AutoModel.
Model type should be one of AlbertConfig, AlignConfig, AltCLIPConfig, AriaConfig, AriaTextConfig, ASTConfig, AutoformerConfig, BambaConfig, BarkConfig, BartConfig, BeitConfig, BertConfig, BertGenerationConfig, BigBirdConfig, BigBirdPegasusConfig, BioGptConfig, BitConfig, BlenderbotConfig, BlenderbotSmallConfig, BlipConfig, Blip2Config, BloomConfig, BridgeTowerConfig, BrosConfig, CamembertConfig, CanineConfig, ChameleonConfig, ChineseCLIPConfig, ChineseCLIPVisionConfig, ClapConfig, CLIPConfig, CLIPTextConfig, CLIPVisionConfig, CLIPSegConfig, ClvpConfig, LlamaConfig, CodeGenConfig, CohereConfig, Cohere2Config, ConditionalDetrConfig, ConvBertConfig, ConvNextConfig, ConvNextV2Config, CpmAntConfig, CTRLConfig, CvtConfig, DabDetrConfig, DacConfig, Data2VecAudioConfig, Data2VecTextConfig, Data2VecVisionConfig, DbrxConfig, DebertaConfig, DebertaV2Config, DecisionTransformerConfig, DeformableDetrConfig, DeiTConfig, DepthProConfig, DetaConfig, DetrConfig, DiffLlamaConfig, DinatConfig, Dinov2Config, Dinov2WithRegistersConfig, DistilBertConfig, DonutSwinConfig, DPRConfig, DPTConfig, EfficientFormerConfig, EfficientNetConfig, ElectraConfig, EncodecConfig, ErnieConfig, ErnieMConfig, EsmConfig, FalconConfig, FalconMambaConfig, FastSpeech2ConformerConfig, FlaubertConfig, FlavaConfig, FNetConfig, FocalNetConfig, FSMTConfig, FunnelConfig, GemmaConfig, Gemma2Config, GitConfig, GlmConfig, GLPNConfig, GotOcr2Config, GPT2Config, GPT2Config, GPTBigCodeConfig, GPTNeoConfig, GPTNeoXConfig, GPTNeoXJapaneseConfig, GPTJConfig, GPTSanJapaneseConfig, GraniteConfig, GraniteMoeConfig, GraniteMoeSharedConfig, GraphormerConfig, GroundingDinoConfig, GroupViTConfig, HeliumConfig, HieraConfig, HubertConfig, IBertConfig, IdeficsConfig, Idefics2Config, Idefics3Config, Idefics3VisionConfig, IJepaConfig, ImageGPTConfig, InformerConfig, JambaConfig, JetMoeConfig, JukeboxConfig, Kosmos2Config, LayoutLMConfig, LayoutLMv2Config, LayoutLMv3Config, LEDConfig, LevitConfig, LiltConfig, LlamaConfig, LongformerConfig, LongT5Config, LukeConfig, LxmertConfig, M2M100Config, MambaConfig, Mamba2Config, MarianConfig, MarkupLMConfig, Mask2FormerConfig, MaskFormerConfig, MaskFormerSwinConfig, MBartConfig, MCTCTConfig, MegaConfig, MegatronBertConfig, MgpstrConfig, MimiConfig, MistralConfig, MixtralConfig, MobileBertConfig, MobileNetV1Config, MobileNetV2Config, MobileViTConfig, MobileViTV2Config, ModernBertConfig, MoonshineConfig, MoshiConfig, MPNetConfig, MptConfig, MraConfig, MT5Config, MusicgenConfig, MusicgenMelodyConfig, MvpConfig, NatConfig, NemotronConfig, NezhaConfig, NllbMoeConfig, NystromformerConfig, OlmoConfig, Olmo2Config, OlmoeConfig, OmDetTurboConfig, OneFormerConfig, OpenLlamaConfig, OpenAIGPTConfig, OPTConfig, Owlv2Config, OwlViTConfig, PatchTSMixerConfig, PatchTSTConfig, PegasusConfig, PegasusXConfig, PerceiverConfig, PersimmonConfig, PhiConfig, Phi3Config, PhimoeConfig, PixtralVisionConfig, PLBartConfig, PoolFormerConfig, ProphetNetConfig, PvtConfig, PvtV2Config, QDQBertConfig, Qwen2Config, Qwen2_5_VLConfig, Qwen2AudioEncoderConfig, Qwen2MoeConfig, Qwen2VLConfig, RecurrentGemmaConfig, ReformerConfig, RegNetConfig, RemBertConfig, ResNetConfig, RetriBertConfig, RobertaConfig, RobertaPreLayerNormConfig, RoCBertConfig, RoFormerConfig, RTDetrConfig, RTDetrV2Config, RwkvConfig, SamConfig, SeamlessM4TConfig, SeamlessM4Tv2Config, SegformerConfig, SegGptConfig, SEWConfig, SEWDConfig, SiglipConfig, SiglipVisionConfig, Speech2TextConfig, SpeechT5Config, SplinterConfig, SqueezeBertConfig, StableLmConfig, Starcoder2Config, SuperGlueConfig, SwiftFormerConfig, SwinConfig, Swin2SRConfig, Swinv2Config, SwitchTransformersConfig, T5Config, TableTransformerConfig, TapasConfig, TextNetConfig, TimeSeriesTransformerConfig, TimesformerConfig, TimmBackboneConfig, TimmWrapperConfig, TrajectoryTransformerConfig, TransfoXLConfig, TvltConfig, TvpConfig, UdopConfig, UMT5Config, UniSpeechConfig, UniSpeechSatConfig, UnivNetConfig, VanConfig, VideoMAEConfig, ViltConfig, VisionTextDualEncoderConfig, VisualBertConfig, ViTConfig, ViTHybridConfig, ViTMAEConfig, ViTMSNConfig, VitDetConfig, VitsConfig, VivitConfig, Wav2Vec2Config, Wav2Vec2BertConfig, Wav2Vec2ConformerConfig, WavLMConfig, WhisperConfig, XCLIPConfig, XGLMConfig, XLMConfig, XLMProphetNetConfig, XLMRobertaConfig, XLMRobertaXLConfig, XLNetConfig, XmodConfig, YolosConfig, YosoConfig, ZambaConfig, Zamba2Config.
2025-02-21 20:23:44,856 - ERROR - Error processing page 1 of FR Example 3.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 113, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 104, in init_donut
    model = AutoModel.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\auto\auto_factory.py", line 567, in from_pretrained
    raise ValueError(
ValueError: Unrecognized configuration class <class 'transformers.models.vision_encoder_decoder.configuration_vision_encoder_decoder.VisionEncoderDecoderConfig'> for this kind of AutoModel: AutoModel.
Model type should be one of AlbertConfig, AlignConfig, AltCLIPConfig, AriaConfig, AriaTextConfig, ASTConfig, AutoformerConfig, BambaConfig, BarkConfig, BartConfig, BeitConfig, BertConfig, BertGenerationConfig, BigBirdConfig, BigBirdPegasusConfig, BioGptConfig, BitConfig, BlenderbotConfig, BlenderbotSmallConfig, BlipConfig, Blip2Config, BloomConfig, BridgeTowerConfig, BrosConfig, CamembertConfig, CanineConfig, ChameleonConfig, ChineseCLIPConfig, ChineseCLIPVisionConfig, ClapConfig, CLIPConfig, CLIPTextConfig, CLIPVisionConfig, CLIPSegConfig, ClvpConfig, LlamaConfig, CodeGenConfig, CohereConfig, Cohere2Config, ConditionalDetrConfig, ConvBertConfig, ConvNextConfig, ConvNextV2Config, CpmAntConfig, CTRLConfig, CvtConfig, DabDetrConfig, DacConfig, Data2VecAudioConfig, Data2VecTextConfig, Data2VecVisionConfig, DbrxConfig, DebertaConfig, DebertaV2Config, DecisionTransformerConfig, DeformableDetrConfig, DeiTConfig, DepthProConfig, DetaConfig, DetrConfig, DiffLlamaConfig, DinatConfig, Dinov2Config, Dinov2WithRegistersConfig, DistilBertConfig, DonutSwinConfig, DPRConfig, DPTConfig, EfficientFormerConfig, EfficientNetConfig, ElectraConfig, EncodecConfig, ErnieConfig, ErnieMConfig, EsmConfig, FalconConfig, FalconMambaConfig, FastSpeech2ConformerConfig, FlaubertConfig, FlavaConfig, FNetConfig, FocalNetConfig, FSMTConfig, FunnelConfig, GemmaConfig, Gemma2Config, GitConfig, GlmConfig, GLPNConfig, GotOcr2Config, GPT2Config, GPT2Config, GPTBigCodeConfig, GPTNeoConfig, GPTNeoXConfig, GPTNeoXJapaneseConfig, GPTJConfig, GPTSanJapaneseConfig, GraniteConfig, GraniteMoeConfig, GraniteMoeSharedConfig, GraphormerConfig, GroundingDinoConfig, GroupViTConfig, HeliumConfig, HieraConfig, HubertConfig, IBertConfig, IdeficsConfig, Idefics2Config, Idefics3Config, Idefics3VisionConfig, IJepaConfig, ImageGPTConfig, InformerConfig, JambaConfig, JetMoeConfig, JukeboxConfig, Kosmos2Config, LayoutLMConfig, LayoutLMv2Config, LayoutLMv3Config, LEDConfig, LevitConfig, LiltConfig, LlamaConfig, LongformerConfig, LongT5Config, LukeConfig, LxmertConfig, M2M100Config, MambaConfig, Mamba2Config, MarianConfig, MarkupLMConfig, Mask2FormerConfig, MaskFormerConfig, MaskFormerSwinConfig, MBartConfig, MCTCTConfig, MegaConfig, MegatronBertConfig, MgpstrConfig, MimiConfig, MistralConfig, MixtralConfig, MobileBertConfig, MobileNetV1Config, MobileNetV2Config, MobileViTConfig, MobileViTV2Config, ModernBertConfig, MoonshineConfig, MoshiConfig, MPNetConfig, MptConfig, MraConfig, MT5Config, MusicgenConfig, MusicgenMelodyConfig, MvpConfig, NatConfig, NemotronConfig, NezhaConfig, NllbMoeConfig, NystromformerConfig, OlmoConfig, Olmo2Config, OlmoeConfig, OmDetTurboConfig, OneFormerConfig, OpenLlamaConfig, OpenAIGPTConfig, OPTConfig, Owlv2Config, OwlViTConfig, PatchTSMixerConfig, PatchTSTConfig, PegasusConfig, PegasusXConfig, PerceiverConfig, PersimmonConfig, PhiConfig, Phi3Config, PhimoeConfig, PixtralVisionConfig, PLBartConfig, PoolFormerConfig, ProphetNetConfig, PvtConfig, PvtV2Config, QDQBertConfig, Qwen2Config, Qwen2_5_VLConfig, Qwen2AudioEncoderConfig, Qwen2MoeConfig, Qwen2VLConfig, RecurrentGemmaConfig, ReformerConfig, RegNetConfig, RemBertConfig, ResNetConfig, RetriBertConfig, RobertaConfig, RobertaPreLayerNormConfig, RoCBertConfig, RoFormerConfig, RTDetrConfig, RTDetrV2Config, RwkvConfig, SamConfig, SeamlessM4TConfig, SeamlessM4Tv2Config, SegformerConfig, SegGptConfig, SEWConfig, SEWDConfig, SiglipConfig, SiglipVisionConfig, Speech2TextConfig, SpeechT5Config, SplinterConfig, SqueezeBertConfig, StableLmConfig, Starcoder2Config, SuperGlueConfig, SwiftFormerConfig, SwinConfig, Swin2SRConfig, Swinv2Config, SwitchTransformersConfig, T5Config, TableTransformerConfig, TapasConfig, TextNetConfig, TimeSeriesTransformerConfig, TimesformerConfig, TimmBackboneConfig, TimmWrapperConfig, TrajectoryTransformerConfig, TransfoXLConfig, TvltConfig, TvpConfig, UdopConfig, UMT5Config, UniSpeechConfig, UniSpeechSatConfig, UnivNetConfig, VanConfig, VideoMAEConfig, ViltConfig, VisionTextDualEncoderConfig, VisualBertConfig, ViTConfig, ViTHybridConfig, ViTMAEConfig, ViTMSNConfig, VitDetConfig, VitsConfig, VivitConfig, Wav2Vec2Config, Wav2Vec2BertConfig, Wav2Vec2ConformerConfig, WavLMConfig, WhisperConfig, XCLIPConfig, XGLMConfig, XLMConfig, XLMProphetNetConfig, XLMRobertaConfig, XLMRobertaXLConfig, XLNetConfig, XmodConfig, YolosConfig, YosoConfig, ZambaConfig, Zamba2Config.
2025-02-21 20:23:46,331 - ERROR - Error processing page 2 of FR Example 3.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 113, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 104, in init_donut
    model = AutoModel.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\auto\auto_factory.py", line 567, in from_pretrained
    raise ValueError(
ValueError: Unrecognized configuration class <class 'transformers.models.vision_encoder_decoder.configuration_vision_encoder_decoder.VisionEncoderDecoderConfig'> for this kind of AutoModel: AutoModel.
Model type should be one of AlbertConfig, AlignConfig, AltCLIPConfig, AriaConfig, AriaTextConfig, ASTConfig, AutoformerConfig, BambaConfig, BarkConfig, BartConfig, BeitConfig, BertConfig, BertGenerationConfig, BigBirdConfig, BigBirdPegasusConfig, BioGptConfig, BitConfig, BlenderbotConfig, BlenderbotSmallConfig, BlipConfig, Blip2Config, BloomConfig, BridgeTowerConfig, BrosConfig, CamembertConfig, CanineConfig, ChameleonConfig, ChineseCLIPConfig, ChineseCLIPVisionConfig, ClapConfig, CLIPConfig, CLIPTextConfig, CLIPVisionConfig, CLIPSegConfig, ClvpConfig, LlamaConfig, CodeGenConfig, CohereConfig, Cohere2Config, ConditionalDetrConfig, ConvBertConfig, ConvNextConfig, ConvNextV2Config, CpmAntConfig, CTRLConfig, CvtConfig, DabDetrConfig, DacConfig, Data2VecAudioConfig, Data2VecTextConfig, Data2VecVisionConfig, DbrxConfig, DebertaConfig, DebertaV2Config, DecisionTransformerConfig, DeformableDetrConfig, DeiTConfig, DepthProConfig, DetaConfig, DetrConfig, DiffLlamaConfig, DinatConfig, Dinov2Config, Dinov2WithRegistersConfig, DistilBertConfig, DonutSwinConfig, DPRConfig, DPTConfig, EfficientFormerConfig, EfficientNetConfig, ElectraConfig, EncodecConfig, ErnieConfig, ErnieMConfig, EsmConfig, FalconConfig, FalconMambaConfig, FastSpeech2ConformerConfig, FlaubertConfig, FlavaConfig, FNetConfig, FocalNetConfig, FSMTConfig, FunnelConfig, GemmaConfig, Gemma2Config, GitConfig, GlmConfig, GLPNConfig, GotOcr2Config, GPT2Config, GPT2Config, GPTBigCodeConfig, GPTNeoConfig, GPTNeoXConfig, GPTNeoXJapaneseConfig, GPTJConfig, GPTSanJapaneseConfig, GraniteConfig, GraniteMoeConfig, GraniteMoeSharedConfig, GraphormerConfig, GroundingDinoConfig, GroupViTConfig, HeliumConfig, HieraConfig, HubertConfig, IBertConfig, IdeficsConfig, Idefics2Config, Idefics3Config, Idefics3VisionConfig, IJepaConfig, ImageGPTConfig, InformerConfig, JambaConfig, JetMoeConfig, JukeboxConfig, Kosmos2Config, LayoutLMConfig, LayoutLMv2Config, LayoutLMv3Config, LEDConfig, LevitConfig, LiltConfig, LlamaConfig, LongformerConfig, LongT5Config, LukeConfig, LxmertConfig, M2M100Config, MambaConfig, Mamba2Config, MarianConfig, MarkupLMConfig, Mask2FormerConfig, MaskFormerConfig, MaskFormerSwinConfig, MBartConfig, MCTCTConfig, MegaConfig, MegatronBertConfig, MgpstrConfig, MimiConfig, MistralConfig, MixtralConfig, MobileBertConfig, MobileNetV1Config, MobileNetV2Config, MobileViTConfig, MobileViTV2Config, ModernBertConfig, MoonshineConfig, MoshiConfig, MPNetConfig, MptConfig, MraConfig, MT5Config, MusicgenConfig, MusicgenMelodyConfig, MvpConfig, NatConfig, NemotronConfig, NezhaConfig, NllbMoeConfig, NystromformerConfig, OlmoConfig, Olmo2Config, OlmoeConfig, OmDetTurboConfig, OneFormerConfig, OpenLlamaConfig, OpenAIGPTConfig, OPTConfig, Owlv2Config, OwlViTConfig, PatchTSMixerConfig, PatchTSTConfig, PegasusConfig, PegasusXConfig, PerceiverConfig, PersimmonConfig, PhiConfig, Phi3Config, PhimoeConfig, PixtralVisionConfig, PLBartConfig, PoolFormerConfig, ProphetNetConfig, PvtConfig, PvtV2Config, QDQBertConfig, Qwen2Config, Qwen2_5_VLConfig, Qwen2AudioEncoderConfig, Qwen2MoeConfig, Qwen2VLConfig, RecurrentGemmaConfig, ReformerConfig, RegNetConfig, RemBertConfig, ResNetConfig, RetriBertConfig, RobertaConfig, RobertaPreLayerNormConfig, RoCBertConfig, RoFormerConfig, RTDetrConfig, RTDetrV2Config, RwkvConfig, SamConfig, SeamlessM4TConfig, SeamlessM4Tv2Config, SegformerConfig, SegGptConfig, SEWConfig, SEWDConfig, SiglipConfig, SiglipVisionConfig, Speech2TextConfig, SpeechT5Config, SplinterConfig, SqueezeBertConfig, StableLmConfig, Starcoder2Config, SuperGlueConfig, SwiftFormerConfig, SwinConfig, Swin2SRConfig, Swinv2Config, SwitchTransformersConfig, T5Config, TableTransformerConfig, TapasConfig, TextNetConfig, TimeSeriesTransformerConfig, TimesformerConfig, TimmBackboneConfig, TimmWrapperConfig, TrajectoryTransformerConfig, TransfoXLConfig, TvltConfig, TvpConfig, UdopConfig, UMT5Config, UniSpeechConfig, UniSpeechSatConfig, UnivNetConfig, VanConfig, VideoMAEConfig, ViltConfig, VisionTextDualEncoderConfig, VisualBertConfig, ViTConfig, ViTHybridConfig, ViTMAEConfig, ViTMSNConfig, VitDetConfig, VitsConfig, VivitConfig, Wav2Vec2Config, Wav2Vec2BertConfig, Wav2Vec2ConformerConfig, WavLMConfig, WhisperConfig, XCLIPConfig, XGLMConfig, XLMConfig, XLMProphetNetConfig, XLMRobertaConfig, XLMRobertaXLConfig, XLNetConfig, XmodConfig, YolosConfig, YosoConfig, ZambaConfig, Zamba2Config.
2025-02-21 20:31:50,526 - ERROR - Error processing page 1 of Eng Example 4.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 113, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 104, in init_donut
    model = VisionEncoderDecoderModel.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\vision_encoder_decoder\modeling_vision_encoder_decoder.py", line 379, in from_pretrained
    return super().from_pretrained(pretrained_model_name_or_path, *model_args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\modeling_utils.py", line 262, in _wrapper
    return func(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\modeling_utils.py", line 3611, in from_pretrained
    raise ImportError(
ImportError: Using `low_cpu_mem_usage=True` or a `device_map` requires Accelerate: `pip install 'accelerate>=0.26.0'`
2025-02-21 20:31:53,036 - ERROR - Error processing page 1 of Eng Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 113, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 104, in init_donut
    model = VisionEncoderDecoderModel.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\vision_encoder_decoder\modeling_vision_encoder_decoder.py", line 379, in from_pretrained
    return super().from_pretrained(pretrained_model_name_or_path, *model_args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\modeling_utils.py", line 262, in _wrapper
    return func(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\modeling_utils.py", line 3611, in from_pretrained
    raise ImportError(
ImportError: Using `low_cpu_mem_usage=True` or a `device_map` requires Accelerate: `pip install 'accelerate>=0.26.0'`
2025-02-21 20:31:54,516 - ERROR - Error processing page 2 of Eng Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 113, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 104, in init_donut
    model = VisionEncoderDecoderModel.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\vision_encoder_decoder\modeling_vision_encoder_decoder.py", line 379, in from_pretrained
    return super().from_pretrained(pretrained_model_name_or_path, *model_args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\modeling_utils.py", line 262, in _wrapper
    return func(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\modeling_utils.py", line 3611, in from_pretrained
    raise ImportError(
ImportError: Using `low_cpu_mem_usage=True` or a `device_map` requires Accelerate: `pip install 'accelerate>=0.26.0'`
2025-02-21 20:31:55,916 - ERROR - Error processing page 3 of Eng Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 113, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 104, in init_donut
    model = VisionEncoderDecoderModel.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\vision_encoder_decoder\modeling_vision_encoder_decoder.py", line 379, in from_pretrained
    return super().from_pretrained(pretrained_model_name_or_path, *model_args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\modeling_utils.py", line 262, in _wrapper
    return func(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\modeling_utils.py", line 3611, in from_pretrained
    raise ImportError(
ImportError: Using `low_cpu_mem_usage=True` or a `device_map` requires Accelerate: `pip install 'accelerate>=0.26.0'`
2025-02-21 20:31:57,306 - ERROR - Error processing page 4 of Eng Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 113, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 104, in init_donut
    model = VisionEncoderDecoderModel.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\vision_encoder_decoder\modeling_vision_encoder_decoder.py", line 379, in from_pretrained
    return super().from_pretrained(pretrained_model_name_or_path, *model_args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\modeling_utils.py", line 262, in _wrapper
    return func(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\modeling_utils.py", line 3611, in from_pretrained
    raise ImportError(
ImportError: Using `low_cpu_mem_usage=True` or a `device_map` requires Accelerate: `pip install 'accelerate>=0.26.0'`
2025-02-21 20:31:58,661 - ERROR - Error processing page 1 of Example 8.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 113, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 104, in init_donut
    model = VisionEncoderDecoderModel.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\vision_encoder_decoder\modeling_vision_encoder_decoder.py", line 379, in from_pretrained
    return super().from_pretrained(pretrained_model_name_or_path, *model_args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\modeling_utils.py", line 262, in _wrapper
    return func(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\modeling_utils.py", line 3611, in from_pretrained
    raise ImportError(
ImportError: Using `low_cpu_mem_usage=True` or a `device_map` requires Accelerate: `pip install 'accelerate>=0.26.0'`
2025-02-21 20:32:00,262 - ERROR - Error processing page 1 of FR Example 2.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 113, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 104, in init_donut
    model = VisionEncoderDecoderModel.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\vision_encoder_decoder\modeling_vision_encoder_decoder.py", line 379, in from_pretrained
    return super().from_pretrained(pretrained_model_name_or_path, *model_args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\modeling_utils.py", line 262, in _wrapper
    return func(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\modeling_utils.py", line 3611, in from_pretrained
    raise ImportError(
ImportError: Using `low_cpu_mem_usage=True` or a `device_map` requires Accelerate: `pip install 'accelerate>=0.26.0'`
2025-02-21 20:32:01,361 - ERROR - Error processing page 2 of FR Example 3.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 113, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 104, in init_donut
    model = VisionEncoderDecoderModel.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\vision_encoder_decoder\modeling_vision_encoder_decoder.py", line 379, in from_pretrained
    return super().from_pretrained(pretrained_model_name_or_path, *model_args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\modeling_utils.py", line 262, in _wrapper
    return func(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\modeling_utils.py", line 3611, in from_pretrained
    raise ImportError(
ImportError: Using `low_cpu_mem_usage=True` or a `device_map` requires Accelerate: `pip install 'accelerate>=0.26.0'`
2025-02-21 20:32:02,696 - ERROR - Error processing page 1 of FR Example 3.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 113, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 104, in init_donut
    model = VisionEncoderDecoderModel.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\vision_encoder_decoder\modeling_vision_encoder_decoder.py", line 379, in from_pretrained
    return super().from_pretrained(pretrained_model_name_or_path, *model_args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\modeling_utils.py", line 262, in _wrapper
    return func(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\modeling_utils.py", line 3611, in from_pretrained
    raise ImportError(
ImportError: Using `low_cpu_mem_usage=True` or a `device_map` requires Accelerate: `pip install 'accelerate>=0.26.0'`
2025-02-21 20:43:48,285 - WARNING - Donut layout analysis failed: index out of range in self
2025-02-21 20:44:09,832 - ERROR - Error processing page 1 of Eng Example 4.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 137, in process_single_page
    result = paddle_ocr.ocr(np.array(image), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 134, in __call__
    img_crop_list, angle_list, elapse = self.text_classifier(img_crop_list)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_cls.py", line 115, in __call__
    prob_out = self.output_tensors[0].copy_to_cpu()
RuntimeError: (PreconditionNotMet) Tensor holds no memory. Call Tensor::mutable_data firstly.
  [Hint: holder_ should not be null.] (at ..\paddle\phi\core\dense_tensor_impl.cc:44)

2025-02-21 20:44:24,725 - ERROR - Mixtral processing failed: name 'json' is not defined
2025-02-21 20:44:24,725 - ERROR - Error processing page 4 of Eng Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 199, in process_single_page
    'raw_ocr_text': ' '.join(ocr_data['text'])
KeyError: 'text'
2025-02-21 20:44:25,215 - ERROR - Mixtral processing failed: name 'json' is not defined
2025-02-21 20:44:25,215 - ERROR - Error processing page 1 of Example 8.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 199, in process_single_page
    'raw_ocr_text': ' '.join(ocr_data['text'])
KeyError: 'text'
2025-02-21 20:44:26,579 - ERROR - Mixtral processing failed: Error code: 400 - {'error': {'message': "Failed to generate JSON. Please adjust your prompt. See 'failed_generation' for more details.", 'type': 'invalid_request_error', 'code': 'json_validate_failed', 'failed_generation': '{\n  "Document Structure": [\n    {\n      "type": "Header",\n      "data": {\n        "report_type": "Mammogram Report",\n        "facility_name": "CLINIQUE RADIOLOGIQUE AUDET",\n        "report_date": "2023-12-05"\n      }\n    },\n    {\n      "type": "PatientInfo",\n      "data": {\n        "patient_name": "Sophie Letourneau",\n        "id": "18779212243",\n        "date_of_birth": "1942-08-20"\n      }\n    },\n    {\n      "type": "ClinicalHistory",\n      "data": {\n        "history": [\n          {\n            "text": "Bilateral mammogram + 6 month FU Lt breast u/s.."\n          },\n          {\n            "text": "Prior: Breast imaging studies dating back to November 15, 2022."\n          }\n        ]\n      }\n    },\n    {\n      "type": "ImagingFindings",\n      "data": {\n        "findings": [\n          {\n            "text": "No suspicious morphologic findings are noted."\n          },\n          {\n            "text": "No axillary lymphadenopathy."\n          }\n        ]\n      }\n    },\n    {\n      "type": "BiradsAssessment",\n      "data": {\n        "assessment": "BILATERAL MAMMOGRAM WITH TOmOSYNTHESIS:"\n      }\n    },\n    {\n      "type": "Recommendations",\n      "data": {\n        "recommendations": [\n          {\n            "text": "Follow-up in 6 months for left breast ultrasound."\n          }\n        ]\n      }\n    }}'}}
2025-02-21 20:44:26,579 - ERROR - Error processing page 2 of FR Example 3.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 199, in process_single_page
    'raw_ocr_text': ' '.join(ocr_data['text'])
KeyError: 'text'
2025-02-21 20:44:26,581 - ERROR - Mixtral processing failed: name 'json' is not defined
2025-02-21 20:44:26,583 - ERROR - Mixtral processing failed: name 'json' is not defined
2025-02-21 20:44:26,587 - ERROR - Error processing page 1 of Eng Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 199, in process_single_page
    'raw_ocr_text': ' '.join(ocr_data['text'])
KeyError: 'text'
2025-02-21 20:44:26,587 - ERROR - Error processing page 1 of FR Example 3.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 199, in process_single_page
    'raw_ocr_text': ' '.join(ocr_data['text'])
KeyError: 'text'
2025-02-21 20:44:33,821 - ERROR - Error processing page 3 of Eng Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 137, in process_single_page
    result = paddle_ocr.ocr(np.array(image), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 144, in __call__
    rec_res, elapse = self.text_recognizer(img_crop_list)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_rec.py", line 817, in __call__
    rec_res[indices[beg_img_no + rno]] = rec_result[rno]
IndexError: index 70 is out of bounds for axis 0 with size 70
2025-02-21 20:44:48,715 - ERROR - Mixtral processing failed: name 'json' is not defined
2025-02-21 20:44:48,715 - ERROR - Error processing page 2 of Eng Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 199, in process_single_page
    'raw_ocr_text': ' '.join(ocr_data['text'])
KeyError: 'text'
2025-02-21 20:45:04,685 - ERROR - Mixtral processing failed: name 'json' is not defined
2025-02-21 20:45:04,685 - ERROR - Error processing page 1 of FR Example 2.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 199, in process_single_page
    'raw_ocr_text': ' '.join(ocr_data['text'])
KeyError: 'text'
2025-02-21 21:07:43,741 - ERROR - Mixtral processing failed: name 'json' is not defined
2025-02-21 21:07:43,744 - ERROR - Mixtral processing failed: name 'json' is not defined
2025-02-21 21:07:52,114 - ERROR - Mixtral processing failed: name 'json' is not defined
2025-02-21 21:07:55,062 - ERROR - Mixtral processing failed: name 'json' is not defined
2025-02-21 21:08:00,827 - WARNING - Donut layout analysis failed: index out of range in self
2025-02-21 21:08:09,828 - ERROR - Mixtral processing failed: name 'json' is not defined
2025-02-24 07:43:57,391 - WARNING - Donut layout analysis failed: index out of range in self
2025-02-24 07:43:57,393 - WARNING - Donut layout analysis failed: index out of range in self
2025-02-24 07:43:57,394 - WARNING - Donut layout analysis failed: index out of range in self
2025-02-24 07:44:57,831 - ERROR - Error processing page 2 of FR Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 137, in process_single_page
    result = paddle_ocr.ocr(np.array(image), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 134, in __call__
    img_crop_list, angle_list, elapse = self.text_classifier(img_crop_list)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_cls.py", line 115, in __call__
    prob_out = self.output_tensors[0].copy_to_cpu()
RuntimeError: (PreconditionNotMet) Tensor holds no memory. Call Tensor::mutable_data firstly.
  [Hint: holder_ should not be null.] (at ..\paddle\phi\core\dense_tensor_impl.cc:44)

2025-02-24 07:45:00,419 - ERROR - Error processing page 2 of Eng Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 137, in process_single_page
    result = paddle_ocr.ocr(np.array(image), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 134, in __call__
    img_crop_list, angle_list, elapse = self.text_classifier(img_crop_list)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_cls.py", line 115, in __call__
    prob_out = self.output_tensors[0].copy_to_cpu()
RuntimeError: (PreconditionNotMet) Tensor holds no memory. Call Tensor::mutable_data firstly.
  [Hint: holder_ should not be null.] (at ..\paddle\phi\core\dense_tensor_impl.cc:44)

2025-02-24 07:45:03,611 - ERROR - Error processing page 1 of Eng Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 137, in process_single_page
    result = paddle_ocr.ocr(np.array(image), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 134, in __call__
    img_crop_list, angle_list, elapse = self.text_classifier(img_crop_list)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_cls.py", line 115, in __call__
    prob_out = self.output_tensors[0].copy_to_cpu()
RuntimeError: (PreconditionNotMet) Tensor holds no memory. Call Tensor::mutable_data firstly.
  [Hint: holder_ should not be null.] (at ..\paddle\phi\core\dense_tensor_impl.cc:44)

2025-02-24 07:45:14,051 - ERROR - Error processing page 1 of FR Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 137, in process_single_page
    result = paddle_ocr.ocr(np.array(image), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 134, in __call__
    img_crop_list, angle_list, elapse = self.text_classifier(img_crop_list)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_cls.py", line 115, in __call__
    prob_out = self.output_tensors[0].copy_to_cpu()
RuntimeError: (PreconditionNotMet) Tensor holds no memory. Call Tensor::mutable_data firstly.
  [Hint: holder_ should not be null.] (at ..\paddle\phi\core\dense_tensor_impl.cc:44)

2025-02-24 07:45:22,946 - ERROR - Error processing page 1 of FR Example 2.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 137, in process_single_page
    result = paddle_ocr.ocr(np.array(image), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 134, in __call__
    img_crop_list, angle_list, elapse = self.text_classifier(img_crop_list)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_cls.py", line 115, in __call__
    prob_out = self.output_tensors[0].copy_to_cpu()
RuntimeError: (PreconditionNotMet) Tensor holds no memory. Call Tensor::mutable_data firstly.
  [Hint: holder_ should not be null.] (at ..\paddle\phi\core\dense_tensor_impl.cc:44)

2025-02-24 07:45:35,281 - ERROR - Error processing page 1 of Example 10.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 137, in process_single_page
    result = paddle_ocr.ocr(np.array(image), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 144, in __call__
    rec_res, elapse = self.text_recognizer(img_crop_list)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_rec.py", line 817, in __call__
    rec_res[indices[beg_img_no + rno]] = rec_result[rno]
IndexError: index 59 is out of bounds for axis 0 with size 59
2025-02-24 07:45:43,321 - ERROR - Mixtral processing failed: name 'json' is not defined
2025-02-24 07:45:43,731 - ERROR - Mixtral processing failed: name 'json' is not defined
2025-02-24 07:45:43,854 - ERROR - Mixtral processing failed: name 'json' is not defined
2025-02-24 07:45:44,021 - ERROR - Mixtral processing failed: name 'json' is not defined
2025-02-24 07:45:44,271 - ERROR - Mixtral processing failed: name 'json' is not defined
2025-02-24 07:45:44,344 - ERROR - Mixtral processing failed: name 'json' is not defined
2025-02-24 07:45:44,395 - ERROR - Mixtral processing failed: name 'json' is not defined
2025-02-24 08:38:39,923 - WARNING - Donut layout analysis failed: index out of range in self
2025-02-24 08:38:39,923 - WARNING - Donut layout analysis failed: index out of range in self
2025-02-24 08:38:39,923 - WARNING - Donut layout analysis failed: index out of range in self
2025-02-24 08:38:54,559 - ERROR - Mixtral processing failed: Error code: 429 - {'error': {'message': 'Rate limit reached for model `mixtral-8x7b-32768` in organization `org_01jjr06gvjepht8gfgh9726zm6` service tier `on_demand` on tokens per minute (TPM): Limit 5000, Used 5075, Requested 1058. Please try again in 13.603s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing', 'type': 'tokens', 'code': 'rate_limit_exceeded'}}
2025-02-24 08:49:06,171 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-24 08:49:15,379 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-24 08:49:19,258 - WARNING - Donut layout analysis failed: index out of range in self
2025-02-24 08:49:26,237 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-24 09:07:25,712 - ERROR - Error processing page 1 of Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 145, in process_single_page
    result = paddle_ocr.ocr(np.array(image), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 134, in __call__
    img_crop_list, angle_list, elapse = self.text_classifier(img_crop_list)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_cls.py", line 115, in __call__
    prob_out = self.output_tensors[0].copy_to_cpu()
RuntimeError: (PreconditionNotMet) Tensor holds no memory. Call Tensor::mutable_data firstly.
  [Hint: holder_ should not be null.] (at ..\paddle\phi\core\dense_tensor_impl.cc:44)

2025-02-24 09:07:33,675 - WARNING - Donut layout analysis failed: index out of range in self
2025-02-24 09:07:39,952 - ERROR - Findings processing failed: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-02-24 09:13:34,372 - ERROR - Findings processing failed: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-02-24 09:15:41,675 - ERROR - Findings processing failed: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-02-24 10:28:48,396 - ERROR - Processing failed: A process in the process pool was terminated abruptly while the future was running or pending.
2025-02-24 10:28:48,402 - ERROR - Processing failed: A process in the process pool was terminated abruptly while the future was running or pending.
2025-02-24 10:28:48,402 - ERROR - Processing failed: A process in the process pool was terminated abruptly while the future was running or pending.
2025-02-24 10:32:09,828 - ERROR - Processing failed: A process in the process pool was terminated abruptly while the future was running or pending.
2025-02-24 10:32:09,828 - ERROR - Processing failed: A process in the process pool was terminated abruptly while the future was running or pending.
2025-02-24 10:32:09,828 - ERROR - Processing failed: A process in the process pool was terminated abruptly while the future was running or pending.
2025-02-24 10:58:43,917 - ERROR - Processing failed: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 12:05:00,362 - ERROR - Processing failed: A process in the process pool was terminated abruptly while the future was running or pending.
2025-02-24 12:05:00,362 - ERROR - Processing failed: A process in the process pool was terminated abruptly while the future was running or pending.
2025-02-24 12:05:00,362 - ERROR - Processing failed: A process in the process pool was terminated abruptly while the future was running or pending.
2025-02-24 12:35:54,783 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 12:35:54,793 - ERROR - Processing failed: module 'ocr_utils' has no attribute 'process_text'
2025-02-24 12:35:55,238 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 12:35:55,258 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 12:35:55,265 - ERROR - Processing failed: module 'ocr_utils' has no attribute 'process_text'
2025-02-24 12:37:39,541 - ERROR - Error processing page 1 of Eng Example 4.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 250, in process_single_page
    result = paddle_ocr.ocr(np.array(image), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 134, in __call__
    img_crop_list, angle_list, elapse = self.text_classifier(img_crop_list)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_cls.py", line 115, in __call__
    prob_out = self.output_tensors[0].copy_to_cpu()
RuntimeError: (PreconditionNotMet) Tensor holds no memory. Call Tensor::mutable_data firstly.
  [Hint: holder_ should not be null.] (at ..\paddle\phi\core\dense_tensor_impl.cc:44)

2025-02-24 12:37:39,839 - ERROR - Error processing page 2 of Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 250, in process_single_page
    result = paddle_ocr.ocr(np.array(image), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 134, in __call__
    img_crop_list, angle_list, elapse = self.text_classifier(img_crop_list)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_cls.py", line 115, in __call__
    prob_out = self.output_tensors[0].copy_to_cpu()
RuntimeError: (PreconditionNotMet) Tensor holds no memory. Call Tensor::mutable_data firstly.
  [Hint: holder_ should not be null.] (at ..\paddle\phi\core\dense_tensor_impl.cc:44)

2025-02-24 12:48:40,097 - ERROR - Processing failed: A process in the process pool was terminated abruptly while the future was running or pending.
2025-02-24 12:48:40,099 - ERROR - Processing failed: A process in the process pool was terminated abruptly while the future was running or pending.
2025-02-24 13:29:52,996 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 13:29:53,000 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 13:29:53,013 - ERROR - Processing failed: module 'ocr_utils' has no attribute 'process_text'
2025-02-24 13:31:19,473 - ERROR - PaddlePaddle initialization failed: too many values to unpack (expected 3)
2025-02-24 13:31:19,477 - ERROR - Error processing page 2 of Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 119, in init_paddle
    ocr.ocr(dummy_tensor.numpy(), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 109, in __call__
    dt_boxes, elapse = self.text_detector(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 396, in __call__
    dt_boxes, elapse = self.predict(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 239, in predict
    data = transform(data, self.preprocess_op)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\__init__.py", line 72, in transform
    data = op(data)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\operators.py", line 228, in __call__
    src_h, src_w, _ = img.shape
ValueError: too many values to unpack (expected 3)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 265, in process_single_page
    paddle_ocr = init_paddle()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 126, in init_paddle
    raise RuntimeError("PaddlePaddle initialization error") from e
RuntimeError: PaddlePaddle initialization error
2025-02-24 13:31:21,761 - ERROR - PaddlePaddle initialization failed: too many values to unpack (expected 3)
2025-02-24 13:31:21,765 - ERROR - Error processing page 1 of Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 119, in init_paddle
    ocr.ocr(dummy_tensor.numpy(), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 109, in __call__
    dt_boxes, elapse = self.text_detector(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 396, in __call__
    dt_boxes, elapse = self.predict(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 239, in predict
    data = transform(data, self.preprocess_op)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\__init__.py", line 72, in transform
    data = op(data)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\operators.py", line 228, in __call__
    src_h, src_w, _ = img.shape
ValueError: too many values to unpack (expected 3)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 265, in process_single_page
    paddle_ocr = init_paddle()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 126, in init_paddle
    raise RuntimeError("PaddlePaddle initialization error") from e
RuntimeError: PaddlePaddle initialization error
2025-02-24 13:50:33,848 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 13:50:33,851 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 13:50:33,864 - ERROR - Processing failed: module 'ocr_utils' has no attribute 'process_text'
2025-02-24 13:51:57,481 - ERROR - PaddlePaddle initialization failed: too many values to unpack (expected 3)
2025-02-24 13:51:57,484 - ERROR - Error processing page 2 of Eng Example 2.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 119, in init_paddle
    ocr.ocr(dummy_tensor.numpy(), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 109, in __call__
    dt_boxes, elapse = self.text_detector(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 396, in __call__
    dt_boxes, elapse = self.predict(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 239, in predict
    data = transform(data, self.preprocess_op)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\__init__.py", line 72, in transform
    data = op(data)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\operators.py", line 228, in __call__
    src_h, src_w, _ = img.shape
ValueError: too many values to unpack (expected 3)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 265, in process_single_page
    paddle_ocr = init_paddle()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 126, in init_paddle
    raise RuntimeError("PaddlePaddle initialization error") from e
RuntimeError: PaddlePaddle initialization error
2025-02-24 13:51:59,694 - ERROR - PaddlePaddle initialization failed: too many values to unpack (expected 3)
2025-02-24 13:51:59,696 - ERROR - Error processing page 1 of Eng Example 2.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 119, in init_paddle
    ocr.ocr(dummy_tensor.numpy(), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 109, in __call__
    dt_boxes, elapse = self.text_detector(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 396, in __call__
    dt_boxes, elapse = self.predict(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 239, in predict
    data = transform(data, self.preprocess_op)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\__init__.py", line 72, in transform
    data = op(data)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\operators.py", line 228, in __call__
    src_h, src_w, _ = img.shape
ValueError: too many values to unpack (expected 3)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 265, in process_single_page
    paddle_ocr = init_paddle()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 126, in init_paddle
    raise RuntimeError("PaddlePaddle initialization error") from e
RuntimeError: PaddlePaddle initialization error
2025-02-24 14:32:50,948 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 14:32:50,958 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 14:32:50,960 - ERROR - Processing failed: module 'ocr_utils' has no attribute 'process_text'
2025-02-24 14:34:10,008 - ERROR - PaddlePaddle initialization failed: too many values to unpack (expected 3)
2025-02-24 14:34:10,008 - ERROR - Error processing page 2 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 119, in init_paddle
    ocr.ocr(dummy_tensor.numpy(), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 109, in __call__
    dt_boxes, elapse = self.text_detector(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 396, in __call__
    dt_boxes, elapse = self.predict(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 239, in predict
    data = transform(data, self.preprocess_op)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\__init__.py", line 72, in transform
    data = op(data)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\operators.py", line 228, in __call__
    src_h, src_w, _ = img.shape
ValueError: too many values to unpack (expected 3)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 265, in process_single_page
    paddle_ocr = init_paddle()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 126, in init_paddle
    raise RuntimeError("PaddlePaddle initialization error") from e
RuntimeError: PaddlePaddle initialization error
2025-02-24 14:34:12,358 - ERROR - PaddlePaddle initialization failed: too many values to unpack (expected 3)
2025-02-24 14:34:12,385 - ERROR - Error processing page 1 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 119, in init_paddle
    ocr.ocr(dummy_tensor.numpy(), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 109, in __call__
    dt_boxes, elapse = self.text_detector(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 396, in __call__
    dt_boxes, elapse = self.predict(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 239, in predict
    data = transform(data, self.preprocess_op)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\__init__.py", line 72, in transform
    data = op(data)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\operators.py", line 228, in __call__
    src_h, src_w, _ = img.shape
ValueError: too many values to unpack (expected 3)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 265, in process_single_page
    paddle_ocr = init_paddle()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 126, in init_paddle
    raise RuntimeError("PaddlePaddle initialization error") from e
RuntimeError: PaddlePaddle initialization error
2025-02-24 15:05:24,287 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 15:05:24,301 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 15:05:24,309 - ERROR - Processing failed: module 'ocr_utils' has no attribute 'process_text'
2025-02-24 15:06:20,121 - ERROR - PaddlePaddle initialization failed: too many values to unpack (expected 3)
2025-02-24 15:06:20,123 - ERROR - Error processing page 1 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 119, in init_paddle
    ocr.ocr(dummy_tensor.numpy(), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 109, in __call__
    dt_boxes, elapse = self.text_detector(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 396, in __call__
    dt_boxes, elapse = self.predict(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 239, in predict
    data = transform(data, self.preprocess_op)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\__init__.py", line 72, in transform
    data = op(data)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\operators.py", line 228, in __call__
    src_h, src_w, _ = img.shape
ValueError: too many values to unpack (expected 3)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 265, in process_single_page
    paddle_ocr = init_paddle()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 126, in init_paddle
    raise RuntimeError("PaddlePaddle initialization error") from e
RuntimeError: PaddlePaddle initialization error
2025-02-24 15:06:21,885 - ERROR - PaddlePaddle initialization failed: too many values to unpack (expected 3)
2025-02-24 15:06:21,889 - ERROR - Error processing page 2 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 119, in init_paddle
    ocr.ocr(dummy_tensor.numpy(), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 109, in __call__
    dt_boxes, elapse = self.text_detector(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 396, in __call__
    dt_boxes, elapse = self.predict(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 239, in predict
    data = transform(data, self.preprocess_op)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\__init__.py", line 72, in transform
    data = op(data)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\operators.py", line 228, in __call__
    src_h, src_w, _ = img.shape
ValueError: too many values to unpack (expected 3)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 265, in process_single_page
    paddle_ocr = init_paddle()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 126, in init_paddle
    raise RuntimeError("PaddlePaddle initialization error") from e
RuntimeError: PaddlePaddle initialization error
2025-02-24 15:17:57,940 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 15:17:57,945 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 15:17:57,951 - ERROR - Processing failed: module 'ocr_utils' has no attribute 'process_text'
2025-02-24 15:19:14,140 - ERROR - PaddlePaddle initialization failed: too many values to unpack (expected 3)
2025-02-24 15:19:14,140 - ERROR - Error processing page 1 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 119, in init_paddle
    ocr.ocr(dummy_tensor.numpy(), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 109, in __call__
    dt_boxes, elapse = self.text_detector(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 396, in __call__
    dt_boxes, elapse = self.predict(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 239, in predict
    data = transform(data, self.preprocess_op)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\__init__.py", line 72, in transform
    data = op(data)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\operators.py", line 228, in __call__
    src_h, src_w, _ = img.shape
ValueError: too many values to unpack (expected 3)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 265, in process_single_page
    paddle_ocr = init_paddle()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 126, in init_paddle
    raise RuntimeError("PaddlePaddle initialization error") from e
RuntimeError: PaddlePaddle initialization error
2025-02-24 15:19:16,172 - ERROR - PaddlePaddle initialization failed: too many values to unpack (expected 3)
2025-02-24 15:19:16,174 - ERROR - Error processing page 2 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 119, in init_paddle
    ocr.ocr(dummy_tensor.numpy(), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 109, in __call__
    dt_boxes, elapse = self.text_detector(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 396, in __call__
    dt_boxes, elapse = self.predict(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 239, in predict
    data = transform(data, self.preprocess_op)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\__init__.py", line 72, in transform
    data = op(data)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\operators.py", line 228, in __call__
    src_h, src_w, _ = img.shape
ValueError: too many values to unpack (expected 3)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 265, in process_single_page
    paddle_ocr = init_paddle()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 126, in init_paddle
    raise RuntimeError("PaddlePaddle initialization error") from e
RuntimeError: PaddlePaddle initialization error
2025-02-24 15:36:27,284 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 15:36:27,294 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 15:36:27,303 - ERROR - Processing failed: module 'ocr_utils' has no attribute 'process_text'
2025-02-24 15:37:41,768 - ERROR - PaddlePaddle initialization failed: too many values to unpack (expected 3)
2025-02-24 15:37:41,771 - ERROR - Error processing page 2 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 119, in init_paddle
    ocr.ocr(dummy_tensor.numpy(), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 109, in __call__
    dt_boxes, elapse = self.text_detector(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 396, in __call__
    dt_boxes, elapse = self.predict(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 239, in predict
    data = transform(data, self.preprocess_op)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\__init__.py", line 72, in transform
    data = op(data)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\operators.py", line 228, in __call__
    src_h, src_w, _ = img.shape
ValueError: too many values to unpack (expected 3)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 265, in process_single_page
    paddle_ocr = init_paddle()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 126, in init_paddle
    raise RuntimeError("PaddlePaddle initialization error") from e
RuntimeError: PaddlePaddle initialization error
2025-02-24 15:37:43,974 - ERROR - PaddlePaddle initialization failed: too many values to unpack (expected 3)
2025-02-24 15:37:43,993 - ERROR - Error processing page 1 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 119, in init_paddle
    ocr.ocr(dummy_tensor.numpy(), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 109, in __call__
    dt_boxes, elapse = self.text_detector(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 396, in __call__
    dt_boxes, elapse = self.predict(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 239, in predict
    data = transform(data, self.preprocess_op)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\__init__.py", line 72, in transform
    data = op(data)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\operators.py", line 228, in __call__
    src_h, src_w, _ = img.shape
ValueError: too many values to unpack (expected 3)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 265, in process_single_page
    paddle_ocr = init_paddle()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 126, in init_paddle
    raise RuntimeError("PaddlePaddle initialization error") from e
RuntimeError: PaddlePaddle initialization error
2025-02-24 15:40:02,471 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 15:40:02,481 - ERROR - Processing failed: module 'ocr_utils' has no attribute 'process_text'
2025-02-24 15:40:36,480 - INFO - PaddlePaddle initialized with Place(cpu)
2025-02-24 15:40:38,548 - ERROR - PaddlePaddle initialization failed: too many values to unpack (expected 3)
2025-02-24 15:40:38,550 - ERROR - Error processing page 1 of Eng Example 3.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 119, in init_paddle
    ocr.ocr(dummy_tensor.numpy(), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 109, in __call__
    dt_boxes, elapse = self.text_detector(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 396, in __call__
    dt_boxes, elapse = self.predict(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 239, in predict
    data = transform(data, self.preprocess_op)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\__init__.py", line 72, in transform
    data = op(data)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\operators.py", line 228, in __call__
    src_h, src_w, _ = img.shape
ValueError: too many values to unpack (expected 3)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 265, in process_single_page
    paddle_ocr = init_paddle()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 126, in init_paddle
    raise RuntimeError("PaddlePaddle initialization error") from e
RuntimeError: PaddlePaddle initialization error
2025-02-24 16:13:21,609 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 16:13:21,618 - ERROR - Processing failed: module 'ocr_utils' has no attribute 'process_text'
2025-02-24 16:14:03,458 - ERROR - PaddlePaddle initialization failed: too many values to unpack (expected 3)
2025-02-24 16:14:03,460 - ERROR - Error processing page 1 of Eng Example 3.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 119, in init_paddle
    ocr.ocr(dummy_tensor.numpy(), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 109, in __call__
    dt_boxes, elapse = self.text_detector(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 396, in __call__
    dt_boxes, elapse = self.predict(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 239, in predict
    data = transform(data, self.preprocess_op)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\__init__.py", line 72, in transform
    data = op(data)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\operators.py", line 228, in __call__
    src_h, src_w, _ = img.shape
ValueError: too many values to unpack (expected 3)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 265, in process_single_page
    paddle_ocr = init_paddle()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 126, in init_paddle
    raise RuntimeError("PaddlePaddle initialization error") from e
RuntimeError: PaddlePaddle initialization error
2025-02-24 16:19:46,363 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 16:19:46,372 - ERROR - Processing failed: module 'ocr_utils' has no attribute 'process_text'
2025-02-24 16:19:51,462 - ERROR - Error processing page 1 of Eng Example 3.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 255, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 175, in init_donut
    model = VisionEncoderDecoderModel.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\vision_encoder_decoder\modeling_vision_encoder_decoder.py", line 379, in from_pretrained
    return super().from_pretrained(pretrained_model_name_or_path, *model_args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\modeling_utils.py", line 262, in _wrapper
    return func(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\modeling_utils.py", line 4228, in from_pretrained
    no_split_modules = model._get_no_split_modules(device_map)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\modeling_utils.py", line 2064, in _get_no_split_modules
    raise ValueError(
ValueError: VisionEncoderDecoderModel does not support `device_map='auto'`. To implement support, the model class needs to implement the `_no_split_modules` attribute.
2025-02-24 16:23:30,045 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 16:23:30,057 - ERROR - Processing failed: module 'ocr_utils' has no attribute 'process_text'
2025-02-24 16:24:15,985 - ERROR - PaddlePaddle initialization failed: too many values to unpack (expected 3)
2025-02-24 16:24:15,988 - ERROR - Error processing page 1 of Eng Example 3.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 123, in init_paddle
    ocr.ocr(dummy_tensor.numpy(), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 109, in __call__
    dt_boxes, elapse = self.text_detector(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 396, in __call__
    dt_boxes, elapse = self.predict(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 239, in predict
    data = transform(data, self.preprocess_op)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\__init__.py", line 72, in transform
    data = op(data)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\operators.py", line 228, in __call__
    src_h, src_w, _ = img.shape
ValueError: too many values to unpack (expected 3)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 288, in process_single_page
    paddle_ocr = init_paddle()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 130, in init_paddle
    raise RuntimeError("PaddlePaddle initialization error") from e
RuntimeError: PaddlePaddle initialization error
2025-02-24 17:19:22,280 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 17:19:22,296 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 17:19:22,303 - ERROR - Processing failed: module 'ocr_utils' has no attribute 'process_text'
2025-02-24 17:20:44,439 - ERROR - PaddlePaddle initialization failed: too many values to unpack (expected 3)
2025-02-24 17:20:44,441 - ERROR - Error processing page 1 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 123, in init_paddle
    ocr.ocr(dummy_tensor.numpy(), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 109, in __call__
    dt_boxes, elapse = self.text_detector(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 396, in __call__
    dt_boxes, elapse = self.predict(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 239, in predict
    data = transform(data, self.preprocess_op)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\__init__.py", line 72, in transform
    data = op(data)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\operators.py", line 228, in __call__
    src_h, src_w, _ = img.shape
ValueError: too many values to unpack (expected 3)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 288, in process_single_page
    paddle_ocr = init_paddle()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 130, in init_paddle
    raise RuntimeError("PaddlePaddle initialization error") from e
RuntimeError: PaddlePaddle initialization error
2025-02-24 17:20:46,848 - ERROR - PaddlePaddle initialization failed: too many values to unpack (expected 3)
2025-02-24 17:20:46,851 - ERROR - Error processing page 2 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 123, in init_paddle
    ocr.ocr(dummy_tensor.numpy(), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 109, in __call__
    dt_boxes, elapse = self.text_detector(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 396, in __call__
    dt_boxes, elapse = self.predict(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 239, in predict
    data = transform(data, self.preprocess_op)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\__init__.py", line 72, in transform
    data = op(data)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\operators.py", line 228, in __call__
    src_h, src_w, _ = img.shape
ValueError: too many values to unpack (expected 3)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 288, in process_single_page
    paddle_ocr = init_paddle()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 130, in init_paddle
    raise RuntimeError("PaddlePaddle initialization error") from e
RuntimeError: PaddlePaddle initialization error
2025-02-24 17:29:19,569 - ERROR - PaddleOCR critical failure: [WinError 32] The process cannot access the file because it is being used by another process: 'C:\\Users\\ybada/.paddleocr/whl\\det\\en\\en_PP-OCRv3_det_infer\\en_PP-OCRv3_det_infer.tar.tmp'
2025-02-24 17:29:19,569 - WARNING - PaddleOCR failed: [WinError 32] The process cannot access the file because it is being used by another process: 'C:\\Users\\ybada/.paddleocr/whl\\det\\en\\en_PP-OCRv3_det_infer\\en_PP-OCRv3_det_infer.tar.tmp'
2025-02-24 17:29:19,572 - ERROR - All OCR methods failed: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 17:29:19,572 - ERROR - Page processing error: Hybrid OCR pipeline failed
2025-02-24 17:30:01,249 - ERROR - PaddleOCR critical failure: 
2025-02-24 17:30:01,249 - WARNING - PaddleOCR failed: 
2025-02-24 17:30:01,249 - ERROR - All OCR methods failed: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 17:30:01,249 - ERROR - Page processing error: Hybrid OCR pipeline failed
2025-02-24 17:30:01,259 - ERROR - Processing failed: module 'ocr_utils' has no attribute 'process_text'
2025-02-24 17:30:25,405 - ERROR - OCR failed for page 1: 'FileHandler' object has no attribute 'buffer'
2025-02-24 17:30:35,502 - ERROR - OCR failed for page 2: 'FileHandler' object has no attribute 'buffer'
2025-02-24 17:37:18,614 - ERROR - Page processing error: 'Image' object has no attribute 'shape'
2025-02-24 17:37:18,619 - ERROR - Page processing error: 'Image' object has no attribute 'shape'
2025-02-24 17:37:18,624 - ERROR - Processing failed: module 'ocr_utils' has no attribute 'process_text'
2025-02-24 17:37:21,741 - WARNING - PaddleOCR failed: name 'ocr_utils' is not defined
2025-02-24 17:37:27,321 - ERROR - OCR failed for page 1: 'FileHandler' object has no attribute 'buffer'
2025-02-24 17:37:27,811 - WARNING - PaddleOCR failed: name 'ocr_utils' is not defined
2025-02-24 17:37:31,981 - ERROR - OCR failed for page 2: 'FileHandler' object has no attribute 'buffer'
2025-02-24 17:43:11,409 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 17:43:11,413 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 17:43:11,419 - ERROR - Processing failed: module 'ocr_utils' has no attribute 'process_text'
2025-02-24 17:43:43,497 - ERROR - Error processing page 2 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 264, in process_single_page
    ocr_text = ocr_utils.hybrid_ocr(img_array)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\./src\ocr_utils.py", line 118, in hybrid_ocr
    result = validate_results(texts)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\./src\ocr_utils.py", line 130, in validate_results
    best_text = max(texts.values(), key=lambda t: medical_term_score(t))
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\./src\ocr_utils.py", line 130, in <lambda>
    best_text = max(texts.values(), key=lambda t: medical_term_score(t))
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\./src\ocr_utils.py", line 140, in medical_term_score
    return sum(
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\./src\ocr_utils.py", line 142, in <genexpr>
    if re.search(rf"\b{term}\b", text, re.IGNORECASE)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 201, in search
    return _compile(pattern, flags).search(string)
TypeError: expected string or bytes-like object
2025-02-24 17:43:46,773 - ERROR - Error processing page 1 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 264, in process_single_page
    ocr_text = ocr_utils.hybrid_ocr(img_array)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\./src\ocr_utils.py", line 118, in hybrid_ocr
    result = validate_results(texts)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\./src\ocr_utils.py", line 130, in validate_results
    best_text = max(texts.values(), key=lambda t: medical_term_score(t))
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\./src\ocr_utils.py", line 130, in <lambda>
    best_text = max(texts.values(), key=lambda t: medical_term_score(t))
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\./src\ocr_utils.py", line 140, in medical_term_score
    return sum(
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\./src\ocr_utils.py", line 142, in <genexpr>
    if re.search(rf"\b{term}\b", text, re.IGNORECASE)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 201, in search
    return _compile(pattern, flags).search(string)
TypeError: expected string or bytes-like object
2025-02-24 17:48:11,539 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 17:48:11,559 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 17:48:11,567 - ERROR - Processing failed: module 'ocr_utils' has no attribute 'process_text'
2025-02-24 17:48:41,338 - WARNING - Low medical content on page 2
2025-02-24 17:48:44,041 - WARNING - Low medical content on page 1
2025-02-24 17:50:44,414 - ERROR - PaddlePaddle initialization failed: 404 Client Error. (Request ID: Root=1-67bd05d5-4bbd7f304cfb2c9743169d5b;18a879b0-6ff6-47a8-8b49-e2b4ea31da56)

Repository Not Found for url: https://huggingface.co/PaddlePaddle/PaddleOCR/resolve/main/en_PP-OCRv4_det_infer.
Please make sure you specified the correct `repo_id` and `repo_type`.
If you are trying to access a private or gated repo, make sure you are authenticated.
2025-02-24 17:50:44,419 - ERROR - Error processing page 1 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_http.py", line 409, in hf_raise_for_status
    response.raise_for_status()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://huggingface.co/PaddlePaddle/PaddleOCR/resolve/main/en_PP-OCRv4_det_infer

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 113, in init_paddle
    det_model_dir=hf_hub_download('PaddlePaddle/PaddleOCR', 'en_PP-OCRv4_det_infer'),
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 862, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 969, in _hf_hub_download_to_cache_dir
    _raise_on_head_call_error(head_call_error, force_download, local_files_only)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 1486, in _raise_on_head_call_error
    raise head_call_error
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 1376, in _get_metadata_or_catch_error
    metadata = get_hf_file_metadata(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 1296, in get_hf_file_metadata
    r = _request_wrapper(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 280, in _request_wrapper
    response = _request_wrapper(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 304, in _request_wrapper
    hf_raise_for_status(response)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_http.py", line 458, in hf_raise_for_status
    raise _format(RepositoryNotFoundError, message, response) from e
huggingface_hub.errors.RepositoryNotFoundError: 404 Client Error. (Request ID: Root=1-67bd05d5-4bbd7f304cfb2c9743169d5b;18a879b0-6ff6-47a8-8b49-e2b4ea31da56)

Repository Not Found for url: https://huggingface.co/PaddlePaddle/PaddleOCR/resolve/main/en_PP-OCRv4_det_infer.
Please make sure you specified the correct `repo_id` and `repo_type`.
If you are trying to access a private or gated repo, make sure you are authenticated.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 308, in process_single_page
    paddle_ocr = init_paddle()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 135, in init_paddle
    raise RuntimeError("PaddlePaddle initialization error") from e
RuntimeError: PaddlePaddle initialization error
2025-02-24 17:50:48,304 - ERROR - PaddlePaddle initialization failed: 404 Client Error. (Request ID: Root=1-67bd05d9-44abf908597a3eff0bb16d97;c233cbad-47e8-4639-9be6-60a359a075d8)

Repository Not Found for url: https://huggingface.co/PaddlePaddle/PaddleOCR/resolve/main/en_PP-OCRv4_det_infer.
Please make sure you specified the correct `repo_id` and `repo_type`.
If you are trying to access a private or gated repo, make sure you are authenticated.
2025-02-24 17:50:48,307 - ERROR - Error processing page 2 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_http.py", line 409, in hf_raise_for_status
    response.raise_for_status()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://huggingface.co/PaddlePaddle/PaddleOCR/resolve/main/en_PP-OCRv4_det_infer

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 113, in init_paddle
    det_model_dir=hf_hub_download('PaddlePaddle/PaddleOCR', 'en_PP-OCRv4_det_infer'),
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 862, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 969, in _hf_hub_download_to_cache_dir
    _raise_on_head_call_error(head_call_error, force_download, local_files_only)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 1486, in _raise_on_head_call_error
    raise head_call_error
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 1376, in _get_metadata_or_catch_error
    metadata = get_hf_file_metadata(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 1296, in get_hf_file_metadata
    r = _request_wrapper(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 280, in _request_wrapper
    response = _request_wrapper(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 304, in _request_wrapper
    hf_raise_for_status(response)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_http.py", line 458, in hf_raise_for_status
    raise _format(RepositoryNotFoundError, message, response) from e
huggingface_hub.errors.RepositoryNotFoundError: 404 Client Error. (Request ID: Root=1-67bd05d9-44abf908597a3eff0bb16d97;c233cbad-47e8-4639-9be6-60a359a075d8)

Repository Not Found for url: https://huggingface.co/PaddlePaddle/PaddleOCR/resolve/main/en_PP-OCRv4_det_infer.
Please make sure you specified the correct `repo_id` and `repo_type`.
If you are trying to access a private or gated repo, make sure you are authenticated.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 308, in process_single_page
    paddle_ocr = init_paddle()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 135, in init_paddle
    raise RuntimeError("PaddlePaddle initialization error") from e
RuntimeError: PaddlePaddle initialization error
2025-02-24 17:57:26,010 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 17:57:26,017 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 17:57:26,023 - ERROR - Processing failed: module 'ocr_utils' has no attribute 'process_text'
2025-02-24 17:57:30,428 - CRITICAL - PaddleOCR initialization failed: 404 Client Error. (Request ID: Root=1-67bd076b-0a471e3d4b2766f421c5e0fa;2c650ca6-3556-4ac9-b513-df8111845c20)

Repository Not Found for url: https://huggingface.co/PaddlePaddle/PaddleOCR/resolve/main/en_PP-OCRv4_det_infer.
Please make sure you specified the correct `repo_id` and `repo_type`.
If you are trying to access a private or gated repo, make sure you are authenticated.
2025-02-24 17:57:30,430 - ERROR - Error processing page 1 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 297, in process_single_page
    raise OCRError("PaddleOCR initialization failed")
OCRError: PaddleOCR initialization failed
2025-02-24 17:57:30,432 - ERROR - Error processing page 2 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 297, in process_single_page
    raise OCRError("PaddleOCR initialization failed")
OCRError: PaddleOCR initialization failed
2025-02-24 18:02:02,817 - ERROR - Page processing error: 'Image' object has no attribute 'shape'
2025-02-24 18:02:02,827 - ERROR - Page processing error: 'Image' object has no attribute 'shape'
2025-02-24 18:02:02,831 - ERROR - Processing failed: module 'ocr_utils' has no attribute 'process_text'
2025-02-24 18:02:06,412 - CRITICAL - PaddleOCR init failed: module 'paddle.device' has no attribute 'cpu'
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 112, in init_paddle
    paddle.device.cpu.empty_cache()
AttributeError: module 'paddle.device' has no attribute 'cpu'
2025-02-24 18:02:06,414 - CRITICAL - PaddleOCR init failed: module 'paddle.device' has no attribute 'cpu'
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 112, in init_paddle
    paddle.device.cpu.empty_cache()
AttributeError: module 'paddle.device' has no attribute 'cpu'
2025-02-24 18:02:06,414 - ERROR - Error processing page 2 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 112, in init_paddle
    paddle.device.cpu.empty_cache()
AttributeError: module 'paddle.device' has no attribute 'cpu'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 305, in process_single_page
    paddle_ocr = init_paddle()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 164, in init_paddle
    st.error(f"OCR Engine failed: {str(e)} - Check model files in {model_dir}")
UnboundLocalError: local variable 'model_dir' referenced before assignment
2025-02-24 18:02:06,414 - ERROR - Error processing page 1 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 112, in init_paddle
    paddle.device.cpu.empty_cache()
AttributeError: module 'paddle.device' has no attribute 'cpu'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 305, in process_single_page
    paddle_ocr = init_paddle()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 164, in init_paddle
    st.error(f"OCR Engine failed: {str(e)} - Check model files in {model_dir}")
UnboundLocalError: local variable 'model_dir' referenced before assignment
2025-02-24 18:06:51,117 - ERROR - Page processing error: 'Image' object has no attribute 'shape'
2025-02-24 18:06:51,134 - ERROR - Page processing error: 'Image' object has no attribute 'shape'
2025-02-24 18:06:51,139 - ERROR - Processing failed: module 'ocr_utils' has no attribute 'process_text'
2025-02-24 18:06:54,792 - CRITICAL - PaddleOCR init failed: module 'paddle.device' has no attribute 'cpu'
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 116, in init_paddle
    paddle.device.cpu.empty_cache()
AttributeError: module 'paddle.device' has no attribute 'cpu'
2025-02-24 18:06:54,794 - ERROR - Error processing page 1 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 307, in process_single_page
    raise OCRError("PaddleOCR initialization failed")
OCRError: PaddleOCR initialization failed
2025-02-24 18:06:54,796 - ERROR - Error processing page 2 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 307, in process_single_page
    raise OCRError("PaddleOCR initialization failed")
OCRError: PaddleOCR initialization failed
2025-02-24 18:12:53,446 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'cvtColor'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 18:12:53,451 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'cvtColor'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 18:12:53,464 - ERROR - Processing failed: module 'ocr_utils' has no attribute 'process_text'
2025-02-24 18:15:41,361 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'cvtColor'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 18:15:41,373 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'cvtColor'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 18:15:41,384 - ERROR - Processing failed: module 'ocr_utils' has no attribute 'process_text'
2025-02-24 18:19:39,392 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 18:19:39,403 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 18:19:39,409 - ERROR - Processing failed: module 'ocr_utils' has no attribute 'process_text'
2025-02-24 20:01:02,105 - INFO - LLM Prompt:
Extract structured medical information from this mammogram report text.
Return JSON with these fields:
- patient_name
- exam_date (YYYY-MM-DD format)
- document_date (YYYY-MM-DD format)
- document_type (e.g., Mammogram, Ultrasound)
- birads_score (0-6)
- impression_result
- mammogram_results
- ultrasound_results
- patient_history
- recommendation
- electronically_signed_by
- testing_provider
- confidence (0-100)

Report text:
PROTECTED B CFHS/SSFC Patient: Scan-Mammo DIAGNOSTIC Document Date: 2023-05-05 05/11/2023 12:07PM 5063677051 HIGGS PAGE 03/04 May 05 2023, MAMMO - Diagnostic oF | HEALTH L and Upper. River Valley Area Medisarar anit 4: Requesting: DOB: Family. DOCTOR F Location: D.RAD Acct Humber: 66. Broad st   DATE. 306264069 RAD/MAMMOGRAM BILAT, 05/05/23 Biggs screening Silateral implantes. Reference study: imaging the the 10, 2022. ~ Findings: . breasts were imaged with standard and pushed back viewa. The parenchyma danse, category C. No of architectural clusters of suspicious or abnormal, are identified. impression: Stable mammogram. nagative for malignancy. Cynthia Theriault, FRCPC eee THIS IS AN. REPORT 05/05/2023 4:43 PM: Theriault, MD, Date Dictated: pm, Date Transcribed: 05-May-2033 4:43: pm   PAGE 1 Higga May contain confidential info Page 1 of 2 RID cot 15 lime May. 11, 2023 1:09PM No. 8783 ; . . Page: 22 Printed on: 2024- 08 01 14:17 PROTEGE B g Printed by: Natalie Paille

PROTECTED B Patient: Scan-Mammo DIAGNOSTIC Document Date: 2023-05-05 06/11/2023 12:07PM 5063577051 HIGGS May 05 2023, MAMMO - Diagnostic DEPARTMENT .OF and. Upper River Valley Ares Hane: Medicare: Unit Requesting: DOB: wo SEX: F D.RAD. 306264069 RAD/MAMMOGRAM -DIAGNOSTIC BILAT Higgs Riggs, Jillian, ND, Reported By; Cynthia Theriault, MD, FR PAGE 2   | Received Time May. 11. 1:09PM No, 8783 END OF DOCUMENT Printed on: 2024-08-01 14:17 PROTEGE B Printed by: Natalie Paille   ** REPORT SIGNED IN OTHER VENDOR. at PAGE 04/04 Page 2 of 2 May 11 2023 59 May contaln confidential info CFHS/SSFC Page: 23
2025-02-24 20:01:11,790 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-24 20:01:11,810 - INFO - Raw API Response:
{
  "patient_name": "Scan-Mammo",
  "exam_date": "2023-05-05",
  "document_date": "2023-05-05",
  "document_type": "Mammogram",
  "birads_score": 0,
  "impression_result": "Stable mammogram. Negative for malignancy.",
  "mammogram_results": {
    "left_breast": "The parenchyma is dense, category C. No architectural clusters of suspicious or abnormal are identified.",
    "right_breast": "The parenchyma is dense, category C. No architectural clusters of suspicious or abnormal are identified."
  },
  "ultrasound_results": {},
  "patient_history": null,
  "recommendation": null,
  "electronically_signed_by": "Cynthia Theriault, MD, FRCPC",
  "testing_provider": "HIGGS",
  "confidence": 100
}
2025-02-24 20:01:11,811 - ERROR - PDF processing error: name 'save_to_db' is not defined
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 78, in process_pdf
    save_to_db({
NameError: name 'save_to_db' is not defined
2025-02-24 20:11:00,943 - ERROR - PDF processing error: name 'save_to_db' is not defined
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 95, in process_pdf
    save_to_db({
NameError: name 'save_to_db' is not defined
2025-02-24 20:29:12,042 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('0a7c42ea769013e0424931c95b81c7caec3e9862fad9a3f8ed6ae64fd831c1d5', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-24 20:29:15,915 - INFO - Tesseract version: 5.5.0.20241111
2025-02-24 20:29:24,826 - INFO - Extracted text from page 1 using OCR fallback
2025-02-24 20:29:26,694 - INFO - Tesseract version: 5.5.0.20241111
2025-02-24 20:29:34,827 - INFO - Extracted text from page 2 using OCR fallback
2025-02-24 20:29:34,984 - INFO - Combined text length: 1585 characters
2025-02-24 20:29:34,985 - INFO - Text sample: PROTECTED B CFHS/SSFC Patient: Scan-Mammo DIAGNOSTIC Document Date: 2023-05-05 05/11/2023 12:07PM 5063677051 HIGGS PAGE 03/04 May 05 2023, MAMMO - Diagnostic oF | HEALTH L and Upper. River Valley Area...
2025-02-24 20:29:35,686 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-24 20:29:35,738 - INFO - Updated birads_score from fallback: BIRADS 1-2
2025-02-24 20:29:35,747 - INFO - Extraction results: {"birads_score": "BIRADS 1-2", "document_date": "2023-05-11", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "2023-05-05", "impression_result": "Stable mammogram. nagative for malignancy. Cynthia Theriault, FRCPC eee THIS IS AN. REPORT 05/05/2023 4:43 PM: Theriault, MD, Date Dictated: pm, Date Transcribed: 05-May-2033 4:43: pm   PAGE 1 Higga May contain confidential info Page 1 of 2 RID cot 15 lime May. 11, 2023 1:09PM No. 8783 ; . . Page: 22 Printed on: 2024- 08 01 14:17 PROTEGE B g Printed by: Natalie Paille", "mammogram_results": "breasts were imaged with standard and pushed back viewa. The parenchyma danse, category C. No of architectural clusters of suspicious or abnormal, are identified. impression: Stable mammogram. nagative for malignancy. Cynthia Theriault, FRCPC eee THIS IS AN. REPORT 05/05/2023 4:43 PM: Theriault, MD, Date Dictated: pm, Date Transcribed: 05-May-2033 4:43: pm   PAGE 1 Higga May contain confidential info Page 1 of 2 RID cot 15 lime May. 11, 2023 1:09PM No. 8783 ; . . Page: 22 Printed on: 2024- 08 01 14:17 PROTEGE B g Printed by: Natalie Paille", "patient_history": "Not Available", "patient_name": "Scan-Mammo DIAGNOSTIC Document Date", "recommendation": "Not Available", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-24 20:29:36,218 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('0a7c42ea769013e0424931c95b81c7caec3e9862fad9a3f8ed6ae64fd831c1d5',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-24 20:29:36,237 - INFO - Extraction complete for Eng Example 1.pdf
2025-02-24 20:29:36,238 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores']
2025-02-24 20:29:36,238 - INFO - Patient name: Scan-Mammo DIAGNOSTIC Document Date
2025-02-24 20:29:36,238 - INFO - Exam date: 2023-05-05
2025-02-24 20:29:36,239 - INFO - BIRADS score: BIRADS 1-2
