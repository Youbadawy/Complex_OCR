2025-02-21 18:21:25,242 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:21:25,278 - WARNING - Hybrid selection failed: Failed to extract fields after 3 attempts
2025-02-21 18:21:37,019 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:21:37,100 - WARNING - Hybrid selection failed: Failed to extract fields after 3 attempts
2025-02-21 18:21:43,341 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:21:43,469 - WARNING - Hybrid selection failed: Failed to extract fields after 3 attempts
2025-02-21 18:21:45,411 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:21:45,506 - INFO - Retrying request to /openai/v1/chat/completions in 6.000000 seconds
2025-02-21 18:21:45,935 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:21:45,965 - INFO - Retrying request to /openai/v1/chat/completions in 9.000000 seconds
2025-02-21 18:21:52,931 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:21:53,027 - WARNING - Hybrid selection failed: Failed to extract fields after 3 attempts
2025-02-21 18:21:56,381 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:21:56,381 - INFO - Retrying request to /openai/v1/chat/completions in 20.000000 seconds
2025-02-21 18:22:09,757 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:22:11,710 - WARNING - LLM extraction failed: Failed to extract fields after 3 attempts
2025-02-21 18:22:11,726 - ERROR - Error processing page 2 of Eng Example 2.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 96, in process_single_page
    structured_data, warnings = ocr_utils.extract_fields_from_text(extracted_text)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\.\src\ocr_utils.py", line 368, in extract_fields_from_text
    if field in missing_fields and (match := re.search(pattern, text, re.DOTALL)):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 201, in search
    return _compile(pattern, flags).search(string)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 304, in _compile
    p = sre_compile.compile(pattern, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_compile.py", line 788, in compile
    p = sre_parse.parse(p, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 955, in parse
    p = _parse_sub(source, state, flags & SRE_FLAG_VERBOSE, 0)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 444, in _parse_sub
    itemsappend(_parse(source, state, verbose, nested + 1,
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 843, in _parse
    raise source.error("missing ), unterminated subpattern",
re.error: missing ), unterminated subpattern at position 41
2025-02-21 18:22:15,457 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:22:15,457 - INFO - Retrying request to /openai/v1/chat/completions in 11.000000 seconds
2025-02-21 18:22:17,207 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:22:17,240 - WARNING - Rate limited. Waiting 10 seconds before retry...
2025-02-21 18:22:23,329 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:22:23,393 - INFO - Retrying request to /openai/v1/chat/completions in 4.000000 seconds
2025-02-21 18:22:27,885 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:22:27,996 - INFO - Retrying request to /openai/v1/chat/completions in 19.000000 seconds
2025-02-21 18:22:28,043 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:22:28,524 - WARNING - Hybrid selection failed: Failed to extract fields after 3 attempts
2025-02-21 18:22:28,841 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:22:28,984 - INFO - Retrying request to /openai/v1/chat/completions in 24.000000 seconds
2025-02-21 18:22:48,206 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:22:48,206 - WARNING - Rate limited. Waiting 10 seconds before retry...
2025-02-21 18:22:54,637 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:22:55,095 - WARNING - Hybrid selection failed: Failed to extract fields after 3 attempts
2025-02-21 18:22:59,842 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:23:00,021 - INFO - Retrying request to /openai/v1/chat/completions in 15.000000 seconds
2025-02-21 18:23:17,921 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:23:18,603 - WARNING - Hybrid selection failed: Failed to extract fields after 3 attempts
2025-02-21 18:23:37,745 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:23:38,175 - WARNING - LLM extraction failed: Failed to extract fields after 3 attempts
2025-02-21 18:23:38,239 - ERROR - Error processing page 2 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 96, in process_single_page
    structured_data, warnings = ocr_utils.extract_fields_from_text(extracted_text)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\.\src\ocr_utils.py", line 368, in extract_fields_from_text
    if field in missing_fields and (match := re.search(pattern, text, re.DOTALL)):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 201, in search
    return _compile(pattern, flags).search(string)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 304, in _compile
    p = sre_compile.compile(pattern, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_compile.py", line 788, in compile
    p = sre_parse.parse(p, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 955, in parse
    p = _parse_sub(source, state, flags & SRE_FLAG_VERBOSE, 0)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 444, in _parse_sub
    itemsappend(_parse(source, state, verbose, nested + 1,
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 843, in _parse
    raise source.error("missing ), unterminated subpattern",
re.error: missing ), unterminated subpattern at position 41
2025-02-21 18:23:56,201 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:23:56,503 - WARNING - LLM extraction failed: Failed to extract fields after 3 attempts
2025-02-21 18:23:56,567 - ERROR - Error processing page 1 of Eng Example 2.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 96, in process_single_page
    structured_data, warnings = ocr_utils.extract_fields_from_text(extracted_text)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\.\src\ocr_utils.py", line 368, in extract_fields_from_text
    if field in missing_fields and (match := re.search(pattern, text, re.DOTALL)):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 201, in search
    return _compile(pattern, flags).search(string)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 304, in _compile
    p = sre_compile.compile(pattern, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_compile.py", line 788, in compile
    p = sre_parse.parse(p, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 955, in parse
    p = _parse_sub(source, state, flags & SRE_FLAG_VERBOSE, 0)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 444, in _parse_sub
    itemsappend(_parse(source, state, verbose, nested + 1,
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 843, in _parse
    raise source.error("missing ), unterminated subpattern",
re.error: missing ), unterminated subpattern at position 41
2025-02-21 18:24:40,729 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:24:41,205 - WARNING - LLM extraction failed: Failed to extract fields after 3 attempts
2025-02-21 18:24:41,205 - ERROR - Error processing page 1 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 96, in process_single_page
    structured_data, warnings = ocr_utils.extract_fields_from_text(extracted_text)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\.\src\ocr_utils.py", line 368, in extract_fields_from_text
    if field in missing_fields and (match := re.search(pattern, text, re.DOTALL)):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 201, in search
    return _compile(pattern, flags).search(string)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 304, in _compile
    p = sre_compile.compile(pattern, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_compile.py", line 788, in compile
    p = sre_parse.parse(p, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 955, in parse
    p = _parse_sub(source, state, flags & SRE_FLAG_VERBOSE, 0)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 444, in _parse_sub
    itemsappend(_parse(source, state, verbose, nested + 1,
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 843, in _parse
    raise source.error("missing ), unterminated subpattern",
re.error: missing ), unterminated subpattern at position 41
2025-02-21 18:24:54,245 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:24:54,661 - WARNING - LLM extraction failed: Failed to extract fields after 3 attempts
2025-02-21 18:24:54,676 - ERROR - Error processing page 2 of FR Example 3.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 96, in process_single_page
    structured_data, warnings = ocr_utils.extract_fields_from_text(extracted_text)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\.\src\ocr_utils.py", line 368, in extract_fields_from_text
    if field in missing_fields and (match := re.search(pattern, text, re.DOTALL)):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 201, in search
    return _compile(pattern, flags).search(string)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 304, in _compile
    p = sre_compile.compile(pattern, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_compile.py", line 788, in compile
    p = sre_parse.parse(p, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 955, in parse
    p = _parse_sub(source, state, flags & SRE_FLAG_VERBOSE, 0)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 444, in _parse_sub
    itemsappend(_parse(source, state, verbose, nested + 1,
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 843, in _parse
    raise source.error("missing ), unterminated subpattern",
re.error: missing ), unterminated subpattern at position 41
2025-02-21 18:25:00,919 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:25:01,061 - WARNING - LLM extraction failed: Failed to extract fields after 3 attempts
2025-02-21 18:25:01,077 - ERROR - Error processing page 1 of FR Example 4.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 96, in process_single_page
    structured_data, warnings = ocr_utils.extract_fields_from_text(extracted_text)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\.\src\ocr_utils.py", line 368, in extract_fields_from_text
    if field in missing_fields and (match := re.search(pattern, text, re.DOTALL)):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 201, in search
    return _compile(pattern, flags).search(string)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 304, in _compile
    p = sre_compile.compile(pattern, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_compile.py", line 788, in compile
    p = sre_parse.parse(p, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 955, in parse
    p = _parse_sub(source, state, flags & SRE_FLAG_VERBOSE, 0)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 444, in _parse_sub
    itemsappend(_parse(source, state, verbose, nested + 1,
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 843, in _parse
    raise source.error("missing ), unterminated subpattern",
re.error: missing ), unterminated subpattern at position 41
2025-02-21 18:25:10,785 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:25:10,785 - WARNING - LLM extraction failed: Failed to extract fields after 3 attempts
2025-02-21 18:25:10,785 - ERROR - Error processing page 1 of FR Example 3.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 96, in process_single_page
    structured_data, warnings = ocr_utils.extract_fields_from_text(extracted_text)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\.\src\ocr_utils.py", line 368, in extract_fields_from_text
    if field in missing_fields and (match := re.search(pattern, text, re.DOTALL)):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 201, in search
    return _compile(pattern, flags).search(string)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 304, in _compile
    p = sre_compile.compile(pattern, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_compile.py", line 788, in compile
    p = sre_parse.parse(p, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 955, in parse
    p = _parse_sub(source, state, flags & SRE_FLAG_VERBOSE, 0)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 444, in _parse_sub
    itemsappend(_parse(source, state, verbose, nested + 1,
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 843, in _parse
    raise source.error("missing ), unterminated subpattern",
re.error: missing ), unterminated subpattern at position 41
2025-02-21 18:30:19,507 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:30:19,519 - ERROR - API error: 'ChatCompletion' object has no attribute 'raise_for_status'
2025-02-21 18:30:19,519 - WARNING - Waiting 15 seconds before retry...
2025-02-21 18:30:24,165 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:30:24,169 - ERROR - API error: 'ChatCompletion' object has no attribute 'raise_for_status'
2025-02-21 18:30:24,169 - WARNING - Waiting 15 seconds before retry...
2025-02-21 18:30:24,702 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:30:24,705 - ERROR - API error: 'ChatCompletion' object has no attribute 'raise_for_status'
2025-02-21 18:30:24,705 - WARNING - Waiting 15 seconds before retry...
2025-02-21 18:30:26,119 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:30:26,121 - INFO - Retrying request to /openai/v1/chat/completions in 18.000000 seconds
2025-02-21 18:30:26,480 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:30:26,480 - INFO - Retrying request to /openai/v1/chat/completions in 18.000000 seconds
2025-02-21 18:30:27,399 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:30:27,399 - INFO - Retrying request to /openai/v1/chat/completions in 16.000000 seconds
2025-02-21 18:30:29,762 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:30:29,762 - INFO - Retrying request to /openai/v1/chat/completions in 14.000000 seconds
2025-02-21 18:30:34,655 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:30:34,655 - INFO - Retrying request to /openai/v1/chat/completions in 6.000000 seconds
2025-02-21 18:30:39,337 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:30:39,337 - INFO - Retrying request to /openai/v1/chat/completions in 3.000000 seconds
2025-02-21 18:30:39,797 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:30:39,797 - INFO - Retrying request to /openai/v1/chat/completions in 6.000000 seconds
2025-02-21 18:30:41,305 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:30:41,305 - ERROR - API error: 'ChatCompletion' object has no attribute 'raise_for_status'
2025-02-21 18:30:41,305 - WARNING - Waiting 30 seconds before retry...
2025-02-21 18:30:42,405 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:30:42,415 - INFO - Retrying request to /openai/v1/chat/completions in 19.000000 seconds
2025-02-21 18:30:43,495 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:30:43,495 - INFO - Retrying request to /openai/v1/chat/completions in 19.000000 seconds
2025-02-21 18:30:43,890 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:30:43,890 - INFO - Retrying request to /openai/v1/chat/completions in 19.000000 seconds
2025-02-21 18:30:44,255 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:30:44,255 - INFO - Retrying request to /openai/v1/chat/completions in 19.000000 seconds
2025-02-21 18:30:44,565 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:30:44,573 - INFO - Retrying request to /openai/v1/chat/completions in 19.000000 seconds
2025-02-21 18:30:45,895 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:30:45,895 - INFO - Retrying request to /openai/v1/chat/completions in 19.000000 seconds
2025-02-21 18:31:02,135 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:31:02,135 - ERROR - API error: 'ChatCompletion' object has no attribute 'raise_for_status'
2025-02-21 18:31:02,135 - WARNING - Waiting 30 seconds before retry...
2025-02-21 18:31:02,625 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:31:02,635 - ERROR - API error: Error code: 429 - {'error': {'message': 'Rate limit reached for model `mixtral-8x7b-32768` in organization `org_01jjr06gvjepht8gfgh9726zm6` service tier `on_demand` on tokens per minute (TPM): Limit 5000, Used 5123, Requested 1588. Please try again in 20.533s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing', 'type': 'tokens', 'code': 'rate_limit_exceeded'}}
2025-02-21 18:31:02,635 - WARNING - Waiting 15 seconds before retry...
2025-02-21 18:31:02,987 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:31:02,991 - ERROR - API error: Error code: 429 - {'error': {'message': 'Rate limit reached for model `mixtral-8x7b-32768` in organization `org_01jjr06gvjepht8gfgh9726zm6` service tier `on_demand` on tokens per minute (TPM): Limit 5000, Used 5093, Requested 1638. Please try again in 20.78s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing', 'type': 'tokens', 'code': 'rate_limit_exceeded'}}
2025-02-21 18:31:02,991 - WARNING - Waiting 15 seconds before retry...
2025-02-21 18:31:03,385 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:31:03,385 - ERROR - API error: Error code: 429 - {'error': {'message': 'Rate limit reached for model `mixtral-8x7b-32768` in organization `org_01jjr06gvjepht8gfgh9726zm6` service tier `on_demand` on tokens per minute (TPM): Limit 5000, Used 5060, Requested 1650. Please try again in 20.523s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing', 'type': 'tokens', 'code': 'rate_limit_exceeded'}}
2025-02-21 18:31:03,385 - WARNING - Waiting 15 seconds before retry...
2025-02-21 18:31:03,661 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:31:03,661 - ERROR - API error: Error code: 429 - {'error': {'message': 'Rate limit reached for model `mixtral-8x7b-32768` in organization `org_01jjr06gvjepht8gfgh9726zm6` service tier `on_demand` on tokens per minute (TPM): Limit 5000, Used 5037, Requested 1677. Please try again in 20.573s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing', 'type': 'tokens', 'code': 'rate_limit_exceeded'}}
2025-02-21 18:31:03,665 - WARNING - Waiting 15 seconds before retry...
2025-02-21 18:31:05,010 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:31:05,010 - ERROR - API error: Error code: 429 - {'error': {'message': 'Rate limit reached for model `mixtral-8x7b-32768` in organization `org_01jjr06gvjepht8gfgh9726zm6` service tier `on_demand` on tokens per minute (TPM): Limit 5000, Used 4926, Requested 1823. Please try again in 20.982s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing', 'type': 'tokens', 'code': 'rate_limit_exceeded'}}
2025-02-21 18:31:05,010 - WARNING - Waiting 30 seconds before retry...
2025-02-21 18:31:11,425 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:31:11,425 - INFO - Retrying request to /openai/v1/chat/completions in 9.000000 seconds
2025-02-21 18:31:17,775 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:31:17,775 - INFO - Retrying request to /openai/v1/chat/completions in 6.000000 seconds
2025-02-21 18:31:18,095 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:31:18,095 - INFO - Retrying request to /openai/v1/chat/completions in 6.000000 seconds
2025-02-21 18:31:18,545 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:31:18,545 - INFO - Retrying request to /openai/v1/chat/completions in 6.000000 seconds
2025-02-21 18:31:18,805 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:31:18,805 - INFO - Retrying request to /openai/v1/chat/completions in 6.000000 seconds
2025-02-21 18:31:21,039 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:31:21,039 - ERROR - API error: 'ChatCompletion' object has no attribute 'raise_for_status'
2025-02-21 18:31:21,039 - WARNING - Hybrid selection failed: Failed to extract fields after 3 attempts
2025-02-21 18:31:24,197 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:31:24,197 - INFO - Retrying request to /openai/v1/chat/completions in 19.000000 seconds
2025-02-21 18:31:24,389 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:31:24,421 - INFO - Retrying request to /openai/v1/chat/completions in 19.000000 seconds
2025-02-21 18:31:24,834 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:31:24,834 - INFO - Retrying request to /openai/v1/chat/completions in 19.000000 seconds
2025-02-21 18:31:25,167 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:31:25,183 - INFO - Retrying request to /openai/v1/chat/completions in 19.000000 seconds
2025-02-21 18:31:32,453 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:31:32,453 - INFO - Retrying request to /openai/v1/chat/completions in 9.000000 seconds
2025-02-21 18:31:35,427 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:31:35,443 - INFO - Retrying request to /openai/v1/chat/completions in 10.000000 seconds
2025-02-21 18:31:38,507 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:31:38,507 - ERROR - API error: 'ChatCompletion' object has no attribute 'raise_for_status'
2025-02-21 18:31:38,507 - WARNING - Waiting 15 seconds before retry...
2025-02-21 18:31:41,545 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:31:41,545 - INFO - Retrying request to /openai/v1/chat/completions in 12.000000 seconds
2025-02-21 18:31:43,295 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:31:43,295 - ERROR - API error: Error code: 429 - {'error': {'message': 'Rate limit reached for model `mixtral-8x7b-32768` in organization `org_01jjr06gvjepht8gfgh9726zm6` service tier `on_demand` on tokens per minute (TPM): Limit 5000, Used 4347, Requested 1588. Please try again in 11.211s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing', 'type': 'tokens', 'code': 'rate_limit_exceeded'}}
2025-02-21 18:31:43,295 - WARNING - Waiting 30 seconds before retry...
2025-02-21 18:31:43,521 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:31:43,521 - ERROR - API error: Error code: 429 - {'error': {'message': 'Rate limit reached for model `mixtral-8x7b-32768` in organization `org_01jjr06gvjepht8gfgh9726zm6` service tier `on_demand` on tokens per minute (TPM): Limit 5000, Used 4327, Requested 1638. Please try again in 11.579s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing', 'type': 'tokens', 'code': 'rate_limit_exceeded'}}
2025-02-21 18:31:43,521 - WARNING - Waiting 30 seconds before retry...
2025-02-21 18:31:44,001 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:31:44,001 - ERROR - API error: Error code: 429 - {'error': {'message': 'Rate limit reached for model `mixtral-8x7b-32768` in organization `org_01jjr06gvjepht8gfgh9726zm6` service tier `on_demand` on tokens per minute (TPM): Limit 5000, Used 4288, Requested 1650. Please try again in 11.252s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing', 'type': 'tokens', 'code': 'rate_limit_exceeded'}}
2025-02-21 18:31:44,001 - WARNING - Waiting 30 seconds before retry...
2025-02-21 18:31:44,295 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:31:44,295 - ERROR - API error: Error code: 429 - {'error': {'message': 'Rate limit reached for model `mixtral-8x7b-32768` in organization `org_01jjr06gvjepht8gfgh9726zm6` service tier `on_demand` on tokens per minute (TPM): Limit 5000, Used 4264, Requested 1677. Please try again in 11.288s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing', 'type': 'tokens', 'code': 'rate_limit_exceeded'}}
2025-02-21 18:31:44,295 - WARNING - Waiting 30 seconds before retry...
2025-02-21 18:31:45,555 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:31:45,555 - INFO - Retrying request to /openai/v1/chat/completions in 12.000000 seconds
2025-02-21 18:31:53,765 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:31:53,765 - ERROR - API error: Error code: 429 - {'error': {'message': 'Rate limit reached for model `mixtral-8x7b-32768` in organization `org_01jjr06gvjepht8gfgh9726zm6` service tier `on_demand` on tokens per minute (TPM): Limit 5000, Used 4044, Requested 1497. Please try again in 6.49s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing', 'type': 'tokens', 'code': 'rate_limit_exceeded'}}
2025-02-21 18:31:53,765 - WARNING - Hybrid selection failed: Failed to extract fields after 3 attempts
2025-02-21 18:31:54,602 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:31:54,649 - ERROR - API error: 'ChatCompletion' object has no attribute 'raise_for_status'
2025-02-21 18:31:54,665 - WARNING - Waiting 30 seconds before retry...
2025-02-21 18:31:57,875 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:31:57,875 - ERROR - API error: Error code: 429 - {'error': {'message': 'Rate limit reached for model `mixtral-8x7b-32768` in organization `org_01jjr06gvjepht8gfgh9726zm6` service tier `on_demand` on tokens per minute (TPM): Limit 5000, Used 4166, Requested 1823. Please try again in 11.861s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing', 'type': 'tokens', 'code': 'rate_limit_exceeded'}}
2025-02-21 18:31:57,875 - WARNING - Hybrid selection failed: Failed to extract fields after 3 attempts
2025-02-21 18:32:14,259 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:32:14,309 - INFO - Retrying request to /openai/v1/chat/completions in 13.000000 seconds
2025-02-21 18:32:14,721 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:32:14,769 - INFO - Retrying request to /openai/v1/chat/completions in 13.000000 seconds
2025-02-21 18:32:14,832 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:32:14,864 - INFO - Retrying request to /openai/v1/chat/completions in 13.000000 seconds
2025-02-21 18:32:14,942 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:32:15,151 - ERROR - API error: 'ChatCompletion' object has no attribute 'raise_for_status'
2025-02-21 18:32:15,151 - WARNING - Hybrid selection failed: Failed to extract fields after 3 attempts
2025-02-21 18:32:26,196 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:32:26,372 - ERROR - API error: 'ChatCompletion' object has no attribute 'raise_for_status'
2025-02-21 18:32:26,435 - WARNING - LLM extraction failed: Failed to extract fields after 3 attempts
2025-02-21 18:32:26,467 - ERROR - Error processing page 2 of Eng Example 2.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 96, in process_single_page
    structured_data, warnings = ocr_utils.extract_fields_from_text(extracted_text)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\.\src\ocr_utils.py", line 376, in extract_fields_from_text
    if field in missing_fields and (match := re.search(pattern, text, re.DOTALL)):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 201, in search
    return _compile(pattern, flags).search(string)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 304, in _compile
    p = sre_compile.compile(pattern, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_compile.py", line 788, in compile
    p = sre_parse.parse(p, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 955, in parse
    p = _parse_sub(source, state, flags & SRE_FLAG_VERBOSE, 0)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 444, in _parse_sub
    itemsappend(_parse(source, state, verbose, nested + 1,
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 843, in _parse
    raise source.error("missing ), unterminated subpattern",
re.error: missing ), unterminated subpattern at position 41
2025-02-21 18:32:28,319 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:32:28,805 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:32:28,900 - INFO - Retrying request to /openai/v1/chat/completions in 17.000000 seconds
2025-02-21 18:32:28,979 - INFO - Retrying request to /openai/v1/chat/completions in 17.000000 seconds
2025-02-21 18:32:29,345 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:32:29,366 - INFO - Retrying request to /openai/v1/chat/completions in 16.000000 seconds
2025-02-21 18:32:32,833 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:32:32,833 - INFO - Retrying request to /openai/v1/chat/completions in 2.000000 seconds
2025-02-21 18:32:35,722 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:32:35,865 - ERROR - API error: 'ChatCompletion' object has no attribute 'raise_for_status'
2025-02-21 18:32:35,881 - WARNING - Waiting 15 seconds before retry...
2025-02-21 18:32:46,470 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:32:46,503 - ERROR - API error: Error code: 429 - {'error': {'message': 'Rate limit reached for model `mixtral-8x7b-32768` in organization `org_01jjr06gvjepht8gfgh9726zm6` service tier `on_demand` on tokens per minute (TPM): Limit 5000, Used 4286, Requested 1650. Please try again in 11.221s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing', 'type': 'tokens', 'code': 'rate_limit_exceeded'}}
2025-02-21 18:32:46,535 - WARNING - Hybrid selection failed: Failed to extract fields after 3 attempts
2025-02-21 18:32:46,838 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:32:46,870 - ERROR - API error: Error code: 429 - {'error': {'message': 'Rate limit reached for model `mixtral-8x7b-32768` in organization `org_01jjr06gvjepht8gfgh9726zm6` service tier `on_demand` on tokens per minute (TPM): Limit 5000, Used 4233, Requested 1677. Please try again in 10.914s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing', 'type': 'tokens', 'code': 'rate_limit_exceeded'}}
2025-02-21 18:32:46,870 - WARNING - Hybrid selection failed: Failed to extract fields after 3 attempts
2025-02-21 18:32:46,870 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:32:46,918 - ERROR - API error: Error code: 429 - {'error': {'message': 'Rate limit reached for model `mixtral-8x7b-32768` in organization `org_01jjr06gvjepht8gfgh9726zm6` service tier `on_demand` on tokens per minute (TPM): Limit 5000, Used 4234, Requested 1638. Please try again in 10.459s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing', 'type': 'tokens', 'code': 'rate_limit_exceeded'}}
2025-02-21 18:32:46,918 - WARNING - Hybrid selection failed: Failed to extract fields after 3 attempts
2025-02-21 18:32:48,422 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:32:48,422 - ERROR - API error: 'ChatCompletion' object has no attribute 'raise_for_status'
2025-02-21 18:32:48,422 - WARNING - Waiting 15 seconds before retry...
2025-02-21 18:32:51,295 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:32:51,295 - INFO - Retrying request to /openai/v1/chat/completions in 8.000000 seconds
2025-02-21 18:33:01,379 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:33:01,522 - ERROR - API error: 'ChatCompletion' object has no attribute 'raise_for_status'
2025-02-21 18:33:01,555 - WARNING - Waiting 30 seconds before retry...
2025-02-21 18:33:04,699 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:33:04,746 - INFO - Retrying request to /openai/v1/chat/completions in 6.000000 seconds
2025-02-21 18:33:12,400 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:33:12,591 - ERROR - API error: 'ChatCompletion' object has no attribute 'raise_for_status'
2025-02-21 18:33:12,623 - WARNING - Waiting 30 seconds before retry...
2025-02-21 18:33:33,550 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:33:34,220 - ERROR - API error: 'ChatCompletion' object has no attribute 'raise_for_status'
2025-02-21 18:33:34,267 - WARNING - LLM extraction failed: Failed to extract fields after 3 attempts
2025-02-21 18:33:34,426 - ERROR - Error processing page 1 of Eng Example 2.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 96, in process_single_page
    structured_data, warnings = ocr_utils.extract_fields_from_text(extracted_text)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\.\src\ocr_utils.py", line 376, in extract_fields_from_text
    if field in missing_fields and (match := re.search(pattern, text, re.DOTALL)):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 201, in search
    return _compile(pattern, flags).search(string)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 304, in _compile
    p = sre_compile.compile(pattern, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_compile.py", line 788, in compile
    p = sre_parse.parse(p, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 955, in parse
    p = _parse_sub(source, state, flags & SRE_FLAG_VERBOSE, 0)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 444, in _parse_sub
    itemsappend(_parse(source, state, verbose, nested + 1,
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 843, in _parse
    raise source.error("missing ), unterminated subpattern",
re.error: missing ), unterminated subpattern at position 41
2025-02-21 18:33:39,236 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:33:39,411 - ERROR - API error: 'ChatCompletion' object has no attribute 'raise_for_status'
2025-02-21 18:33:39,411 - WARNING - Waiting 15 seconds before retry...
2025-02-21 18:33:43,743 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:33:43,758 - INFO - Retrying request to /openai/v1/chat/completions in 5.000000 seconds
2025-02-21 18:33:50,125 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:33:50,316 - ERROR - API error: 'ChatCompletion' object has no attribute 'raise_for_status'
2025-02-21 18:33:50,332 - WARNING - LLM extraction failed: Failed to extract fields after 3 attempts
2025-02-21 18:33:50,348 - ERROR - Error processing page 2 of FR Example 3.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 96, in process_single_page
    structured_data, warnings = ocr_utils.extract_fields_from_text(extracted_text)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\.\src\ocr_utils.py", line 376, in extract_fields_from_text
    if field in missing_fields and (match := re.search(pattern, text, re.DOTALL)):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 201, in search
    return _compile(pattern, flags).search(string)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 304, in _compile
    p = sre_compile.compile(pattern, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_compile.py", line 788, in compile
    p = sre_parse.parse(p, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 955, in parse
    p = _parse_sub(source, state, flags & SRE_FLAG_VERBOSE, 0)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 444, in _parse_sub
    itemsappend(_parse(source, state, verbose, nested + 1,
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 843, in _parse
    raise source.error("missing ), unterminated subpattern",
re.error: missing ), unterminated subpattern at position 41
2025-02-21 18:33:55,495 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:33:55,510 - INFO - Retrying request to /openai/v1/chat/completions in 5.000000 seconds
2025-02-21 18:34:01,658 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:34:01,714 - ERROR - API error: 'ChatCompletion' object has no attribute 'raise_for_status'
2025-02-21 18:34:01,721 - WARNING - Waiting 30 seconds before retry...
2025-02-21 18:34:33,824 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:34:34,301 - ERROR - API error: 'ChatCompletion' object has no attribute 'raise_for_status'
2025-02-21 18:34:34,333 - WARNING - LLM extraction failed: Failed to extract fields after 3 attempts
2025-02-21 18:34:34,396 - ERROR - Error processing page 2 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 96, in process_single_page
    structured_data, warnings = ocr_utils.extract_fields_from_text(extracted_text)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\.\src\ocr_utils.py", line 376, in extract_fields_from_text
    if field in missing_fields and (match := re.search(pattern, text, re.DOTALL)):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 201, in search
    return _compile(pattern, flags).search(string)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 304, in _compile
    p = sre_compile.compile(pattern, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_compile.py", line 788, in compile
    p = sre_parse.parse(p, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 955, in parse
    p = _parse_sub(source, state, flags & SRE_FLAG_VERBOSE, 0)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 444, in _parse_sub
    itemsappend(_parse(source, state, verbose, nested + 1,
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 843, in _parse
    raise source.error("missing ), unterminated subpattern",
re.error: missing ), unterminated subpattern at position 41
2025-02-21 18:34:37,666 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:34:37,825 - ERROR - API error: 'ChatCompletion' object has no attribute 'raise_for_status'
2025-02-21 18:34:37,888 - WARNING - Waiting 15 seconds before retry...
2025-02-21 18:34:42,548 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:34:42,565 - INFO - Retrying request to /openai/v1/chat/completions in 1.000000 seconds
2025-02-21 18:34:44,225 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:34:44,272 - ERROR - API error: 'ChatCompletion' object has no attribute 'raise_for_status'
2025-02-21 18:34:44,272 - WARNING - Waiting 15 seconds before retry...
2025-02-21 18:34:47,155 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:34:47,165 - INFO - Retrying request to /openai/v1/chat/completions in 12.000000 seconds
2025-02-21 18:34:52,975 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:34:52,975 - INFO - Retrying request to /openai/v1/chat/completions in 6.000000 seconds
2025-02-21 18:34:59,255 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:34:59,255 - INFO - Retrying request to /openai/v1/chat/completions in 12.000000 seconds
2025-02-21 18:34:59,427 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:34:59,427 - INFO - Retrying request to /openai/v1/chat/completions in 10.000000 seconds
2025-02-21 18:34:59,917 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:34:59,917 - ERROR - API error: 'ChatCompletion' object has no attribute 'raise_for_status'
2025-02-21 18:34:59,917 - WARNING - Waiting 30 seconds before retry...
2025-02-21 18:35:09,525 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:35:09,525 - INFO - Retrying request to /openai/v1/chat/completions in 3.000000 seconds
2025-02-21 18:35:11,425 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:35:11,425 - ERROR - API error: Error code: 429 - {'error': {'message': 'Rate limit reached for model `mixtral-8x7b-32768` in organization `org_01jjr06gvjepht8gfgh9726zm6` service tier `on_demand` on tokens per minute (TPM): Limit 5000, Used 4260, Requested 978. Please try again in 2.854999999s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing', 'type': 'tokens', 'code': 'rate_limit_exceeded'}}
2025-02-21 18:35:11,425 - WARNING - Waiting 15 seconds before retry...
2025-02-21 18:35:13,655 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:35:13,665 - ERROR - API error: 'ChatCompletion' object has no attribute 'raise_for_status'
2025-02-21 18:35:13,665 - WARNING - Waiting 30 seconds before retry...
2025-02-21 18:35:26,575 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:35:26,575 - INFO - Retrying request to /openai/v1/chat/completions in 5.000000 seconds
2025-02-21 18:35:30,015 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:35:30,015 - INFO - Retrying request to /openai/v1/chat/completions in 2.000000 seconds
2025-02-21 18:35:32,095 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:35:32,095 - INFO - Retrying request to /openai/v1/chat/completions in 12.000000 seconds
2025-02-21 18:35:32,405 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:35:32,415 - ERROR - API error: 'ChatCompletion' object has no attribute 'raise_for_status'
2025-02-21 18:35:32,415 - WARNING - Waiting 30 seconds before retry...
2025-02-21 18:35:43,795 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:35:43,800 - INFO - Retrying request to /openai/v1/chat/completions in 3.000000 seconds
2025-02-21 18:35:44,262 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:35:44,262 - ERROR - API error: Error code: 429 - {'error': {'message': 'Rate limit reached for model `mixtral-8x7b-32768` in organization `org_01jjr06gvjepht8gfgh9726zm6` service tier `on_demand` on tokens per minute (TPM): Limit 5000, Used 4317, Requested 1011. Please try again in 3.925s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing', 'type': 'tokens', 'code': 'rate_limit_exceeded'}}
2025-02-21 18:35:44,265 - WARNING - LLM extraction failed: Failed to extract fields after 3 attempts
2025-02-21 18:35:44,265 - ERROR - Error processing page 1 of FR Example 3.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 96, in process_single_page
    structured_data, warnings = ocr_utils.extract_fields_from_text(extracted_text)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\.\src\ocr_utils.py", line 376, in extract_fields_from_text
    if field in missing_fields and (match := re.search(pattern, text, re.DOTALL)):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 201, in search
    return _compile(pattern, flags).search(string)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 304, in _compile
    p = sre_compile.compile(pattern, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_compile.py", line 788, in compile
    p = sre_parse.parse(p, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 955, in parse
    p = _parse_sub(source, state, flags & SRE_FLAG_VERBOSE, 0)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 444, in _parse_sub
    itemsappend(_parse(source, state, verbose, nested + 1,
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 843, in _parse
    raise source.error("missing ), unterminated subpattern",
re.error: missing ), unterminated subpattern at position 41
2025-02-21 18:35:47,954 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:35:47,954 - ERROR - API error: 'ChatCompletion' object has no attribute 'raise_for_status'
2025-02-21 18:35:47,954 - WARNING - LLM extraction failed: Failed to extract fields after 3 attempts
2025-02-21 18:35:47,954 - ERROR - Error processing page 1 of FR Example 4.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 96, in process_single_page
    structured_data, warnings = ocr_utils.extract_fields_from_text(extracted_text)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\.\src\ocr_utils.py", line 376, in extract_fields_from_text
    if field in missing_fields and (match := re.search(pattern, text, re.DOTALL)):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 201, in search
    return _compile(pattern, flags).search(string)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 304, in _compile
    p = sre_compile.compile(pattern, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_compile.py", line 788, in compile
    p = sre_parse.parse(p, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 955, in parse
    p = _parse_sub(source, state, flags & SRE_FLAG_VERBOSE, 0)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 444, in _parse_sub
    itemsappend(_parse(source, state, verbose, nested + 1,
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 843, in _parse
    raise source.error("missing ), unterminated subpattern",
re.error: missing ), unterminated subpattern at position 41
2025-02-21 18:36:02,548 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:36:02,548 - INFO - Retrying request to /openai/v1/chat/completions in 3.000000 seconds
2025-02-21 18:36:06,415 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:36:06,415 - ERROR - API error: 'ChatCompletion' object has no attribute 'raise_for_status'
2025-02-21 18:36:06,415 - WARNING - LLM extraction failed: Failed to extract fields after 3 attempts
2025-02-21 18:36:06,415 - ERROR - Error processing page 1 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 96, in process_single_page
    structured_data, warnings = ocr_utils.extract_fields_from_text(extracted_text)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\.\src\ocr_utils.py", line 376, in extract_fields_from_text
    if field in missing_fields and (match := re.search(pattern, text, re.DOTALL)):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 201, in search
    return _compile(pattern, flags).search(string)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 304, in _compile
    p = sre_compile.compile(pattern, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_compile.py", line 788, in compile
    p = sre_parse.parse(p, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 955, in parse
    p = _parse_sub(source, state, flags & SRE_FLAG_VERBOSE, 0)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 444, in _parse_sub
    itemsappend(_parse(source, state, verbose, nested + 1,
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 843, in _parse
    raise source.error("missing ), unterminated subpattern",
re.error: missing ), unterminated subpattern at position 41
2025-02-21 18:49:34,648 - INFO - LLM Prompt:
You are an expert in medical document processing, specializing in mammogram reports. Extract the following fields:
- Patient name (title case, correct fused words like 'PatientName' to 'Patient Name')
- Exam date (YYYY-MM-DD, correct formats like '23Dec2021')
- BIRADS score for the right breast (0-6)
- BIRADS score for the left breast (0-6)
- Clinical impressions
- Key findings (include measurements and locations)
- Follow-up recommendations

Correct OCR errors, prioritize medical terminology, and handle varied labels. For each field, provide a confidence score (0-1). Return valid JSON with keys: 
patient_name, exam_date, birads_right, birads_left, impressions, findings, 
follow_up_recommendation, and a 'confidence' sub-object with scores for each field.

Text:
Score each OCR option (1-10) for coherence and medical field presence. Return JSON with 'scores': [int, ...].

Option 1 (PSM 3):     Oesaeeeterete PROTECTEDB CFHSISSFC    Patient:  Scan-Mammo(B)Diagnostic DocumentDate:2021-12-23    1372320213:50:43PM MICMeccallmaging To97809724184Msg9974241.PegeZof2         NPPatriciaMalott  CFB-Edmonton  POBOX10500STNFORCES  EdmontonABT5J4J5    ExamDate: 23Dec2021  - Exam:  Phone:(780)973-4011 ot 7  FAX:7809734184 Location: Southpointe    BILATERALDIAGNOSTICMAMMOGRAPHYWITHTOMOSYNTHESIS-IMPLANTS  ULTRASOUNDRIGHTBREAST    Questionsaboutthisreport  Orderingphysiciansmaycontacttheradiologistat1-844-642-4723(1-844-MIC-4RAD).    Page2of2    Printedon:2022-09-0907:51  Printedby:NataliePaille    PROTEGEB Page:18

Option 2 (PSM 6):     NationalCxifensa  UsL)Gerencenationale PROTECTEDB CFHSISSFC  Patient:  Scan-Mammo(B)Diagnostic DocumentDate:2021-12-23  13723120213:50:43PM MICMeccallmaging To97809734184Msg9974241.PegeZof2  6)- :  MEDICALIMAGING  NPPatriciaMalott  CFB-Edmonton  POBOX10500STNFORCES  Edmonton.ABT5J4J5 ExamDale: 23Dec2021  Phone:(780)973-4041 Exam es  FAX:7809734184 Location: Southpointe  BILATERALDIAGNOSTICMAMMOGRAPHYWITHTOMOSYNTHESIS-IMPLANTS  ULTRASOUNDRIGHTBREAST  Questionsaboutthisreport  Orderingphysiciansmaycontacttheradiologistat1-844-642-4723(1-844-MIC-4RAD).  i  i  Page2of2  Printedon:2022-09-0907:51 ee Page:18  PROTEGEB 9  Printedby:NataliePaille

Option 3 (PSM 11):     NationalODdifonse    Ls    Defence    rationale    PROTECTEDB    CFHSSSFC    Patient:    Scan-Mammo(B)Diagnostic    DocumentDate: 2021-12-28    1372320213:50:43PM    MICMeccallmaging    To97809724184Msg9974241.PegeZof2    x    %    ee    40    e    of    8    lo    ME    IMAGING    NPPatriciaMalott    CFB-Edmonton    POBOX10500STNFORCES    EdmontonABT5J4J5    ExamDate:    23Dec2021    Exam:    Phone:(780)973-4011    Location:    Southpointe    FAX:7809734184    BILATERALDIAGNOSTICMAMMOGRAPHYWITHTOMOSYNTHESIS-IMPLANTS    ULTRASOUNDRIGHTBREAST    Questionsaboutthisreport    Orderingphysiciansmaycontacttheradiologistat1-844-642-4723(1-844-MIC-4RAD).    Page2of2    Printedon:    2022-09-0907:51    Page:18    PROTEGEB    Printedby:    NataliePaille
2025-02-21 18:49:34,656 - INFO - LLM Prompt:
You are an expert in medical document processing, specializing in mammogram reports. Extract the following fields:
- Patient name (title case, correct fused words like 'PatientName' to 'Patient Name')
- Exam date (YYYY-MM-DD, correct formats like '23Dec2021')
- BIRADS score for the right breast (0-6)
- BIRADS score for the left breast (0-6)
- Clinical impressions
- Key findings (include measurements and locations)
- Follow-up recommendations

Correct OCR errors, prioritize medical terminology, and handle varied labels. For each field, provide a confidence score (0-1). Return valid JSON with keys: 
patient_name, exam_date, birads_right, birads_left, impressions, findings, 
follow_up_recommendation, and a 'confidence' sub-object with scores for each field.

Text:
Score each OCR option (1-10) for coherence and medical field presence. Return JSON with 'scores': [int, ...].

Option 1 (PSM 3):     Oeste PROTECTEDB CFHSISSFC    Defencemationale    Patient:  Scan-MammoDIAGNOSTIC Document Date: 2023-05-05         0511202812:07PM5063577051 HIGaS PAGE047 04    May062023MAMMO-Diagnostic    DEPARTHENT.OFDIAGNOSTICMMAGTHG  HORTZONBEALTER NETHORE  Predericton and. UgnerRiverVallieyAren    Mawes Mddioaree  Unitf: Roquertings tidgge. waldian  BOB: Panty (MD):NODor   : . : Location: Dd BAD    SEXx 3 :  AgatNumber:    TS    EXaH8-TYRHExan a a BXAMDATE  306264069RADMAMMGURAM-DIAGNOSTICBIRATo5f05f23    dilidanHiggs    cer . . a  RigosJillianND.CCEP         eREPORTSIGHEDINCINERVENDOR 8Sverey 054952023s.  Reported BysCyathia Thertault WDFRCPC         PAGE:2 -JFilRianwiggs         )R9nemareornsrneUe  May11202312:59PM: Maycontalnconfldentialinfo Page2of2    ReceivedTimeMay..20231:09PMNo.8783    ENDOFDOCUMENT    i : -08- : moe Page:23  Printedon: 2024- 08 01 14:17 PROTEGEB g  Printedby:NataliePaille

Option 2 (PSM 6):     NationalDith   UsL)Gerencenationale PROTECTEDB CFHSISSFC   Patient:(   Scan-MammoDIAGNOSTIC DocumentDate:2023-05-05  05(11f202312:07PM5063577051 HIGGS . PAGE 04f04   May062023MAMMO-Diagnostic  DEPARIMENT.OFDIAGNOSPICTHAGING 4 )  HORIZONBRALTHNETHWORR   . Prederistonand.UpperRiverValieyAres . :  Unitf: RequestingsHiggeFillian .  x J . . . fem 5 .   - . TS .  EXOHE8--TYPBExaw a -- BXAKDATE  JOG2EANESRADMAMMGGRAM-DIAGNOSTKCBrRATo8f0523 .   wiliion Higgs . :  . BiggsTillian.ND.CCrp . . .  eREPORTSIONEDTHCHHERVENDOR.SYSREM054052023a6.  ReportedBy:CynthiaTheriault.MD.FRCPC  . . . 1 . . . :  . . . . . % .  PAGE:2 -JiltianBigge oS  RecelvedTimeMay.1.1.20231:09PMNo.8783  ENDOFDOCUMENT  Printedby:NataliePaille

Option 3 (PSM 11):     NationalODdifonse    Ls    Defence    rationale    PROTECTEDB    CFHSSSFC    Patient    Scan-MammoDIAGNOSTIC    Document Date: 2023-05-05    0511f202312:07PM5063577051    HIGaS    PAGE04704    May062023MAMMO-Diagnostic    DSPARTMENT.OFDIAGNOSTTeIMAgING    HORIZONBEALTE    BH    Predericton and. Upper Rdver-ValieyAres    Hames    Unitfr    Medi    BOB:    Band    RGquestings    anity(MD) 2    NODOr:    eae aaa    SEX:    Location:    -    AgatNumber:    I    J0G26A069RADMAMMOORAM-DIAGNOSTICBILAT    DATE    a8f0523    GillianHiggs    RiggsTitlianND.cdryp    eREPORTSIGHEDINCHIER    VENDOR.    8Sverey aa 052023w    Reported BysCyathia Thertault YD.FR    PAGE:2    FillianHigge    OaurarwyrmarurermrerrnUr    M    lay11202312: 59 at    Maycontainconfidentialinfo    Pags2of2    HichhMk091-404.    2023    ReceivedTime May.1l.    1:09PMNo.8783    ENDOFDOCUMENT    Printedon    2024-08-0114:17    Page:23    PROTEGEB    Printedby    NataliePaille
2025-02-21 18:49:35,498 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:49:35,504 - INFO - Raw API Response:
{
  "patient_name": "NP Patricia Malott",
  "exam_date": "2021-12-23",
  "birads_right": 0,
  "birads_left": 0,
  "impressions": "BILATERAL DIAGNOSTIC MAMMOGRAPHY WITH TOMOSYNTHESIS-IMPLANTS, ULTRASOUND RIGHT BREAST",
  "findings": "",
  "follow_up_recommendation": "",
  "confidence": {
    "patient_name": 1.0,
    "exam_date": 1.0,
    "birads_right": 0.3,
    "birads_left": 0.3,
    "impressions": 1.0,
    "findings": 0.0,
    "follow_up_recommendation": 0.0
  }
}
2025-02-21 18:49:35,754 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:49:35,881 - INFO - Raw API Response:
{
  "patient_name": {
    "value": "Jillian Higgs",
    "confidence": {
      "text": 0.95,
      "medical": 0.99
    }
  },
  "exam_date": {
    "value": "2023-05-06",
    "confidence": {
      "text": 0.95,
      "date": 0.99
    }
  },
  "birads_right": null,
  "birads_left": null,
  "impressions": {
    "value": "Prediction and Upper River Valley Areas",
    "confidence": {
      "text": 0.9,
      "medical": 0.8
    }
  },
  "findings": {
    "value": "Hames Unitfr Medi BOB: Band RGquestings anity(MD) 2 NODOr: eae aaa SEX: Location: - AgatNumber: I JOG26A069RADMAMMOORAM-DIAGNOSTICBILAT DATE a8f0523 GillianHiggs RiggsTitlianND.cdryp",
    "confidence": {
      "text": 0.7,
      "medical": 0.6
    }
  },
  "follow_up_recommendation": null,
  "confidence": {
    "patient_name": 0.97,
    "exam_date": 0.97,
    "birads_right": 0,
    "birads_left": 0,
    "impressions": 0.85,
    "findings": 0.65,
    "follow_up_recommendation": 0
  }
}
2025-02-21 18:49:47,414 - INFO - LLM Prompt:
You are an expert in medical document processing, specializing in mammogram reports. Extract the following fields:
- Patient name (title case, correct fused words like 'PatientName' to 'Patient Name')
- Exam date (YYYY-MM-DD, correct formats like '23Dec2021')
- BIRADS score for the right breast (0-6)
- BIRADS score for the left breast (0-6)
- Clinical impressions
- Key findings (include measurements and locations)
- Follow-up recommendations

Correct OCR errors, prioritize medical terminology, and handle varied labels. For each field, provide a confidence score (0-1). Return valid JSON with keys: 
patient_name, exam_date, birads_right, birads_left, impressions, findings, 
follow_up_recommendation, and a 'confidence' sub-object with scores for each field.

Text:
Score each OCR option (1-10) for coherence and medical field presence. Return JSON with 'scores': [int, ...].

Option 1 (PSM 3):     Oesaeeeterete PROTECTEDB CFHSISSFC    Patient:  Scan-Mammo(B)Diagnostic DocumentDate:2021-12-23    122H26234B-18PM. MCMedicalImagng TeA7BNS7Ad184Msq9974241Pagelot2               MEDICALIMAGING    NPPatriciaMalott  CFB-Edmonton  POBOX10500STNFORCES  EdmontonABT5J4J5    ExamDate: 23Dec2021   Exam4:  Phone:(780)973-4011 ae -  FAX:7809734184 Location: Southpointe    HISTORY:Intermittentpaininrightbreast.Historyaugmentation    BILATERALDIAGNOSTICMAMMOGRAPHYWITHTOMOSYNTHESIS-IMPLANTS  ULTRASOUNDRIGHTBREAST    History:Thepatientdescribesintermittentpainintherightbreastapproximately9  oclackthelastsixmonths.Nopersonalorfamilyhistoryofbreastcancer.    Mammogram:  Thisisabaselinestudy.  Thebackgroundbreastparenchymaisalmostentirelyfatreplaced(ACRcategoryA).    Bilateralretropectoralsiliconeimplantsareseen.Theseappearintactwithanormal  i contour.    Nosuspiciousmass.architecturaldistortionorsuspiciousmicracalcificationsineither  breast.    Ultrasound:    Ultrasoundofthepatientsareaofpaindemonstratesnormalbreasttissuewithno  suspiciousabnormality.    IMPRESSION:Nomammographicorsonographicevidenceofmalignancy.No  worrisomeabnormalitytoaccountforthepatientsconcerns.    BI-RADS:1:Negative.  Recommendation(s): Screening mammographyrecommendedin7year.    ElectronicallySigned:Dr.HectorAguilar.FRCPC122320213:33PMMST    Page1of2    Printedon:2022-09-0907:51    ne Page:17  oe PROTEGEB 9  Printedby:NataliePaille

Option 2 (PSM 6):     NationalDdifenea  LseLSetencerationale PROTECTEDB CFHSISSFC  Patient:(  Scan-Mammo(B)Diagnostic DocumentDate:2021-12-23  122H26234B18PM 142Medicallmagng TeA7KNS7A418AMsq9974241Pagelol2  1  MEDICALIMAGING  NPPatriciaMalott :  CFB-Edmonton  POBOX10500STNFORCES  Edmonton.ABT5J4J6 ExamDate: 23Dec2021  Phone:(780)973-4011 Exar )  FAX:7809734184 ocation: outhpointe  HISTORY:Intermittentpaininrightbreast.Historyaugmentation  BILATERALDIAGNOSTICMAMMOGRAPHYWITHTOMOSYNTHESIS-IMPLANTS  ULTRASOUNDRIGHTBREAST  History:Thepatientdescribesintermittentpainintherightbreastapproximately9  oclackthelastsixmonths.Nopersonalorfamilyhistoryofbreastcancer.  . Mammogram:  Thisisabaselinestudy.  Thebackgroundbreastparenchymaisalmostentirelyfatreplaced(ACRcategoryA).  Bilateralretropectoralsiliconeimplantsareseen.Theseappearintactwithanormal  contour.  Nosuspiciousmass.architecturaldistortionorsuspiciousmicracalcificationsineither  breast.  Ultrasound:  Ultrasoundofthepatientsareaofpaindemonstratesnormalbreasttissuewithno  suspiciousabnormality. .  IMPRESSION:Nomammographicorsonographicevidenceofmalignancy.No  worrisomeabnormalitytoaccountforthepatientsconcerns.  BI-RADS:1:Negative.  Recommendation(s): Screening mammographyrecommendedin7year.  ElectronicallySigned:Dr.HectorAguilar.FRCPC122320213:33PMMST  Page1of2  Printedon:2022-09-0907:51 ee Page:17  nome PROTEGEB g  Printedby:NataliePaille

Option 3 (PSM 11):     NationalODdifonse
2025-02-21 18:49:48,532 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:49:48,784 - INFO - Raw API Response:
{
  "patient_name": "NP Patricia Malott",
  "exam_date": "2021-12-23",
  "birads_right": 1,
  "birads_left": 1,
  "impressions": "No mammographic or sonographic evidence of malignancy. No worrisome abnormality to account for the patient's concerns.",
  "findings": "Bilateral diagnostic mammography with tomosynthesis-implants. Ultrasound right breast. The patient describes intermittent pain in the right breast approximately 9 o'clock the last six months. No personal or family history of breast cancer. The background breast parenchyma is almost entirely fat replaced (ACR category A). Bilateral retropectoral silicone implants are seen. These appear intact with a normal contour. No suspicious mass, architectural distortion, or suspicious microcalcifications in either breast. Ultrasound of the patient's area of pain demonstrates normal breast tissue with no suspicious abnormality.",
  "follow_up_recommendation": "Screening mammography recommended in 7 years.",
  "confidence": {
    "patient_name": 0.9,
    "exam_date": 1.0,
    "birads_right": 1.0,
    "birads_left": 1.0,
    "impressions": 0.9,
    "findings": 0.8,
    "follow_up_recommendation": 1.0
  }
}
2025-02-21 18:49:52,528 - INFO - LLM Prompt:
You are an expert in medical document processing, specializing in mammogram reports. Extract the following fields:
- Patient name (title case, correct fused words like 'PatientName' to 'Patient Name')
- Exam date (YYYY-MM-DD, correct formats like '23Dec2021')
- BIRADS score for the right breast (0-6)
- BIRADS score for the left breast (0-6)
- Clinical impressions
- Key findings (include measurements and locations)
- Follow-up recommendations

Correct OCR errors, prioritize medical terminology, and handle varied labels. For each field, provide a confidence score (0-1). Return valid JSON with keys: 
patient_name, exam_date, birads_right, birads_left, impressions, findings, 
follow_up_recommendation, and a 'confidence' sub-object with scores for each field.

Text:
Score each OCR option (1-10) for coherence and medical field presence. Return JSON with 'scores': [int, ...].

Option 1 (PSM 3):          Patient:  Scan-MammoDIAGNOSTIC         0511202312:07PM5063677051    May05.2023MAIMMO-Diagnostic  a  DEPADTHRAT oF DIAGNOSES THAGING    SORIZCNARALTE  Predesicton andUpp Upper. orRives ValleyArea.    Bemar.  unit1  BOB:    SEXe Fe    ir antiegs    PROTECTEDB    DocumentDate:2023-05-05    HIGGsS . oe -PAGE-0804  : . .  Lf  Medigarar  Requesting: gg8Tillian  Eaniiy.(4D):ODOCTOR  Locations D.RAD  AdotNumbers         66Broadst  Oromocko yBBav 402.    RAM TROKEXAM. ERAMDATE.  306264069RAD(MBMMOGRAM -prietoarie BILAT.05f0523  TillianFiggs    a    Indleation:2-yearscveeningmammogram.Silateralbreastimplante.    Reference study:Previous imaging Ancliuding the mammogram Erom the    162022. 1  Finaings:. :    .Botlibreastswereimaged wlth stendaxd2 andpushedbactk views    Thebreastparenchyma 8heteragenaonslydense.categoryC.No  worriaone xegionsofarobitestural Giatoxrtion suspicious ciustexsof  suspicious Gaielfications.or abnormal mass tesions are identified.    Anpreesion:  Stable mammogram. Mammographicaliy    Cynthia theriault MD: -PRCPC    negativeformalignency.    eeTHISISAN.BLECTRONTCALTY VERIPIRD REPORTa2  050520234:43BN:Cynthia theriault.MD.FRUBC    at auesee1a)f14923420  .RateDictated:O5-May2023.04:43.pm.    DateTranseribed: 05-May-2023 4:43:on    I  WilitanKiggh    4    PASE1    May112023 12:59 as    Wien-AIDNatcon    ReceivedlimeMay.11.2023.1:09PM No.8783    2024-08-0114:17  NataliePaille    Printedon:  Printedby:    Maycontainconfidenttalinfo    iCONTINGED):    Page1of2    PROTEGEB    CFHSSSFC    Page:22

Option 2 (PSM 6):     NationalCxifensa  UsL)Gerencenationale PROTECTEDB CFHSISSFC  Patient:(  Scan-MammoDIAGNOSTIC DocumentDate:2023-05-05  0511202312:07PM5063577051 .. HIGGS : . : PAGE03f04  May05.2023MAMIMO-Diagnostic CO  DEPARTMENEOFDIAGNOBTTGTHAGTNG- Lo  HORIZONBRALTANETWORE . -. L  Predesicton:andUpper. River VaileyArea. : :  Momac- Medigarar -- .  anitf. Requesting: ggs87illian : i  BOB: Eaniiy.(4D):35ODOCTOR :  : SEX:- F : Location: D.RAD : :  TkilianBLegs : eee  66Broadst. oo.  Oramocko6BBav 402.  .CRMAMHRYRRSERAM0s ..sBRAMDATE  306264069RADSMAMMOGRAM DIAGNOSTIC BIZAT.05f0623 :  a Tndication: E-year soveening namnegram. Bllateralbreastimplante.  Reference study:freviouaimaging including themammogramEromthe  -202022. : . . a : . .  .Bothbreastswereimaged withstandaxdandpushedbadk views. .   . Thebreastparenchyma 8heteragenaonslydense.categoryC.No  worriaonexagionaofdrohitesturalaistortion.suspicionaclustexsof  suspiciouscalcificationsorabnormglvieaslesionsareidentified. .   . Impression: - oe  Stablemanmogram.Mammographically negativefor malignancy.  CynthiaTheriault.pp:PROPE ae  eeeTHISISAN.BLECTROMICALIYYERIPIRDREPQRT2%7 :  0505202343:43PM:CynthiaTheriault.MD.FRUPC  ot auez6833f14423420 . .  .PateDictateds05-May42033.04:43.pm. 7 5 .  : DateTranscribed: 05-May-2023 4243:jon : . Lo  . . i . . a . :  . i 
2025-02-21 18:49:53,114 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:49:53,134 - INFO - Retrying request to /openai/v1/chat/completions in 8.000000 seconds
2025-02-21 18:49:53,623 - INFO - LLM Prompt:
You are an expert in medical document processing, specializing in mammogram reports. Extract the following fields:
- Patient name (title case, correct fused words like 'PatientName' to 'Patient Name')
- Exam date (YYYY-MM-DD, correct formats like '23Dec2021')
- BIRADS score for the right breast (0-6)
- BIRADS score for the left breast (0-6)
- Clinical impressions
- Key findings (include measurements and locations)
- Follow-up recommendations

Correct OCR errors, prioritize medical terminology, and handle varied labels. For each field, provide a confidence score (0-1). Return valid JSON with keys: 
patient_name, exam_date, birads_right, birads_left, impressions, findings, 
follow_up_recommendation, and a 'confidence' sub-object with scores for each field.

Text:
Score each OCR option (1-10) for coherence and medical field presence. Return JSON with 'scores': [int, ...].

Option 1 (PSM 3):     Oesaeeeterete PROTECTEDB CFHSISSFC    Patient(  Scan-MammoBilat DocumentDate:2023-12-05    (af4s:2502-08-2023T2terve2i23  12(87202312:44:02EST To:14188446671 Page:2(2    CLINIQUERADIOLOGIQUEAUDET    CITEVERTE  1180.ruedesSoeurs-du-Bon-Pasteur.bureau240  Qubec(Quebec)G1S0B1  T6l.:(418)681-6121-Telec:(418)681-0125    DrFREDERIQUEFERLAND  Basemilitaire6difice109C.P1000SuccForces    COURCELETTE  PROTOCOLEDIMAGERIEMEDICALE    Quebec  GOA4Z0  Ndevisite:20231205-105 Datedexamen:2023-12-05  Ndedossier:0806655    DicteeparAlexisBeland.resident.    Signenonrelu    Admispar: ALL   Dicteele: 2023-12-06   Transeritfe: 2023-12-08 cp)   Transeritpar: JULIELAROCHE   Referant: DrFREDERIQUEFERLAND DrYVESLOISEL YLysjl  ee: DrGUYCANTIN Page:2sur2    Dansunbutdeconfidentialitesicedocumentvousa6t6transmisparerreursilvousplait  communiquezavecnousau418-681-6721poste226    Printedon:2024-06-1714:36  Printedby:JuliaHarchun    PROTEGEB Page:30

Option 2 (PSM 6):     NationalCxifensa  LsrL)Betencenationale PROTECTEDB CFHSSSFC  Patientd  Scan-MammoBilat DocumentDate:2023-12-05  12(87202312:44:02EST To:14188446671 Page:2)2  CLINIQUERADIOLOGIQUEAUDET  CITEVERTE  1180.ruedesSoeurs-du-Bon-Pasteur.bureau240  Quebec(Quebec)G1S0B4  T6l.:(418)6B1-6121-Telec:(418)681-0125  DrFREDERIQUEFERLAND  Basemilitairedifice109C.P1000SuccForces  COURCELETTE  Quebec :  GOA4Z0  PROTOCOLEDIMAGERIEMEDICALE  Ndevisite:20231205-105 Datedexamen:2023-12-06  Ndedossier:0806655  DicteeparAlexisBeland.resident.  Signenonrelu  Admispar: ALL  Dicidele: 2023-12-06  Transcritle: 2023-12-08  Transeritpar: JULIELAROCHE  Referant: DrFREDERIQUEFERLAND DrYVESLOISEL YLosi  ec: DrGUYCANTIN Page:2sur2  Dansunbutdeconfidentialitesicedocumentvousa6t6transmisparerreursilvousplait  communiquezavecnousau418-681-6121poste226  Printedon:2024-06-1714:36 ne Page:30  i F PROTEGEB g  Printedby:JuliaHarchun

Option 3 (PSM 11):     NationalODdifonse    Ls    Defence    rationale    PROTECTEDB    CFHSSSFC    Patient.    Scan-MammoBilat    DocumentDate:2023-12-05    (atarascoswa-oa-20232Jte779202263    12f8202312:44:02EST    To:14188446671    Page:2(2    CLINIQUERADIOLOGIQUEAUDET    CITEVERTE    1180.ruedesSoeurs-du-Bon-Pasteur.bureau240    Qudbec(Quebec)G1S0B1    T6l.:(418)681-6121-Telec:(418)681-0125    DrFREDERIQUEFERLAND    Basemilitaire6difice109C.P1000SuccForces    COURCELETTE    Quebec    GOA4Z0    Ndevisite:    20231205-105    Datedexamen:    2023-12-05    Ndedossier:    0806655    DicteeparAlexisBeland.resident.    Signenonrelu    Admispar:    ALL    Dicteele:    2023-12-06    Transcritfe:    2023-12-08    Transeritpar:    JULIELAROCHE    c-D    Referant:    OrFREDERIQUEFERLAND    DrYVESLOISEL    YLsjl    cc.    DrGUYCANTIN    Page:2sur2    Dansunbutdeconfidentialitesicedocumentvousa6t6transmisparerreursilvousplait    communiquezavecnousau418-681-6121poste226    Printedon:    2024-06-1714:36 
2025-02-21 18:49:53,990 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:49:54,004 - INFO - Retrying request to /openai/v1/chat/completions in 9.000000 seconds
2025-02-21 18:50:02,800 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:50:03,035 - INFO - Raw API Response:
{
  "patient_name": {
    "value": "Tillian Figgs",
    "confidence": {
      "patient_name": 0.95
    }
  },
  "exam_date": {
    "value": "2023-05-05",
    "confidence": {
      "exam_date": 1
    }
  },
  "birads_right": 0,
  "birads_left": 0,
  "impressions": {
    "value": "Stable mammogram. Mammographically negative for malignancy.",
    "confidence": {
      "impressions": 0.95
    }
  },
  "findings": {
    "value": "Both breasts were imaged with standard axial and pushed back views. The breast parenchyma is heterogeneously dense, category C. No worrisome areas of distortion or suspicious clusters of calcifications or abnormal growths are identified.",
    "confidence": {
      "findings": 0.9
    }
  },
  "follow_up_recommendation": {
    "value": "2-year screening mammogram.",
    "confidence": {
      "follow_up_recommendation": 0.9
    }
  },
  "confidence": {
    "patient_name": 0.95,
    "exam_date": 1,
    "birads_right": 0.5,
    "birads_left": 0.5,
    "impressions": 0.95,
    "findings": 0.9,
    "follow_up_recommendation": 0.9
  }
}
2025-02-21 18:50:03,764 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:50:03,764 - INFO - Retrying request to /openai/v1/chat/completions in 24.000000 seconds
2025-02-21 18:50:14,668 - INFO - LLM Prompt:
You are an expert in medical document processing, specializing in mammogram reports. Extract the following fields:
- Patient name (title case, correct fused words like 'PatientName' to 'Patient Name')
- Exam date (YYYY-MM-DD, correct formats like '23Dec2021')
- BIRADS score for the right breast (0-6)
- BIRADS score for the left breast (0-6)
- Clinical impressions
- Key findings (include measurements and locations)
- Follow-up recommendations

Correct OCR errors, prioritize medical terminology, and handle varied labels. For each field, provide a confidence score (0-1). Return valid JSON with keys: 
patient_name, exam_date, birads_right, birads_left, impressions, findings, 
follow_up_recommendation, and a 'confidence' sub-object with scores for each field.

Text:
Score each OCR option (1-10) for coherence and medical field presence. Return JSON with 'scores': [int, ...].

Option 1 (PSM 3):     Oesaeeeterete PROTECTEDB CFHSISSFC    Patient:  Scan-MammoBilat DocumentDate:2023-12-05    12:45:2012-08-2023 L11 18779212243    42(8(202312:44:02EST To:14188446671 Pape:12  CLINIQUERADIOLOGIQUEAUDET  CITEVERTE    1180.ruedesSceurs-du-Bon-Pasteur.bureau240  Quebec(Quebec)G1S084  Tal.:(418)681-6121-Teldc:(418)681-0125    DrFREDERIQUEFERLAND  Basemilitaire6difice109C.P1000SuccForces  COURCELETTE   Quebec   GOA420    PROTOCOLEDIMAGERIEMEDICALE    Ndevisite:20231205-105 Datedexamen:2023-12-05  Ndedossier:    MAMMOGRAPHIEDIAGNOSTIQUEAVECTOMOGRAPHIE  Comparatifavecdestudesded6cembre2019adecembre2022.   Constatations   Statutpost-mastectomiesegmentairedroiten2017.  Parenchymemammiairepeudense.Pasdavidencederecidivetumoraleouniveaudelacicatricede  mastectomiesegmentaireducdtedroit.Parrapportaudernierexamenifnestpasapparude  microcatcificationsuspecte.masseoudistorsionarchitecturalealatomosyntheseetceauniveaudesdeux  seins.   ClicheCCexagerelateraldroitobtenu.   Conclusion   Pasdevidencedemaligniteauniveaudesdeuxseins.   BI-RADS2.    Mammographiededepistagesugg6reedansunanvulesantecedentspersonnelsdelapatiente.    ReviseeparDrYvesLoiselradiologiste.    Signgnonrelu    Admispar: ALL   Dicteele: 2023-12-06   Transeritle: 2023-12-08 cp)   Transcritpar: JULIELAROCHE   Referant: DrFREDERIQUEFERLAND DrYVESLOISEL YLit  ec:DrGUYCANTIN Page:4sur2 RECU LE    Dansunbutdeconfidentialitesicedocumentvousa6t6transmisparerreursilvousplait4 4QEC.2023  communiquezaveenousau418-681-6121poste226  Archivesmedicales  CentresanteValcartiar    Printedon:2024-06-1714:36    -GE Page:29  Printedby:JuliaHarchun PROTEGEB

Option 2 (PSM 6):     NationalDdifenea  LiL)Serencenationale PROTECTEDB CFHSISSFC  Patient)  Scan-MammoBilat DocumentDate:2023-12-05  12(8)202312:44:02EST To:14188446671 Page:12  CLINIQUERADIOLOGIQUEAUDET  CITEVERTE  1180.ruedesSceurs-du-Bon-Pasteur.bureau240  Quebec(Quebec)G1S084  TOl:(418)681-6121-Telec:(418)681-0125  DrFREDERIQUEFERLAND  Basemilitaireedifice109C.P1000SuceForces  COURCELETTE  Quebec  GOA420  PROTOCOLEDIMAGERIEMEDICALE  Ndevisite:20231205-105 Datedexamen:2023-12-05  Ndedossier:(LJ  MAMMOGRAPHIEDIAGNOSTIQUEAVECTOMOGRAPHIE  Comparatifavecdestudesded6cembre2019adecembre2022.  Constatations :  Statutpost-mastectomiesegmentairedroiten2017.  Parenchymemammiairepeudense.Pasdavidencederecidivetumoraleouniveaudelacicatricede  mastectomiesegmentaireducdtedroit.Parrapportaudernierexamenifnestpasapparude  microcatcificationsuspecte.masseoudistorsionarchitecturalealatomosyntheseetceauniveaudesdeux  seins.  ClicheCCexagerelateraldroitobtenu.  Conclusion  Pasdevidencedemaligniteauniveaudesdeuxseins.  BI-RADS2.  Mammographiededepistagesugg6reedansunanvulesantecedentspersonnelsdelapatiente.  ReviseeparDrYvesLoiselradiologiste.  Signgnonrelu  Admispar: ALL  Dicteele: 2023-12-06  Transeritla: 2023-12-08 .  Transcritpar: JULIELAROCHE  Re
2025-02-21 18:50:15,417 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:50:15,560 - INFO - Retrying request to /openai/v1/chat/completions in 11.000000 seconds
2025-02-21 18:50:22,781 - INFO - LLM Prompt:
You are an expert in medical document processing, specializing in mammogram reports. Extract the following fields:
- Patient name (title case, correct fused words like 'PatientName' to 'Patient Name')
- Exam date (YYYY-MM-DD, correct formats like '23Dec2021')
- BIRADS score for the right breast (0-6)
- BIRADS score for the left breast (0-6)
- Clinical impressions
- Key findings (include measurements and locations)
- Follow-up recommendations

Correct OCR errors, prioritize medical terminology, and handle varied labels. For each field, provide a confidence score (0-1). Return valid JSON with keys: 
patient_name, exam_date, birads_right, birads_left, impressions, findings, 
follow_up_recommendation, and a 'confidence' sub-object with scores for each field.

Text:
NationalODdifonse is Defence rationale protected
CFHSSSFC patient Scan-MAMMO - (B)Diagnostic DocumentDate: 2021-12-28
1372320213:50:43PM MICMeccallmaging To97809724184Msg9974241.PegeZof2 i % ee 40 e of 8 lo
IMAGING NPPatriciaMalott CFB-Edmonton
POBOX10500STNFORCES EdmontonABT5J4J5 ExamDate: 23Dec2021 exam Phone:(780)973-4011 location Southpointe
FAX:7809734184
BILATERALDIAGNOSTICMAMMO - GRAPHYWITHTOMOSYNTHESIS-IMPLANTS
ULTRASOUNDRIGHTBREAST Questionsaboutthisreport Orderingphysiciansmaycontacttheradiologistat1-844-642-4723(1-844-MIC-4RAD). Page2of2 Printedon: 2022-09-01-0907:51 Page:18 protege Printedby: NataliePaille
2025-02-21 18:50:24,535 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:50:24,869 - INFO - Raw API Response:
{
  "patient_name": {
    "value": "Patricia Malott",
    "confidence": {
      "patient_name": 1
    }
  },
  "exam_date": {
    "value": "2021-12-23",
    "confidence": {
      "exam_date": 1
    }
  },
  "birads_right": {
    "value": null,
    "confidence": {
      "birads_right": 0
    }
  },
  "birads_left": {
    "value": null,
    "confidence": {
      "birads_left": 0
    }
  },
  "impressions": {
    "value": "BILATERAL DIAGNOSTIC MAMMOGRAPHY WITH TOMOSYNTHESIS-IMPLANTS",
    "confidence": {
      "impressions": 1
    }
  },
  "findings": {
    "value": "N/A",
    "confidence": {
      "findings": 0
    }
  },
  "follow_up_recommendation": {
    "value": "Ordering physicians may contact the radiologist at 1-844-642-4723 (1-844-MIC-4RAD).",
    "confidence": {
      "follow_up_recommendation": 1
    }
  },
  "confidence": {
    "patient_name": 1,
    "exam_date": 1,
    "birads_right": 0,
    "birads_left": 0,
    "impressions": 1,
    "findings": 0,
    "follow_up_recommendation": 1
  }
}
2025-02-21 18:50:24,869 - ERROR - Error processing page 2 of Eng Example 2.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 96, in process_single_page
    structured_data, warnings = ocr_utils.extract_fields_from_text(extracted_text)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\.\src\ocr_utils.py", line 381, in extract_fields_from_text
    if field in missing_fields and (match := re.search(pattern, text, re.DOTALL)):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 201, in search
    return _compile(pattern, flags).search(string)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 304, in _compile
    p = sre_compile.compile(pattern, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_compile.py", line 788, in compile
    p = sre_parse.parse(p, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 955, in parse
    p = _parse_sub(source, state, flags & SRE_FLAG_VERBOSE, 0)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 444, in _parse_sub
    itemsappend(_parse(source, state, verbose, nested + 1,
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 843, in _parse
    raise source.error("missing ), unterminated subpattern",
re.error: missing ), unterminated subpattern at position 52
2025-02-21 18:50:27,443 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:50:27,444 - INFO - Retrying request to /openai/v1/chat/completions in 11.000000 seconds
2025-02-21 18:50:28,302 - INFO - LLM Prompt:
You are an expert in medical document processing, specializing in mammogram reports. Extract the following fields:
- Patient name (title case, correct fused words like 'PatientName' to 'Patient Name')
- Exam date (YYYY-MM-DD, correct formats like '23Dec2021')
- BIRADS score for the right breast (0-6)
- BIRADS score for the left breast (0-6)
- Clinical impressions
- Key findings (include measurements and locations)
- Follow-up recommendations

Correct OCR errors, prioritize medical terminology, and handle varied labels. For each field, provide a confidence score (0-1). Return valid JSON with keys: 
patient_name, exam_date, birads_right, birads_left, impressions, findings, 
follow_up_recommendation, and a 'confidence' sub-object with scores for each field.

Text:
Score each OCR option (1-10) for coherence and medical field presence. Return JSON with 'scores': [int, ...].

Option 1 (PSM 3):     Natio  LseLSetencerationale PROTECTEDB CFHSISSFC  Patient:   Scan-Mammo-MammoBilateraledeDepistage DocumentDate:2022-02-23    TTisasasoa-or-zoz2Ttesoscan  P-Mar-282215:37 450-671-9284 RESOSCAN pel          ResoScan 2084.Houl.Tascheresu.%:102    GraantialdPark.14V2G5    CHIM:tazasayart-ciza  nae . . Inforesoxcin.com.  Centredimageriemedicalewww-resoscan.com    DREMARIE-JOSEEFONTAINE  CP600SUCCK   MONTREAL   H1N8R2    PROTOCOLEDIMAGERIEMEDICALE    Dateexamen(s):Mercredile23favrier2022 20220223-006  Rens.cliniques:A36890155         Pasdecomparatif.    Constatations:         LapatienterapporteuneradiographiepasseaMontrealem2021.Jenedisposepasde  comparatifdansleDSQ.    Seinsdedensitesmoderges2importantes.macro-nedulairesnonmasquants.actuellementsans  lesionvolutivesuspecte.nidistorsion.nicalcificationetcebilateralement.Lensernbleest  BIRADS1.    RESULE  -03-082022  ARCHIVESS-)    Datedetranseription:2022-03-07JC         Dateaimprassion: 2022-03-07  Datedamodification:2022-03-07JC  Copieconforme: DRKATALINFULOP    COPIEMEDECINREFERANT Page1da4    Anosmedecinsreferentspourdavantagedinformationsnhesitezpas4nouscommuniquer    watenarienoenencrvinlaesinfaniienencnannam    Printedon:2024-10-2508:05  Printedby:NataliePaille    PROTEGEB Page:14

Option 2 (PSM 6):     NationalCxifensa  UsL)Gerencenationale PROTECTEDB CFHSISSFC  Patientd  Scan-Mammo-MammoBilateraledeDepistage DocumentDate:2022-02-23  7-Mar-282215:374508-671-9204 RESOSCAN pel :   ly ResoScan 2084.Houl.Tascheresu.%:102 :   GraanfialdPark14V2G8 .  CHIM:tazasayart-ciza  nae . Inforesoxcin.com.   Centredimageriemedicalewww-rasoscan.camn  DREMARIE-JOSEEFONTAINE :  CP600SUCCK :   MONTREAL :  HiN3R2  PROTOCOLEDIMAGERIEMEDIGALE  Dateexamen(s):Mercredile23favrier2022 20220223-006  Rens.cliniques:A36890155  Pasdecomparatif.  Constatations: .  LapatienterapporteuneradiographiepasseaMontrealem2021.Jenedisposepasde  comparatifdansleDSQ.  Seinsdedensitesmoderges2importantes.macro-nedulairesnonmasquants.actuellementsans  lesionvolutivesuspecte.nidistorsion.nicalcificationetcebilateralement.Lensernbleest :   BIRADS1.   RESULE   -03-082022   ARCHIVESS-) )   Datademiodification:2022-03-07JC wo :  Copieconforme: DRKATALINFULOP   COPIEMEDECINREFERANT Page1da4 :   Anosmedecinsreferentspourdavantagedinformationsnhesitezpas4nouscommuniquer  watenardeneenentievintase:infanienenenannam   io PROTEGEB 9  Printedby:NataliePaille

Option 3 (PSM 11):     NationalODdifonse    Ls    Defence    rationale    PROTECTEDB    CFHSSSFC    Patient:    Scan-Mammo-MammoBilateraledeDepistage    DocumentDate:2022-02-23    eens    TTisasasoa-or-zoz2Ttesoscan    7-Mar-2822915:37    450-671-9284    RESOSCAN    pel    a    ResoScan 2084.Houl.Tascheresu.%:102    raantialdPark14V2G8    clm    Tah:(450f-671-6173    Centredimageriemedicalewww-rasoscan.camn    infaresoxedn.coin.    DREMARIE-JOSEEFONTAINE    CP600SUC
2025-02-21 18:50:28,905 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:50:28,920 - ERROR - LLM extraction failed: Error code: 429 - {'error': {'message': 'Rate limit reached for model `mixtral-8x7b-32768` in organization `org_01jjr06gvjepht8gfgh9726zm6` service tier `on_demand` on tokens per minute (TPM): Limit 5000, Used 4078, Requested 1823. Please try again in 10.806s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing', 'type': 'tokens', 'code': 'rate_limit_exceeded'}}
2025-02-21 18:50:28,968 - WARNING - Rate limited, retrying...
2025-02-21 18:50:29,372 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:50:29,372 - INFO - Retrying request to /openai/v1/chat/completions in 9.000000 seconds
2025-02-21 18:50:35,196 - INFO - LLM Prompt:
You are an expert in medical document processing, specializing in mammogram reports. Extract the following fields:
- Patient name (title case, correct fused words like 'PatientName' to 'Patient Name')
- Exam date (YYYY-MM-DD, correct formats like '23Dec2021')
- BIRADS score for the right breast (0-6)
- BIRADS score for the left breast (0-6)
- Clinical impressions
- Key findings (include measurements and locations)
- Follow-up recommendations

Correct OCR errors, prioritize medical terminology, and handle varied labels. For each field, provide a confidence score (0-1). Return valid JSON with keys: 
patient_name, exam_date, birads_right, birads_left, impressions, findings, 
follow_up_recommendation, and a 'confidence' sub-object with scores for each field.

Text:
Score each OCR option (1-10) for coherence and medical field presence. Return JSON with 'scores': [int, ...].

Option 1 (PSM 3):     Oesaeeeterete PROTECTEDB CFHSISSFC    Patient(  Scan-MammoBilat DocumentDate:2023-12-05    (af4s:2502-08-2023T2terve2i23  12(87202312:44:02EST To:14188446671 Page:2(2    CLINIQUERADIOLOGIQUEAUDET    CITEVERTE  1180.ruedesSoeurs-du-Bon-Pasteur.bureau240  Qubec(Quebec)G1S0B1  T6l.:(418)681-6121-Telec:(418)681-0125    DrFREDERIQUEFERLAND  Basemilitaire6difice109C.P1000SuccForces    COURCELETTE  PROTOCOLEDIMAGERIEMEDICALE    Quebec  GOA4Z0  Ndevisite:20231205-105 Datedexamen:2023-12-05  Ndedossier:0806655    DicteeparAlexisBeland.resident.    Signenonrelu    Admispar: ALL   Dicteele: 2023-12-06   Transeritfe: 2023-12-08 cp)   Transeritpar: JULIELAROCHE   Referant: DrFREDERIQUEFERLAND DrYVESLOISEL YLysjl  ee: DrGUYCANTIN Page:2sur2    Dansunbutdeconfidentialitesicedocumentvousa6t6transmisparerreursilvousplait  communiquezavecnousau418-681-6721poste226    Printedon:2024-06-1714:36  Printedby:JuliaHarchun    PROTEGEB Page:30

Option 2 (PSM 6):     NationalCxifensa  LsrL)Betencenationale PROTECTEDB CFHSSSFC  Patientd  Scan-MammoBilat DocumentDate:2023-12-05  12(87202312:44:02EST To:14188446671 Page:2)2  CLINIQUERADIOLOGIQUEAUDET  CITEVERTE  1180.ruedesSoeurs-du-Bon-Pasteur.bureau240  Quebec(Quebec)G1S0B4  T6l.:(418)6B1-6121-Telec:(418)681-0125  DrFREDERIQUEFERLAND  Basemilitairedifice109C.P1000SuccForces  COURCELETTE  Quebec :  GOA4Z0  PROTOCOLEDIMAGERIEMEDICALE  Ndevisite:20231205-105 Datedexamen:2023-12-06  Ndedossier:0806655  DicteeparAlexisBeland.resident.  Signenonrelu  Admispar: ALL  Dicidele: 2023-12-06  Transcritle: 2023-12-08  Transeritpar: JULIELAROCHE  Referant: DrFREDERIQUEFERLAND DrYVESLOISEL YLosi  ec: DrGUYCANTIN Page:2sur2  Dansunbutdeconfidentialitesicedocumentvousa6t6transmisparerreursilvousplait  communiquezavecnousau418-681-6121poste226  Printedon:2024-06-1714:36 ne Page:30  i F PROTEGEB g  Printedby:JuliaHarchun

Option 3 (PSM 11):     NationalODdifonse    Ls    Defence    rationale    PROTECTEDB    CFHSSSFC    Patient.    Scan-MammoBilat    DocumentDate:2023-12-05    (atarascoswa-oa-20232Jte779202263    12f8202312:44:02EST    To:14188446671    Page:2(2    CLINIQUERADIOLOGIQUEAUDET    CITEVERTE    1180.ruedesSoeurs-du-Bon-Pasteur.bureau240    Qudbec(Quebec)G1S0B1    T6l.:(418)681-6121-Telec:(418)681-0125    DrFREDERIQUEFERLAND    Basemilitaire6difice109C.P1000SuccForces    COURCELETTE    Quebec    GOA4Z0    Ndevisite:    20231205-105    Datedexamen:    2023-12-05    Ndedossier:    0806655    DicteeparAlexisBeland.resident.    Signenonrelu    Admispar:    ALL    Dicteele:    2023-12-06    Transcritfe:    2023-12-08    Transeritpar:    JULIELAROCHE    c-D    Referant:    OrFREDERIQUEFERLAND    DrYVESLOISEL    YLsjl    cc.    DrGUYCANTIN    Page:2sur2    Dansunbutdeconfidentialitesicedocumentvousa6t6transmisparerreursilvousplait    communiquezavecnousau418-681-6121poste226    Printedon:    2024-06-1714:36 
2025-02-21 18:50:36,040 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:50:36,120 - INFO - Retrying request to /openai/v1/chat/completions in 4.000000 seconds
2025-02-21 18:50:39,494 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:50:39,620 - INFO - Retrying request to /openai/v1/chat/completions in 19.000000 seconds
2025-02-21 18:50:40,369 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:50:40,449 - INFO - Retrying request to /openai/v1/chat/completions in 28.000000 seconds
2025-02-21 18:50:40,544 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:50:40,892 - INFO - Raw API Response:
{
  "patient_name": {
    "value": "Dr Frederique Ferland",
    "confidence": {
      "coherence": 8,
      "medical_field": 9
    }
  },
  "exam_date": {
    "value": "2023-12-05",
    "confidence": {
      "coherence": 10,
      "date_format": 10
    }
  },
  "birads_right": {
    "value": 2,
    "confidence": {
      "coherence": 10,
      "medical_field": 10
    }
  },
  "birads_left": {
    "value": 2,
    "confidence": {
      "coherence": 10,
      "medical_field": 10
    }
  },
  "impressions": {
    "value": "BI-RADS 2",
    "confidence": {
      "coherence": 10,
      "medical_field": 10
    }
  },
  "findings": {
    "value": "Pas de videncede malignite aux deux seins. Parenchyme mammiaire peu dense. Pas de davidencederecidive tumorale ou de nouvelle lsion  l'un ou l'autre sein par rapport au dernier examen. Cliche CC exagr lateral droit obtenu.",
    "confidence": {
      "coherence": 9,
      "medical_field": 10
    }
  },
  "follow_up_recommendation": {
    "value": "Mammographie de dpistage suggre dans un an en l'absence d'antcdents personnels de la patiente.",
    "confidence": {
      "coherence": 10,
      "medical_field": 10
    }
  },
  "confidence": {
    "patient_name": {
      "coherence": 0.9,
      "medical_field": 0.95
    },
    "exam_date": {
      "coherence": 1,
      "date_format": 1
    },
    "birads_right": 1,
    "birads_left": 1,
    "impressions": {
      "coherence": 1,
      "medical_field": 1
    },
    "findings": {
      "coherence": 0.9,
      "medical_field": 1
    },
    "follow_up_recommendation": {
      "coherence": 1,
      "medical_field": 1
    }
  }
}
2025-02-21 18:51:00,107 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:51:00,107 - ERROR - LLM extraction failed: Error code: 429 - {'error': {'message': 'Rate limit reached for model `mixtral-8x7b-32768` in organization `org_01jjr06gvjepht8gfgh9726zm6` service tier `on_demand` on tokens per minute (TPM): Limit 5000, Used 3846, Requested 1650. Please try again in 5.943s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing', 'type': 'tokens', 'code': 'rate_limit_exceeded'}}
2025-02-21 18:51:00,123 - WARNING - Rate limited, retrying...
2025-02-21 18:51:06,368 - INFO - LLM Prompt:
You are an expert in medical document processing, specializing in mammogram reports. Extract the following fields:
- Patient name (title case, correct fused words like 'PatientName' to 'Patient Name')
- Exam date (YYYY-MM-DD, correct formats like '23Dec2021')
- BIRADS score for the right breast (0-6)
- BIRADS score for the left breast (0-6)
- Clinical impressions
- Key findings (include measurements and locations)
- Follow-up recommendations

Correct OCR errors, prioritize medical terminology, and handle varied labels. For each field, provide a confidence score (0-1). Return valid JSON with keys: 
patient_name, exam_date, birads_right, birads_left, impressions, findings, 
follow_up_recommendation, and a 'confidence' sub-object with scores for each field.

Text:
Score each OCR option (1-10) for coherence and medical field presence. Return JSON with 'scores': [int, ...].

Option 1 (PSM 3):     Natio  LseLSetencerationale PROTECTEDB CFHSISSFC  Patient:   Scan-Mammo-MammoBilateraledeDepistage DocumentDate:2022-02-23    TTisasasoa-or-zoz2Ttesoscan  P-Mar-282215:37 450-671-9284 RESOSCAN pel          ResoScan 2084.Houl.Tascheresu.%:102    GraantialdPark.14V2G5    CHIM:tazasayart-ciza  nae . . Inforesoxcin.com.  Centredimageriemedicalewww-resoscan.com    DREMARIE-JOSEEFONTAINE  CP600SUCCK   MONTREAL   H1N8R2    PROTOCOLEDIMAGERIEMEDICALE    Dateexamen(s):Mercredile23favrier2022 20220223-006  Rens.cliniques:A36890155         Pasdecomparatif.    Constatations:         LapatienterapporteuneradiographiepasseaMontrealem2021.Jenedisposepasde  comparatifdansleDSQ.    Seinsdedensitesmoderges2importantes.macro-nedulairesnonmasquants.actuellementsans  lesionvolutivesuspecte.nidistorsion.nicalcificationetcebilateralement.Lensernbleest  BIRADS1.    RESULE  -03-082022  ARCHIVESS-)    Datedetranseription:2022-03-07JC         Dateaimprassion: 2022-03-07  Datedamodification:2022-03-07JC  Copieconforme: DRKATALINFULOP    COPIEMEDECINREFERANT Page1da4    Anosmedecinsreferentspourdavantagedinformationsnhesitezpas4nouscommuniquer    watenarienoenencrvinlaesinfaniienencnannam    Printedon:2024-10-2508:05  Printedby:NataliePaille    PROTEGEB Page:14

Option 2 (PSM 6):     NationalCxifensa  UsL)Gerencenationale PROTECTEDB CFHSISSFC  Patientd  Scan-Mammo-MammoBilateraledeDepistage DocumentDate:2022-02-23  7-Mar-282215:374508-671-9204 RESOSCAN pel :   ly ResoScan 2084.Houl.Tascheresu.%:102 :   GraanfialdPark14V2G8 .  CHIM:tazasayart-ciza  nae . Inforesoxcin.com.   Centredimageriemedicalewww-rasoscan.camn  DREMARIE-JOSEEFONTAINE :  CP600SUCCK :   MONTREAL :  HiN3R2  PROTOCOLEDIMAGERIEMEDIGALE  Dateexamen(s):Mercredile23favrier2022 20220223-006  Rens.cliniques:A36890155  Pasdecomparatif.  Constatations: .  LapatienterapporteuneradiographiepasseaMontrealem2021.Jenedisposepasde  comparatifdansleDSQ.  Seinsdedensitesmoderges2importantes.macro-nedulairesnonmasquants.actuellementsans  lesionvolutivesuspecte.nidistorsion.nicalcificationetcebilateralement.Lensernbleest :   BIRADS1.   RESULE   -03-082022   ARCHIVESS-) )   Datademiodification:2022-03-07JC wo :  Copieconforme: DRKATALINFULOP   COPIEMEDECINREFERANT Page1da4 :   Anosmedecinsreferentspourdavantagedinformationsnhesitezpas4nouscommuniquer  watenardeneenentievintase:infanienenenannam   io PROTEGEB 9  Printedby:NataliePaille

Option 3 (PSM 11):     NationalODdifonse    Ls    Defence    rationale    PROTECTEDB    CFHSSSFC    Patient:    Scan-Mammo-MammoBilateraledeDepistage    DocumentDate:2022-02-23    eens    TTisasasoa-or-zoz2Ttesoscan    7-Mar-2822915:37    450-671-9284    RESOSCAN    pel    a    ResoScan 2084.Houl.Tascheresu.%:102    raantialdPark14V2G8    clm    Tah:(450f-671-6173    Centredimageriemedicalewww-rasoscan.camn    infaresoxedn.coin.    DREMARIE-JOSEEFONTAINE    CP600SUC
2025-02-21 18:51:06,702 - INFO - LLM Prompt:
You are an expert in medical document processing, specializing in mammogram reports. Extract the following fields:
- Patient name (title case, correct fused words like 'PatientName' to 'Patient Name')
- Exam date (YYYY-MM-DD, correct formats like '23Dec2021')
- BIRADS score for the right breast (0-6)
- BIRADS score for the left breast (0-6)
- Clinical impressions
- Key findings (include measurements and locations)
- Follow-up recommendations

Correct OCR errors, prioritize medical terminology, and handle varied labels. For each field, provide a confidence score (0-1). Return valid JSON with keys: 
patient_name, exam_date, birads_right, birads_left, impressions, findings, 
follow_up_recommendation, and a 'confidence' sub-object with scores for each field.

Text:
este protected
CFHSISSFC Defencemationale patient Scan-MAMMO - DIAGNOSTIC Document date 2023-05-05
0511202812:07PM5063577051 highs
PAGE047 04 May062023MAMMO - Diagnostic
DEPARTHENT.OFDIAGNOSTICMMAGTHG
HORTZONBEALTER network Predericton and UgnerRiverVallieyAren makes Mddioaree unit Roquertings tigger walkman bob Panty (MD):NODor : . : location do
BAD sex 3 : AgatNumber: to EXaH8-TYRHExan a a
BXAMDATE 306264069RADMAMMGURAM-DIAGNOSTICBIRATo5f05f23 dilidanHiggs her . . a RigosJillianND.CCEP eREPORTSIGHEDINCINERVENDOR 8Sverey 054952023s. Reported BysCyathia Thertault
WDFRCPC page -JFilRianwiggs )R9nemareornsrneUe May11202312:59PM: Maycontalnconfldentialinfo Page2of2 ReceivedTimeMay..20231:09PMNo.8783
ENDOFDOCUMENT i : -08- : moe Page:23 Printedon: 2024-01-01- 08 01 14:17 protege i Printedby:NataliePaille
2025-02-21 18:51:07,671 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:51:07,830 - INFO - Raw API Response:
{
  "patient_name": "Dremarie Josee Fontaine",
  "exam_date": "2022-02-23",
  "birads_right": null,
  "birads_left": null,
  "impressions": "Seins de densits modres  importantes, sans lsion volumineuse suspecte, ni distorsion, ni calcification bilatralement. L'ensemble est BIRADS 1.",
  "findings": "La patiente rapporte une radiographie passe  Montral en 2021. Aucun comparatif n'est disponible dans le DSQ.",
  "follow_up_recommendation": null,
  "confidence": {
    "patient_name": 0.9,
    "exam_date": 1.0,
    "birads_right": 0.0,
    "birads_left": 0.0,
    "impressions": 0.9,
    "findings": 0.9,
    "follow_up_recommendation": 0.0
  }
}
2025-02-21 18:51:07,909 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:51:08,102 - INFO - Retrying request to /openai/v1/chat/completions in 7.000000 seconds
2025-02-21 18:51:10,046 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:51:10,174 - ERROR - LLM extraction failed: Error code: 429 - {'error': {'message': 'Rate limit reached for model `mixtral-8x7b-32768` in organization `org_01jjr06gvjepht8gfgh9726zm6` service tier `on_demand` on tokens per minute (TPM): Limit 5000, Used 4982, Requested 1823. Please try again in 21.659s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing', 'type': 'tokens', 'code': 'rate_limit_exceeded'}}
2025-02-21 18:51:10,189 - WARNING - Rate limited, retrying...
2025-02-21 18:51:13,334 - INFO - LLM Prompt:
You are an expert in medical document processing, specializing in mammogram reports. Extract the following fields:
- Patient name (title case, correct fused words like 'PatientName' to 'Patient Name')
- Exam date (YYYY-MM-DD, correct formats like '23Dec2021')
- BIRADS score for the right breast (0-6)
- BIRADS score for the left breast (0-6)
- Clinical impressions
- Key findings (include measurements and locations)
- Follow-up recommendations

Correct OCR errors, prioritize medical terminology, and handle varied labels. For each field, provide a confidence score (0-1). Return valid JSON with keys: 
patient_name, exam_date, birads_right, birads_left, impressions, findings, 
follow_up_recommendation, and a 'confidence' sub-object with scores for each field.

Text:
NationalODdifonse is Defence rationale protected
CFHSSSFC patient Scan-MAMMO - (B)Diagnostic DocumentDate:2021-12-23
122H26234B-18PM. A2Medicallmagng TeA7KNS7A418AMsq9974241Pagelol2 se lab
MEDICAL
MAGI no NPPatriciaMalott CFB-Edmonton
POBOX10500STNFORCES EdmontonABT5J4J5 ExamDate: 23Dec2021 exam Phone:(780)973-4011 location Southpointe
FAX:7809734184 HISTORY:Intermittentpaininrightbreast.Historyaugmentation
BILATERALDIAGNOSTICMAMMO - GRAPHYWITHTOMOSYNTHESIS-IMPLANTS
ULTRASOUNDRIGHTBREAST History:Thepatientdescribesintermittentpainintherightbreastapproximately9 oclackthelastsixmonths.Nopersonalorfamilyhistoryofbreastcancer. MAMMO - gram Thisisabaselinestudy. Thebackgroundbreastparenchymaisalmostentirelyfatreplaced(ACRcategoryA). Bilateralretropectoralsiliconeimplantsareseen.Theseappearintactwithanormal contours Nosuspiciousmass.architecturaldistortionorsuspiciousmicracalcificationsineither breast ultrasound Ultrasoundofthepatientsareaofpaindemonstratesnormalbreasttissuewithno suspiciousabnormality. IMPRESSION:NoMAMMO - graphicorsonographicevidenceofmalignancy.No worrisomeabnormalitytoaccountforthepatientsconcerns. BIRADS:1:Negative. Recommendation(s): Screening MAMMO - graphyrecommendedin7year. ElectronicallySigned:Dr.HectorAguilar.FRCPC122320213:33PMMST Page1of2 Printedon: 2022-09-01-0907:51 Page:17 NataliePaille protege Printedby:
2025-02-21 18:51:13,988 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:51:14,055 - INFO - Retrying request to /openai/v1/chat/completions in 5.000000 seconds
2025-02-21 18:51:15,861 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:51:15,893 - INFO - Retrying request to /openai/v1/chat/completions in 2.000000 seconds
2025-02-21 18:51:18,898 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:51:19,312 - INFO - Raw API Response:
{
  "patient_name": {
    "value": "Patient Name",
    "confidence": {
      "text": 0.6,
      "medical_terminology": 0.9
    }
  },
  "exam_date": {
    "value": "2023-05-04",
    "confidence": {
      "text": 0.7,
      "date_format": 0.9
    }
  },
  "birads_right": 0,
  "birads_left": 0,
  "impressions": {
    "value": "Clinical impressions not provided",
    "confidence": 0.5
  },
  "findings": {
    "value": "Key findings not provided",
    "confidence": 0.5
  },
  "follow_up_recommendation": {
    "value": "Follow-up recommendations not provided",
    "confidence": 0.5
  },
  "confidence": {
    "patient_name": 0.75,
    "exam_date": 0.8,
    "birads_right": 0,
    "birads_left": 0,
    "impressions": 0.5,
    "findings": 0.5,
    "follow_up_recommendation": 0.5
  }
}
2025-02-21 18:51:19,312 - ERROR - Error processing page 2 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 96, in process_single_page
    structured_data, warnings = ocr_utils.extract_fields_from_text(extracted_text)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\.\src\ocr_utils.py", line 381, in extract_fields_from_text
    if field in missing_fields and (match := re.search(pattern, text, re.DOTALL)):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 201, in search
    return _compile(pattern, flags).search(string)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 304, in _compile
    p = sre_compile.compile(pattern, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_compile.py", line 788, in compile
    p = sre_parse.parse(p, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 955, in parse
    p = _parse_sub(source, state, flags & SRE_FLAG_VERBOSE, 0)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 444, in _parse_sub
    itemsappend(_parse(source, state, verbose, nested + 1,
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 843, in _parse
    raise source.error("missing ), unterminated subpattern",
re.error: missing ), unterminated subpattern at position 52
2025-02-21 18:51:19,885 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:51:19,917 - INFO - Retrying request to /openai/v1/chat/completions in 12.000000 seconds
2025-02-21 18:51:20,661 - INFO - LLM Prompt:
You are an expert in medical document processing, specializing in mammogram reports. Extract the following fields:
- Patient name (title case, correct fused words like 'PatientName' to 'Patient Name')
- Exam date (YYYY-MM-DD, correct formats like '23Dec2021')
- BIRADS score for the right breast (0-6)
- BIRADS score for the left breast (0-6)
- Clinical impressions
- Key findings (include measurements and locations)
- Follow-up recommendations

Correct OCR errors, prioritize medical terminology, and handle varied labels. For each field, provide a confidence score (0-1). Return valid JSON with keys: 
patient_name, exam_date, birads_right, birads_left, impressions, findings, 
follow_up_recommendation, and a 'confidence' sub-object with scores for each field.

Text:
Score each OCR option (1-10) for coherence and medical field presence. Return JSON with 'scores': [int, ...].

Option 1 (PSM 3):     Oesaeeeterete PROTECTEDB CFHSISSFC    Patient(  Scan-MammoBilat DocumentDate:2023-12-05    (af4s:2502-08-2023T2terve2i23  12(87202312:44:02EST To:14188446671 Page:2(2    CLINIQUERADIOLOGIQUEAUDET    CITEVERTE  1180.ruedesSoeurs-du-Bon-Pasteur.bureau240  Qubec(Quebec)G1S0B1  T6l.:(418)681-6121-Telec:(418)681-0125    DrFREDERIQUEFERLAND  Basemilitaire6difice109C.P1000SuccForces    COURCELETTE  PROTOCOLEDIMAGERIEMEDICALE    Quebec  GOA4Z0  Ndevisite:20231205-105 Datedexamen:2023-12-05  Ndedossier:0806655    DicteeparAlexisBeland.resident.    Signenonrelu    Admispar: ALL   Dicteele: 2023-12-06   Transeritfe: 2023-12-08 cp)   Transeritpar: JULIELAROCHE   Referant: DrFREDERIQUEFERLAND DrYVESLOISEL YLysjl  ee: DrGUYCANTIN Page:2sur2    Dansunbutdeconfidentialitesicedocumentvousa6t6transmisparerreursilvousplait  communiquezavecnousau418-681-6721poste226    Printedon:2024-06-1714:36  Printedby:JuliaHarchun    PROTEGEB Page:30

Option 2 (PSM 6):     NationalCxifensa  LsrL)Betencenationale PROTECTEDB CFHSSSFC  Patientd  Scan-MammoBilat DocumentDate:2023-12-05  12(87202312:44:02EST To:14188446671 Page:2)2  CLINIQUERADIOLOGIQUEAUDET  CITEVERTE  1180.ruedesSoeurs-du-Bon-Pasteur.bureau240  Quebec(Quebec)G1S0B4  T6l.:(418)6B1-6121-Telec:(418)681-0125  DrFREDERIQUEFERLAND  Basemilitairedifice109C.P1000SuccForces  COURCELETTE  Quebec :  GOA4Z0  PROTOCOLEDIMAGERIEMEDICALE  Ndevisite:20231205-105 Datedexamen:2023-12-06  Ndedossier:0806655  DicteeparAlexisBeland.resident.  Signenonrelu  Admispar: ALL  Dicidele: 2023-12-06  Transcritle: 2023-12-08  Transeritpar: JULIELAROCHE  Referant: DrFREDERIQUEFERLAND DrYVESLOISEL YLosi  ec: DrGUYCANTIN Page:2sur2  Dansunbutdeconfidentialitesicedocumentvousa6t6transmisparerreursilvousplait  communiquezavecnousau418-681-6121poste226  Printedon:2024-06-1714:36 ne Page:30  i F PROTEGEB g  Printedby:JuliaHarchun

Option 3 (PSM 11):     NationalODdifonse    Ls    Defence    rationale    PROTECTEDB    CFHSSSFC    Patient.    Scan-MammoBilat    DocumentDate:2023-12-05    (atarascoswa-oa-20232Jte779202263    12f8202312:44:02EST    To:14188446671    Page:2(2    CLINIQUERADIOLOGIQUEAUDET    CITEVERTE    1180.ruedesSoeurs-du-Bon-Pasteur.bureau240    Qudbec(Quebec)G1S0B1    T6l.:(418)681-6121-Telec:(418)681-0125    DrFREDERIQUEFERLAND    Basemilitaire6difice109C.P1000SuccForces    COURCELETTE    Quebec    GOA4Z0    Ndevisite:    20231205-105    Datedexamen:    2023-12-05    Ndedossier:    0806655    DicteeparAlexisBeland.resident.    Signenonrelu    Admispar:    ALL    Dicteele:    2023-12-06    Transcritfe:    2023-12-08    Transeritpar:    JULIELAROCHE    c-D    Referant:    OrFREDERIQUEFERLAND    DrYVESLOISEL    YLsjl    cc.    DrGUYCANTIN    Page:2sur2    Dansunbutdeconfidentialitesicedocumentvousa6t6transmisparerreursilvousplait    communiquezavecnousau418-681-6121poste226    Printedon:    2024-06-1714:36 
2025-02-21 18:51:21,739 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:51:21,834 - INFO - Retrying request to /openai/v1/chat/completions in 22.000000 seconds
2025-02-21 18:51:33,461 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:51:33,860 - INFO - Raw API Response:
{
  "patient_name": "Patricia Malott",
  "exam_date": "2021-12-23",
  "birads_right": 1,
  "birads_left": 1,
  "impressions": "No mammographic or sonographic evidence of malignancy. No worrisome abnormality to account for the patient's concerns.",
  "findings": "Bilateral retropectoral silicone implants are seen. These appear intact with normal contours. No suspicious mass, architectural distortion, or suspicious microcalcifications in either breast. Ultrasound of the patient's area of pain demonstrates normal breast tissue with no suspicious abnormality.",
  "follow_up_recommendation": "Screening mammography recommended in 7 years.",
  "confidence": {
    "patient_name": 1,
    "exam_date": 1,
    "birads_right": 1,
    "birads_left": 1,
    "impressions": 1,
    "findings": 0.95,
    "follow_up_recommendation": 1
  }
}
2025-02-21 18:51:33,907 - ERROR - Error processing page 1 of Eng Example 2.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 96, in process_single_page
    structured_data, warnings = ocr_utils.extract_fields_from_text(extracted_text)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\.\src\ocr_utils.py", line 381, in extract_fields_from_text
    if field in missing_fields and (match := re.search(pattern, text, re.DOTALL)):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 201, in search
    return _compile(pattern, flags).search(string)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 304, in _compile
    p = sre_compile.compile(pattern, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_compile.py", line 788, in compile
    p = sre_parse.parse(p, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 955, in parse
    p = _parse_sub(source, state, flags & SRE_FLAG_VERBOSE, 0)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 444, in _parse_sub
    itemsappend(_parse(source, state, verbose, nested + 1,
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 843, in _parse
    raise source.error("missing ), unterminated subpattern",
re.error: missing ), unterminated subpattern at position 52
2025-02-21 18:51:44,615 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 429 Too Many Requests"
2025-02-21 18:51:44,678 - INFO - Retrying request to /openai/v1/chat/completions in 12.000000 seconds
2025-02-21 18:51:57,942 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:51:58,149 - INFO - Raw API Response:
{
  "patient_name": "Dr Frederique Ferland",
  "exam_date": "2023-12-05",
  "birads_right": null,
  "birads_left": null,
  "impressions": "Not available",
  "findings": "Not available",
  "follow_up_recommendation": "Not available",
  "confidence": {
    "patient_name": 0.9,
    "exam_date": 1.0,
    "birads_right": 0.0,
    "birads_left": 0.0,
    "impressions": 0.0,
    "findings": 0.0,
    "follow_up_recommendation": 0.0
  }
}
2025-02-21 18:52:59,878 - INFO - LLM Prompt:
You are an expert in medical document processing, specializing in mammogram reports. Extract the following fields:
- Patient name (title case, correct fused words like 'PatientName' to 'Patient Name')
- Exam date (YYYY-MM-DD, correct formats like '23Dec2021')
- BIRADS score for the right breast (0-6)
- BIRADS score for the left breast (0-6)
- Clinical impressions
- Key findings (include measurements and locations)
- Follow-up recommendations

Correct OCR errors, prioritize medical terminology, and handle varied labels. For each field, provide a confidence score (0-1). Return valid JSON with keys: 
patient_name, exam_date, birads_right, birads_left, impressions, findings, 
follow_up_recommendation, and a 'confidence' sub-object with scores for each field.

Text:
NationalODdifonse is Defence rationale protected
CFHSSSFC Patient Scan-MAMMO - DIAGNOSTIC DocumentDate:2023-01-01-01-01-05-05
05112023-01-01-01-0112:07PM5063577051
HIGGS PAGE03f04 May052023-01-01-01-01MAMMO - Diagnostic i
DEPARTGHTOF
DEAGUOBETS thawing
HORIZONARALTE Predesicton: andUpp upper arrives ValleyArea. i amar Medigarar unit requesting ggs87illian bob Eamiiy.(4D): body sex i locations dead AsoeNunbers: and
SIS 66Broadst Oromocko abba 402.
THPKEXAM
ERAMDATE. s0Gzea069
RADMBMMOGRAM -prietoarie dilate 0516623 ilidanBiggs in - Tndication:E-yearscreeningMAMMO - gram.Silataralbreastimplants. Reference study:Previous imaging including the MAMMO - gram exam the 162022. i findings - .Batlibreastswere imaged with stendaxd2 andpushedbacikc views Thebreastparenchyma 8heteragenaonuslydense. cabegoryC. No worrisome xegionsofarobitestural Gistortionsugpioiouaclustexsof suspicious Gaielfications.or abnormal mass tensions are identified ampregpion: - StableMAMMO - gram. MAMMO - graphicallynegativeformalionancy. Cynthia theriault my
PRCPC
05052023-01-01-01-014:43PM:. eetPHISISAN.BLECTRONTCALTY verified
REPORT
BRE at Cynthia Theriault.MD.FRUBC 11e36813f14423420 pateDicratedsG5-May42023-01-01-01-01.04:43.pm. DateTranseribed: 05-May-2023-01-01-01-01 4:43:jon page WilitanKiggh
(CONTINGED) 4 May112023-01-01-01-01 12:59 as Wen-aIDMAtco. Maycontainconfidenttalinfo Page1of2 Received TimeMay.11. 2023-01-01-01-01 1:09PMNo.8783 printed 2024-08-01-0114:17 22 protege Page NataliePaille printed
2025-02-21 18:53:01,514 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:53:01,960 - INFO - Raw API Response:
{
  "patient_name": {
    "value": "Cynthia Theriault",
    "confidence": {
      "name": 1
    }
  },
  "exam_date": {
    "value": "2023-05-05",
    "confidence": {
      "date": 1
    }
  },
  "birads_right": {
    "value": 0,
    "confidence": {
      "birads_right": 0.3
    }
  },
  "birads_left": {
    "value": 0,
    "confidence": {
      "birads_left": 0.3
    }
  },
  "impressions": {
    "value": "Stable mammogram, mammographically negative for malignancy.",
    "confidence": {
      "impressions": 0.9
    }
  },
  "findings": {
    "value": "Bilateral breasts were imaged with standard views. The breast parenchyma is heterogeneously dense, category C. No worrisome x-ray findings, architectural distortions, or suspicious calcifications are identified. Stable mammogram.",
    "confidence": {
      "findings": 0.9
    }
  },
  "follow_up_recommendation": null,
  "confidence": {
    "name": 1,
    "date": 1,
    "birads_right": 0.3,
    "birads_left": 0.3,
    "impressions": 0.9,
    "findings": 0.9
  }
}
2025-02-21 18:53:01,991 - ERROR - Error processing page 1 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 96, in process_single_page
    structured_data, warnings = ocr_utils.extract_fields_from_text(extracted_text)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\.\src\ocr_utils.py", line 381, in extract_fields_from_text
    if field in missing_fields and (match := re.search(pattern, text, re.DOTALL)):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 201, in search
    return _compile(pattern, flags).search(string)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 304, in _compile
    p = sre_compile.compile(pattern, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_compile.py", line 788, in compile
    p = sre_parse.parse(p, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 955, in parse
    p = _parse_sub(source, state, flags & SRE_FLAG_VERBOSE, 0)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 444, in _parse_sub
    itemsappend(_parse(source, state, verbose, nested + 1,
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 843, in _parse
    raise source.error("missing ), unterminated subpattern",
re.error: missing ), unterminated subpattern at position 52
2025-02-21 18:53:17,548 - INFO - LLM Prompt:
You are an expert in medical document processing, specializing in mammogram reports. Extract the following fields:
- Patient name (title case, correct fused words like 'PatientName' to 'Patient Name')
- Exam date (YYYY-MM-DD, correct formats like '23Dec2021')
- BIRADS score for the right breast (0-6)
- BIRADS score for the left breast (0-6)
- Clinical impressions
- Key findings (include measurements and locations)
- Follow-up recommendations

Correct OCR errors, prioritize medical terminology, and handle varied labels. For each field, provide a confidence score (0-1). Return valid JSON with keys: 
patient_name, exam_date, birads_right, birads_left, impressions, findings, 
follow_up_recommendation, and a 'confidence' sub-object with scores for each field.

Text:
NationalODdifonse is Defence rationale protected
CFHSSSFC patient Scan-MAMMO - Bilat DocumentDate:2023-01-01-12-05 (oWrascamiz-o8-2023-01-01tTerieeis
12(8(2023-01-0112:44:02EST To:14188446671 Page:12
CLINIQUERADIOLOGIQUEAUDET
CITEVERTE 1180.ruedesSceurs-du-Bon-Pasteur.bureau240 Quebec(Quebec)G1S084 Tal.:(418)681-6121-Telc:(418)681-0125 DrFREDERIQUEFERLAND Basemilitaire6difice109C.P1000SuccForces
COURCELETTE queen
GO0A420 Ndevisite: 2023-01-011205-405 Datedexamen: 2023-01-01-12-05 Ndedossier:
MAMMO - GRAPHIEDIAGNOSTIQUEAVECTOMOGRAPHIE Comparatifavecdestudesded6cembre2019adecembre2022. consultations Statutpost-mastectomiesegmentairedroiten2017. Parenchymemammiairepeudense.Pasdavidencederecidivetumoraleouniveaudelacicatricede mastectomiesegmentaireducdtedroit.Parrapportaudernierexamenifnestpasapparude microcatcificationsuspecte.masseoudistorsionarchitecturalealatomosyntheseetceauniveaudesdeux sense ClicheCCexagerelateraldroitobtenu. Conclusion Pasdevidencedemaligniteauniveaudesdeuxseins.
BIRADS2. MAMMO - graphiededepistagesugg6reedansunanvulesantecedentspersonnelsdelapatiente. ReviseeparDrYvesLoiselradiologiste. Signgnonrelu
ALL Admispar: Dicteele: 2023-01-01-12-06 Transeritle: 2023-01-01-12-08 Transcritpar:
JULIELAROCHE op Referant: DrFREDERIQUEFERLAND DrYVESLOISEL i eco DOrGUYCANTIN Page:4sur2 recuse Dansunbutdeconfidentialitesicedocumentvousa6t6transmisparerreur.siifvousplait
11-OEC.2023-01-01 communiquezaveenousau418-681-6121poste226 Archivesmedicales CentresanteValcartiar Printedon: 2024-06-01-1714:36 Page:29 protege Printedby: JuliaHarchun
2025-02-21 18:53:18,609 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:53:18,800 - INFO - Raw API Response:
{
  "patient_name": "National Oddifonse",
  "exam_date": "2023-01-01",
  "birads_right": 2,
  "birads_left": 2,
  "impressions": "Pas de videncede malignite a un niveau des deux seins. BIRADS 2.",
  "findings": "Pas de microcalcifications suspectes, masse ou distorsion architecturale a l'atomosynthese et a un niveau des deux seins. Cliche CC exagere lateral droit obtenu.",
  "follow_up_recommendation": "Mammographie de depistage suggeree dans un an en fonction des antcedents personnels de la patiente.",
  "confidence": {
    "patient_name": 0.9,
    "exam_date": 1.0,
    "birads_right": 1.0,
    "birads_left": 1.0,
    "impressions": 0.9,
    "findings": 0.8,
    "follow_up_recommendation": 0.9
  }
}
2025-02-21 18:53:18,815 - ERROR - Error processing page 1 of FR Example 3.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 96, in process_single_page
    structured_data, warnings = ocr_utils.extract_fields_from_text(extracted_text)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\.\src\ocr_utils.py", line 381, in extract_fields_from_text
    if field in missing_fields and (match := re.search(pattern, text, re.DOTALL)):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 201, in search
    return _compile(pattern, flags).search(string)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 304, in _compile
    p = sre_compile.compile(pattern, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_compile.py", line 788, in compile
    p = sre_parse.parse(p, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 955, in parse
    p = _parse_sub(source, state, flags & SRE_FLAG_VERBOSE, 0)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 444, in _parse_sub
    itemsappend(_parse(source, state, verbose, nested + 1,
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 843, in _parse
    raise source.error("missing ), unterminated subpattern",
re.error: missing ), unterminated subpattern at position 52
2025-02-21 18:53:41,437 - INFO - LLM Prompt:
You are an expert in medical document processing, specializing in mammogram reports. Extract the following fields:
- Patient name (title case, correct fused words like 'PatientName' to 'Patient Name')
- Exam date (YYYY-MM-DD, correct formats like '23Dec2021')
- BIRADS score for the right breast (0-6)
- BIRADS score for the left breast (0-6)
- Clinical impressions
- Key findings (include measurements and locations)
- Follow-up recommendations

Correct OCR errors, prioritize medical terminology, and handle varied labels. For each field, provide a confidence score (0-1). Return valid JSON with keys: 
patient_name, exam_date, birads_right, birads_left, impressions, findings, 
follow_up_recommendation, and a 'confidence' sub-object with scores for each field.

Text:
nation LseLSetencerationale protected
CFHSISSFC patient Scan-MAMMO - MAMMO - BilateraledeDepistage DocumentDate:2022-02-23 TTisasasoa-or-zoz2Ttesoscan P-Mar-282215:37 450-671-9284 rescan pel rescan 2084-01-01.Houl.Tascheresu.%:102 GraantialdPark.14V2G5 CHIM:tazasayart-ciza nae . . Inforesoxcin.com. Centredimageriemedicalewww-resoscan.com
DREMARIE-JOSEEFONTAINE
CP600SUCCK
MONTREAL
H1N8R2
PROTOCOLEDIMAGERIEMEDICALE Dateexamen(s):Mercredile23favrier2022 20220223-006 Rens.cliniques:A36890155 Pasdecomparatif. Constatations: LapatienterapporteuneradiographiepasseaMontrealem2021.Jenedisposepasde comparatifdansleDSQ. Seinsdedensitesmoderges2importantes.macro-nedulairesnonmasquants.actuellementsans lesionvolutivesuspecte.nidistorsion.nicalcificationetcebilateralement.Lensernbleest birads result -03-082022
ARCHIVESS-) Datedetranseription:2022-03-01-01-07JC Dateaimprassion: 2022-03-01-01-07 Datedamodification:2022-03-01-01-07JC Copieconforme:
DRKATALINFULOP
COPIEMEDECINREFERANT Page1da4 Anosmedecinsreferentspourdavantagedinformationsnhesitezpas4nouscommuniquer watenarienoenencrvinlaesinfaniienencnannam Printedon:2024-10-01-2508:05 Printedby:NataliePaille protege Page:14
2025-02-21 18:53:42,381 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:53:42,476 - INFO - Raw API Response:
{
  "patient_name": "Dremarie Josee Fontaine",
  "exam_date": "2022-02-23",
  "birads_right": 3,
  "birads_left": 3,
  "impressions": "Seins de densits modres, bilatral, sans distorsion, calcification ou lsion volutive suspecte.",
  "findings": "Actuellement, sans lsion volutive suspecte, ni distorsion, ni calcification bilatralement.",
  "follow_up_recommendation": "Pas de comparatif. Suivi recommand.",
  "confidence": {
    "patient_name": 0.95,
    "exam_date": 0.9,
    "birads_right": 0.8,
    "birads_left": 0.8,
    "impressions": 0.9,
    "findings": 0.9,
    "follow_up_recommendation": 0.9
  }
}
2025-02-21 18:53:42,492 - ERROR - Error processing page 1 of FR Example 4.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 96, in process_single_page
    structured_data, warnings = ocr_utils.extract_fields_from_text(extracted_text)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\.\src\ocr_utils.py", line 381, in extract_fields_from_text
    if field in missing_fields and (match := re.search(pattern, text, re.DOTALL)):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 201, in search
    return _compile(pattern, flags).search(string)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 304, in _compile
    p = sre_compile.compile(pattern, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_compile.py", line 788, in compile
    p = sre_parse.parse(p, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 955, in parse
    p = _parse_sub(source, state, flags & SRE_FLAG_VERBOSE, 0)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 444, in _parse_sub
    itemsappend(_parse(source, state, verbose, nested + 1,
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 843, in _parse
    raise source.error("missing ), unterminated subpattern",
re.error: missing ), unterminated subpattern at position 52
2025-02-21 18:53:46,113 - INFO - LLM Prompt:
You are an expert in medical document processing, specializing in mammogram reports. Extract the following fields:
- Patient name (title case, correct fused words like 'PatientName' to 'Patient Name')
- Exam date (YYYY-MM-DD, correct formats like '23Dec2021')
- BIRADS score for the right breast (0-6)
- BIRADS score for the left breast (0-6)
- Clinical impressions
- Key findings (include measurements and locations)
- Follow-up recommendations

Correct OCR errors, prioritize medical terminology, and handle varied labels. For each field, provide a confidence score (0-1). Return valid JSON with keys: 
patient_name, exam_date, birads_right, birads_left, impressions, findings, 
follow_up_recommendation, and a 'confidence' sub-object with scores for each field.

Text:
NationalODdifonse is Defence rationale protected
CFHSSSFC patient Scan-MAMMO - Bilat DocumentDate:2023-12-05 (atarascoswa-oa-20232Jte779202263 12f8202312:44:02EST To:14188446671 Page:2(2
CLINIQUERADIOLOGIQUEAUDET
CITEVERTE 1180.ruedesSoeurs-du-Bon-Pasteur.bureau240 Qudbec(Quebec)G1S0B1 T6l.:(418)681-6121-Telec:(418)681-0125 DrFREDERIQUEFERLAND Basemilitaire6difice109C.P1000SuccForces
COURCELETTE queen
GOA4Z0 Ndevisite: 20231205-105 Datedexamen: 2023-12-05 Ndedossier: 0806655 DicteeparAlexisBeland.resident. Signenonrelu Admispar:
ALL Dicteele: 2023-12-06 Transcritfe: 2023-12-08 Transeritpar:
JULIELAROCHE cod Referant: OrFREDERIQUEFERLAND DrYVESLOISEL yesl can DrGUYCANTIN Page:2sur2 Dansunbutdeconfidentialitesicedocumentvousa6t6transmisparerreursilvousplait communiquezavecnousau418-681-6121poste226 Printedon: 2024-06-01-1714:36 Page:30 JuliaHarchun protege Printedby:
2025-02-21 18:53:46,785 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-21 18:53:46,785 - INFO - Raw API Response:
{
  "patient_name": "National Oddifonse",
  "exam_date": "2023-12-05",
  "birads_right": 0,
  "birads_left": 0,
  "impressions": "Clinical Impressions not found",
  "findings": "Key Findings not found",
  "follow_up_recommendation": "Follow-up Recommendations not found",
  "confidence": {
    "patient_name": 0.5,
    "exam_date": 1,
    "birads_right": 0,
    "birads_left": 0,
    "impressions": 0,
    "findings": 0,
    "follow_up_recommendation": 0
  }
}
2025-02-21 18:53:46,785 - ERROR - Error processing page 2 of FR Example 3.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 96, in process_single_page
    structured_data, warnings = ocr_utils.extract_fields_from_text(extracted_text)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\.\src\ocr_utils.py", line 381, in extract_fields_from_text
    if field in missing_fields and (match := re.search(pattern, text, re.DOTALL)):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 201, in search
    return _compile(pattern, flags).search(string)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 304, in _compile
    p = sre_compile.compile(pattern, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_compile.py", line 788, in compile
    p = sre_parse.parse(p, flags)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 955, in parse
    p = _parse_sub(source, state, flags & SRE_FLAG_VERBOSE, 0)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 444, in _parse_sub
    itemsappend(_parse(source, state, verbose, nested + 1,
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\sre_parse.py", line 843, in _parse
    raise source.error("missing ), unterminated subpattern",
re.error: missing ), unterminated subpattern at position 52
2025-02-21 19:45:48,744 - ERROR - Error processing page 2 of Eng Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\shutil.py", line 825, in move
    os.rename(src, real_dst)
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'en_PP-OCRv4_det_infer\\en_PP-OCRv3_det_infer.tar.tmp' -> 'en_PP-OCRv4_det_infer\\en_PP-OCRv3_det_infer.tar'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 112, in process_single_page
    paddle_ocr = PaddleOCR(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 669, in __init__
    maybe_download(params.det_model_dir, det_url)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\utils\network.py", line 114, in maybe_download
    download_with_progressbar(url, tmp_path)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\utils\network.py", line 41, in download_with_progressbar
    _download(url, save_path)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\utils\network.py", line 99, in _download
    shutil.move(tmp_file, save_path)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\shutil.py", line 846, in move
    os.unlink(src)
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'en_PP-OCRv4_det_infer\\en_PP-OCRv3_det_infer.tar.tmp'
2025-02-21 19:45:49,568 - ERROR - Error processing page 3 of Eng Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\shutil.py", line 825, in move
    os.rename(src, real_dst)
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'en_PP-OCRv4_det_infer\\en_PP-OCRv3_det_infer.tar.tmp' -> 'en_PP-OCRv4_det_infer\\en_PP-OCRv3_det_infer.tar'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 112, in process_single_page
    paddle_ocr = PaddleOCR(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 669, in __init__
    maybe_download(params.det_model_dir, det_url)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\utils\network.py", line 114, in maybe_download
    download_with_progressbar(url, tmp_path)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\utils\network.py", line 41, in download_with_progressbar
    _download(url, save_path)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\utils\network.py", line 99, in _download
    shutil.move(tmp_file, save_path)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\shutil.py", line 846, in move
    os.unlink(src)
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'en_PP-OCRv4_det_infer\\en_PP-OCRv3_det_infer.tar.tmp'
2025-02-21 19:45:49,824 - ERROR - Error processing page 1 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\shutil.py", line 825, in move
    os.rename(src, real_dst)
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'en_PP-OCRv4_det_infer\\en_PP-OCRv3_det_infer.tar.tmp' -> 'en_PP-OCRv4_det_infer\\en_PP-OCRv3_det_infer.tar'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 112, in process_single_page
    paddle_ocr = PaddleOCR(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 669, in __init__
    maybe_download(params.det_model_dir, det_url)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\utils\network.py", line 114, in maybe_download
    download_with_progressbar(url, tmp_path)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\utils\network.py", line 41, in download_with_progressbar
    _download(url, save_path)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\utils\network.py", line 99, in _download
    shutil.move(tmp_file, save_path)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\shutil.py", line 846, in move
    os.unlink(src)
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'en_PP-OCRv4_det_infer\\en_PP-OCRv3_det_infer.tar.tmp'
2025-02-21 19:45:49,849 - ERROR - Error processing page 1 of Eng Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\shutil.py", line 825, in move
    os.rename(src, real_dst)
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'en_PP-OCRv4_det_infer\\en_PP-OCRv3_det_infer.tar.tmp' -> 'en_PP-OCRv4_det_infer\\en_PP-OCRv3_det_infer.tar'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 112, in process_single_page
    paddle_ocr = PaddleOCR(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 669, in __init__
    maybe_download(params.det_model_dir, det_url)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\utils\network.py", line 114, in maybe_download
    download_with_progressbar(url, tmp_path)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\utils\network.py", line 41, in download_with_progressbar
    _download(url, save_path)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\utils\network.py", line 99, in _download
    shutil.move(tmp_file, save_path)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\shutil.py", line 846, in move
    os.unlink(src)
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'en_PP-OCRv4_det_infer\\en_PP-OCRv3_det_infer.tar.tmp'
2025-02-21 19:45:50,029 - ERROR - Error processing page 1 of Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\shutil.py", line 825, in move
    os.rename(src, real_dst)
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'en_PP-OCRv4_det_infer\\en_PP-OCRv3_det_infer.tar.tmp' -> 'en_PP-OCRv4_det_infer\\en_PP-OCRv3_det_infer.tar'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 112, in process_single_page
    paddle_ocr = PaddleOCR(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 669, in __init__
    maybe_download(params.det_model_dir, det_url)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\utils\network.py", line 114, in maybe_download
    download_with_progressbar(url, tmp_path)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\utils\network.py", line 41, in download_with_progressbar
    _download(url, save_path)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\utils\network.py", line 99, in _download
    shutil.move(tmp_file, save_path)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\shutil.py", line 846, in move
    os.unlink(src)
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'en_PP-OCRv4_det_infer\\en_PP-OCRv3_det_infer.tar.tmp'
2025-02-21 19:45:50,061 - ERROR - Error processing page 1 of FR Example 4.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\shutil.py", line 825, in move
    os.rename(src, real_dst)
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'en_PP-OCRv4_det_infer\\en_PP-OCRv3_det_infer.tar.tmp' -> 'en_PP-OCRv4_det_infer\\en_PP-OCRv3_det_infer.tar'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 112, in process_single_page
    paddle_ocr = PaddleOCR(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 669, in __init__
    maybe_download(params.det_model_dir, det_url)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\utils\network.py", line 114, in maybe_download
    download_with_progressbar(url, tmp_path)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\utils\network.py", line 41, in download_with_progressbar
    _download(url, save_path)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\utils\network.py", line 99, in _download
    shutil.move(tmp_file, save_path)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\shutil.py", line 846, in move
    os.unlink(src)
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'en_PP-OCRv4_det_infer\\en_PP-OCRv3_det_infer.tar.tmp'
2025-02-21 19:45:50,105 - ERROR - Error processing page 4 of Eng Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\shutil.py", line 825, in move
    os.rename(src, real_dst)
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'en_PP-OCRv4_det_infer\\en_PP-OCRv3_det_infer.tar.tmp' -> 'en_PP-OCRv4_det_infer\\en_PP-OCRv3_det_infer.tar'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 112, in process_single_page
    paddle_ocr = PaddleOCR(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 669, in __init__
    maybe_download(params.det_model_dir, det_url)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\utils\network.py", line 114, in maybe_download
    download_with_progressbar(url, tmp_path)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\utils\network.py", line 41, in download_with_progressbar
    _download(url, save_path)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\utils\network.py", line 99, in _download
    shutil.move(tmp_file, save_path)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\shutil.py", line 846, in move
    os.unlink(src)
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'en_PP-OCRv4_det_infer\\en_PP-OCRv3_det_infer.tar.tmp'
2025-02-21 19:45:50,299 - ERROR - Error processing page 2 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\shutil.py", line 825, in move
    os.rename(src, real_dst)
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'en_PP-OCRv4_det_infer\\en_PP-OCRv3_det_infer.tar.tmp' -> 'en_PP-OCRv4_det_infer\\en_PP-OCRv3_det_infer.tar'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 112, in process_single_page
    paddle_ocr = PaddleOCR(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 669, in __init__
    maybe_download(params.det_model_dir, det_url)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\utils\network.py", line 114, in maybe_download
    download_with_progressbar(url, tmp_path)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\utils\network.py", line 41, in download_with_progressbar
    _download(url, save_path)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\utils\network.py", line 99, in _download
    shutil.move(tmp_file, save_path)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\shutil.py", line 846, in move
    os.unlink(src)
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'en_PP-OCRv4_det_infer\\en_PP-OCRv3_det_infer.tar.tmp'
2025-02-21 19:46:36,024 - ERROR - Error processing page 1 of Example 8.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 130, in process_single_page
    groq_client = Groq(api_key=os.getenv("GROQ_API_KEY"))
NameError: name 'Groq' is not defined
2025-02-21 19:56:28,949 - ERROR - Error processing page 1 of Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 114, in process_single_page
    result = paddle_ocr.ocr(np.array(image), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 144, in __call__
    rec_res, elapse = self.text_recognizer(img_crop_list)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_rec.py", line 817, in __call__
    rec_res[indices[beg_img_no + rno]] = rec_result[rno]
IndexError: index 58 is out of bounds for axis 0 with size 58
2025-02-21 19:56:45,381 - ERROR - Error processing page 1 of Example 8.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 175, in process_single_page
    'raw_ocr_text': ' '.join(ocr_data['text'])
KeyError: 'text'
2025-02-21 19:56:45,398 - ERROR - Error processing page 1 of FR Example 4.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 175, in process_single_page
    'raw_ocr_text': ' '.join(ocr_data['text'])
KeyError: 'text'
2025-02-21 19:56:45,419 - ERROR - Error processing page 1 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 175, in process_single_page
    'raw_ocr_text': ' '.join(ocr_data['text'])
KeyError: 'text'
2025-02-21 19:56:45,453 - ERROR - Error processing page 2 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 175, in process_single_page
    'raw_ocr_text': ' '.join(ocr_data['text'])
KeyError: 'text'
2025-02-21 19:56:45,585 - ERROR - Error processing page 4 of Eng Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 175, in process_single_page
    'raw_ocr_text': ' '.join(ocr_data['text'])
KeyError: 'text'
2025-02-21 19:56:45,775 - ERROR - Error processing page 2 of Eng Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 175, in process_single_page
    'raw_ocr_text': ' '.join(ocr_data['text'])
KeyError: 'text'
2025-02-21 19:56:45,812 - ERROR - Error processing page 1 of Eng Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 175, in process_single_page
    'raw_ocr_text': ' '.join(ocr_data['text'])
KeyError: 'text'
2025-02-21 19:56:45,832 - ERROR - Error processing page 3 of Eng Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 175, in process_single_page
    'raw_ocr_text': ' '.join(ocr_data['text'])
KeyError: 'text'
2025-02-21 20:07:28,954 - ERROR - Error processing page 1 of Example 8.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_http.py", line 409, in hf_raise_for_status
    response.raise_for_status()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://huggingface.co/naver-clova-ix/donut-base-finetuned-docvqa/resolve/fp16/processor_config.json

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\utils\hub.py", line 342, in cached_file
    resolved_file = hf_hub_download(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 862, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 925, in _hf_hub_download_to_cache_dir
    (url_to_download, etag, commit_hash, expected_size, head_call_error) = _get_metadata_or_catch_error(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 1376, in _get_metadata_or_catch_error
    metadata = get_hf_file_metadata(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 1296, in get_hf_file_metadata
    r = _request_wrapper(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 280, in _request_wrapper
    response = _request_wrapper(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 304, in _request_wrapper
    hf_raise_for_status(response)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_http.py", line 416, in hf_raise_for_status
    raise _format(RevisionNotFoundError, message, response) from e
huggingface_hub.errors.RevisionNotFoundError: 404 Client Error. (Request ID: Root=1-67b93161-725b0c4f00910247484aae2f;90f3fc99-cd62-4e7a-b190-a68a5175bb06)

Revision Not Found for url: https://huggingface.co/naver-clova-ix/donut-base-finetuned-docvqa/resolve/fp16/processor_config.json.
Invalid rev id: fp16

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 115, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 100, in init_donut
    processor = AutoProcessor.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\auto\processing_auto.py", line 260, in from_pretrained
    processor_config_file = get_file_from_repo(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\utils\hub.py", line 496, in get_file_from_repo
    return cached_file(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\utils\hub.py", line 372, in cached_file
    raise EnvironmentError(
OSError: fp16 is not a valid git identifier (branch name, tag name or commit id) that exists for this model name. Check the model page at 'https://huggingface.co/naver-clova-ix/donut-base-finetuned-docvqa' for available revisions.
2025-02-21 20:07:29,507 - ERROR - Error processing page 1 of FR Example 2.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_http.py", line 409, in hf_raise_for_status
    response.raise_for_status()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://huggingface.co/naver-clova-ix/donut-base-finetuned-docvqa/resolve/fp16/processor_config.json

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\utils\hub.py", line 342, in cached_file
    resolved_file = hf_hub_download(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 862, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 925, in _hf_hub_download_to_cache_dir
    (url_to_download, etag, commit_hash, expected_size, head_call_error) = _get_metadata_or_catch_error(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 1376, in _get_metadata_or_catch_error
    metadata = get_hf_file_metadata(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 1296, in get_hf_file_metadata
    r = _request_wrapper(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 280, in _request_wrapper
    response = _request_wrapper(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 304, in _request_wrapper
    hf_raise_for_status(response)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_http.py", line 416, in hf_raise_for_status
    raise _format(RevisionNotFoundError, message, response) from e
huggingface_hub.errors.RevisionNotFoundError: 404 Client Error. (Request ID: Root=1-67b93161-03ffc8bd5a60427332032e0e;514c4d80-f061-4eb3-86bd-9f68f0a6b4ae)

Revision Not Found for url: https://huggingface.co/naver-clova-ix/donut-base-finetuned-docvqa/resolve/fp16/processor_config.json.
Invalid rev id: fp16

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 115, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 100, in init_donut
    processor = AutoProcessor.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\auto\processing_auto.py", line 260, in from_pretrained
    processor_config_file = get_file_from_repo(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\utils\hub.py", line 496, in get_file_from_repo
    return cached_file(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\utils\hub.py", line 372, in cached_file
    raise EnvironmentError(
OSError: fp16 is not a valid git identifier (branch name, tag name or commit id) that exists for this model name. Check the model page at 'https://huggingface.co/naver-clova-ix/donut-base-finetuned-docvqa' for available revisions.
2025-02-21 20:07:30,453 - ERROR - Error processing page 1 of FR Example 3.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_http.py", line 409, in hf_raise_for_status
    response.raise_for_status()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://huggingface.co/naver-clova-ix/donut-base-finetuned-docvqa/resolve/fp16/processor_config.json

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\utils\hub.py", line 342, in cached_file
    resolved_file = hf_hub_download(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 862, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 925, in _hf_hub_download_to_cache_dir
    (url_to_download, etag, commit_hash, expected_size, head_call_error) = _get_metadata_or_catch_error(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 1376, in _get_metadata_or_catch_error
    metadata = get_hf_file_metadata(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 1296, in get_hf_file_metadata
    r = _request_wrapper(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 280, in _request_wrapper
    response = _request_wrapper(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 304, in _request_wrapper
    hf_raise_for_status(response)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_http.py", line 416, in hf_raise_for_status
    raise _format(RevisionNotFoundError, message, response) from e
huggingface_hub.errors.RevisionNotFoundError: 404 Client Error. (Request ID: Root=1-67b93162-4947d19e45e3d1752477e812;5813bacb-3839-4d53-9875-151617418b3c)

Revision Not Found for url: https://huggingface.co/naver-clova-ix/donut-base-finetuned-docvqa/resolve/fp16/processor_config.json.
Invalid rev id: fp16

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 115, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 100, in init_donut
    processor = AutoProcessor.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\auto\processing_auto.py", line 260, in from_pretrained
    processor_config_file = get_file_from_repo(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\utils\hub.py", line 496, in get_file_from_repo
    return cached_file(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\utils\hub.py", line 372, in cached_file
    raise EnvironmentError(
OSError: fp16 is not a valid git identifier (branch name, tag name or commit id) that exists for this model name. Check the model page at 'https://huggingface.co/naver-clova-ix/donut-base-finetuned-docvqa' for available revisions.
2025-02-21 20:07:30,510 - ERROR - Error processing page 2 of FR Example 3.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_http.py", line 409, in hf_raise_for_status
    response.raise_for_status()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://huggingface.co/naver-clova-ix/donut-base-finetuned-docvqa/resolve/fp16/processor_config.json

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\utils\hub.py", line 342, in cached_file
    resolved_file = hf_hub_download(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 862, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 925, in _hf_hub_download_to_cache_dir
    (url_to_download, etag, commit_hash, expected_size, head_call_error) = _get_metadata_or_catch_error(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 1376, in _get_metadata_or_catch_error
    metadata = get_hf_file_metadata(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 1296, in get_hf_file_metadata
    r = _request_wrapper(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 280, in _request_wrapper
    response = _request_wrapper(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 304, in _request_wrapper
    hf_raise_for_status(response)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_http.py", line 416, in hf_raise_for_status
    raise _format(RevisionNotFoundError, message, response) from e
huggingface_hub.errors.RevisionNotFoundError: 404 Client Error. (Request ID: Root=1-67b93162-2b0462373a7db8750dd917cf;2fac94dd-82b8-4a5b-9104-b758fde71eff)

Revision Not Found for url: https://huggingface.co/naver-clova-ix/donut-base-finetuned-docvqa/resolve/fp16/processor_config.json.
Invalid rev id: fp16

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 115, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 100, in init_donut
    processor = AutoProcessor.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\auto\processing_auto.py", line 260, in from_pretrained
    processor_config_file = get_file_from_repo(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\utils\hub.py", line 496, in get_file_from_repo
    return cached_file(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\utils\hub.py", line 372, in cached_file
    raise EnvironmentError(
OSError: fp16 is not a valid git identifier (branch name, tag name or commit id) that exists for this model name. Check the model page at 'https://huggingface.co/naver-clova-ix/donut-base-finetuned-docvqa' for available revisions.
2025-02-21 20:07:30,907 - ERROR - Error processing page 1 of Eng Example 4.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_http.py", line 409, in hf_raise_for_status
    response.raise_for_status()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://huggingface.co/naver-clova-ix/donut-base-finetuned-docvqa/resolve/fp16/processor_config.json

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\utils\hub.py", line 342, in cached_file
    resolved_file = hf_hub_download(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 862, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 925, in _hf_hub_download_to_cache_dir
    (url_to_download, etag, commit_hash, expected_size, head_call_error) = _get_metadata_or_catch_error(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 1376, in _get_metadata_or_catch_error
    metadata = get_hf_file_metadata(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 1296, in get_hf_file_metadata
    r = _request_wrapper(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 280, in _request_wrapper
    response = _request_wrapper(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 304, in _request_wrapper
    hf_raise_for_status(response)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_http.py", line 416, in hf_raise_for_status
    raise _format(RevisionNotFoundError, message, response) from e
huggingface_hub.errors.RevisionNotFoundError: 404 Client Error. (Request ID: Root=1-67b93163-6daff7e55e39cf72735c9b88;c33c2cde-4d00-4fe5-a91f-fb5db7dd2885)

Revision Not Found for url: https://huggingface.co/naver-clova-ix/donut-base-finetuned-docvqa/resolve/fp16/processor_config.json.
Invalid rev id: fp16

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 115, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 100, in init_donut
    processor = AutoProcessor.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\auto\processing_auto.py", line 260, in from_pretrained
    processor_config_file = get_file_from_repo(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\utils\hub.py", line 496, in get_file_from_repo
    return cached_file(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\utils\hub.py", line 372, in cached_file
    raise EnvironmentError(
OSError: fp16 is not a valid git identifier (branch name, tag name or commit id) that exists for this model name. Check the model page at 'https://huggingface.co/naver-clova-ix/donut-base-finetuned-docvqa' for available revisions.
2025-02-21 20:07:32,687 - ERROR - Error processing page 1 of Eng Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_http.py", line 409, in hf_raise_for_status
    response.raise_for_status()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://huggingface.co/naver-clova-ix/donut-base-finetuned-docvqa/resolve/fp16/processor_config.json

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\utils\hub.py", line 342, in cached_file
    resolved_file = hf_hub_download(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 862, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 925, in _hf_hub_download_to_cache_dir
    (url_to_download, etag, commit_hash, expected_size, head_call_error) = _get_metadata_or_catch_error(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 1376, in _get_metadata_or_catch_error
    metadata = get_hf_file_metadata(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 1296, in get_hf_file_metadata
    r = _request_wrapper(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 280, in _request_wrapper
    response = _request_wrapper(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 304, in _request_wrapper
    hf_raise_for_status(response)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_http.py", line 416, in hf_raise_for_status
    raise _format(RevisionNotFoundError, message, response) from e
huggingface_hub.errors.RevisionNotFoundError: 404 Client Error. (Request ID: Root=1-67b93165-4877e4c563776b5834e65f0a;0e5e617e-d357-42f1-bc70-968c077db505)

Revision Not Found for url: https://huggingface.co/naver-clova-ix/donut-base-finetuned-docvqa/resolve/fp16/processor_config.json.
Invalid rev id: fp16

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 115, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 100, in init_donut
    processor = AutoProcessor.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\auto\processing_auto.py", line 260, in from_pretrained
    processor_config_file = get_file_from_repo(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\utils\hub.py", line 496, in get_file_from_repo
    return cached_file(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\utils\hub.py", line 372, in cached_file
    raise EnvironmentError(
OSError: fp16 is not a valid git identifier (branch name, tag name or commit id) that exists for this model name. Check the model page at 'https://huggingface.co/naver-clova-ix/donut-base-finetuned-docvqa' for available revisions.
2025-02-21 20:07:32,727 - ERROR - Error processing page 2 of Eng Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_http.py", line 409, in hf_raise_for_status
    response.raise_for_status()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://huggingface.co/naver-clova-ix/donut-base-finetuned-docvqa/resolve/fp16/processor_config.json

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\utils\hub.py", line 342, in cached_file
    resolved_file = hf_hub_download(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 862, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 925, in _hf_hub_download_to_cache_dir
    (url_to_download, etag, commit_hash, expected_size, head_call_error) = _get_metadata_or_catch_error(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 1376, in _get_metadata_or_catch_error
    metadata = get_hf_file_metadata(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 1296, in get_hf_file_metadata
    r = _request_wrapper(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 280, in _request_wrapper
    response = _request_wrapper(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 304, in _request_wrapper
    hf_raise_for_status(response)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_http.py", line 416, in hf_raise_for_status
    raise _format(RevisionNotFoundError, message, response) from e
huggingface_hub.errors.RevisionNotFoundError: 404 Client Error. (Request ID: Root=1-67b93165-09471f8f388f91674e9e1b33;83236dbc-39cf-4d14-bd17-56bf6a857938)

Revision Not Found for url: https://huggingface.co/naver-clova-ix/donut-base-finetuned-docvqa/resolve/fp16/processor_config.json.
Invalid rev id: fp16

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 115, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 100, in init_donut
    processor = AutoProcessor.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\auto\processing_auto.py", line 260, in from_pretrained
    processor_config_file = get_file_from_repo(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\utils\hub.py", line 496, in get_file_from_repo
    return cached_file(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\utils\hub.py", line 372, in cached_file
    raise EnvironmentError(
OSError: fp16 is not a valid git identifier (branch name, tag name or commit id) that exists for this model name. Check the model page at 'https://huggingface.co/naver-clova-ix/donut-base-finetuned-docvqa' for available revisions.
2025-02-21 20:07:32,787 - ERROR - Error processing page 3 of Eng Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_http.py", line 409, in hf_raise_for_status
    response.raise_for_status()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://huggingface.co/naver-clova-ix/donut-base-finetuned-docvqa/resolve/fp16/processor_config.json

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\utils\hub.py", line 342, in cached_file
    resolved_file = hf_hub_download(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 862, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 925, in _hf_hub_download_to_cache_dir
    (url_to_download, etag, commit_hash, expected_size, head_call_error) = _get_metadata_or_catch_error(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 1376, in _get_metadata_or_catch_error
    metadata = get_hf_file_metadata(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 1296, in get_hf_file_metadata
    r = _request_wrapper(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 280, in _request_wrapper
    response = _request_wrapper(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 304, in _request_wrapper
    hf_raise_for_status(response)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_http.py", line 416, in hf_raise_for_status
    raise _format(RevisionNotFoundError, message, response) from e
huggingface_hub.errors.RevisionNotFoundError: 404 Client Error. (Request ID: Root=1-67b93165-67c0ee1b0b01d6de705eeb9b;7f0572a4-acc7-4350-b7fc-379da52e7dc4)

Revision Not Found for url: https://huggingface.co/naver-clova-ix/donut-base-finetuned-docvqa/resolve/fp16/processor_config.json.
Invalid rev id: fp16

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 115, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 100, in init_donut
    processor = AutoProcessor.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\auto\processing_auto.py", line 260, in from_pretrained
    processor_config_file = get_file_from_repo(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\utils\hub.py", line 496, in get_file_from_repo
    return cached_file(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\utils\hub.py", line 372, in cached_file
    raise EnvironmentError(
OSError: fp16 is not a valid git identifier (branch name, tag name or commit id) that exists for this model name. Check the model page at 'https://huggingface.co/naver-clova-ix/donut-base-finetuned-docvqa' for available revisions.
2025-02-21 20:07:32,874 - ERROR - Error processing page 4 of Eng Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_http.py", line 409, in hf_raise_for_status
    response.raise_for_status()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://huggingface.co/naver-clova-ix/donut-base-finetuned-docvqa/resolve/fp16/processor_config.json

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\utils\hub.py", line 342, in cached_file
    resolved_file = hf_hub_download(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 862, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 925, in _hf_hub_download_to_cache_dir
    (url_to_download, etag, commit_hash, expected_size, head_call_error) = _get_metadata_or_catch_error(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 1376, in _get_metadata_or_catch_error
    metadata = get_hf_file_metadata(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 1296, in get_hf_file_metadata
    r = _request_wrapper(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 280, in _request_wrapper
    response = _request_wrapper(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 304, in _request_wrapper
    hf_raise_for_status(response)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_http.py", line 416, in hf_raise_for_status
    raise _format(RevisionNotFoundError, message, response) from e
huggingface_hub.errors.RevisionNotFoundError: 404 Client Error. (Request ID: Root=1-67b93165-7c240baa499711c1545ba9fa;cce10deb-6a9e-4d59-a1a9-c00556ff398c)

Revision Not Found for url: https://huggingface.co/naver-clova-ix/donut-base-finetuned-docvqa/resolve/fp16/processor_config.json.
Invalid rev id: fp16

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 115, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 100, in init_donut
    processor = AutoProcessor.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\auto\processing_auto.py", line 260, in from_pretrained
    processor_config_file = get_file_from_repo(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\utils\hub.py", line 496, in get_file_from_repo
    return cached_file(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\utils\hub.py", line 372, in cached_file
    raise EnvironmentError(
OSError: fp16 is not a valid git identifier (branch name, tag name or commit id) that exists for this model name. Check the model page at 'https://huggingface.co/naver-clova-ix/donut-base-finetuned-docvqa' for available revisions.
2025-02-21 20:23:33,088 - ERROR - Error processing page 1 of Eng Example 4.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 113, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 104, in init_donut
    model = AutoModel.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\auto\auto_factory.py", line 567, in from_pretrained
    raise ValueError(
ValueError: Unrecognized configuration class <class 'transformers.models.vision_encoder_decoder.configuration_vision_encoder_decoder.VisionEncoderDecoderConfig'> for this kind of AutoModel: AutoModel.
Model type should be one of AlbertConfig, AlignConfig, AltCLIPConfig, AriaConfig, AriaTextConfig, ASTConfig, AutoformerConfig, BambaConfig, BarkConfig, BartConfig, BeitConfig, BertConfig, BertGenerationConfig, BigBirdConfig, BigBirdPegasusConfig, BioGptConfig, BitConfig, BlenderbotConfig, BlenderbotSmallConfig, BlipConfig, Blip2Config, BloomConfig, BridgeTowerConfig, BrosConfig, CamembertConfig, CanineConfig, ChameleonConfig, ChineseCLIPConfig, ChineseCLIPVisionConfig, ClapConfig, CLIPConfig, CLIPTextConfig, CLIPVisionConfig, CLIPSegConfig, ClvpConfig, LlamaConfig, CodeGenConfig, CohereConfig, Cohere2Config, ConditionalDetrConfig, ConvBertConfig, ConvNextConfig, ConvNextV2Config, CpmAntConfig, CTRLConfig, CvtConfig, DabDetrConfig, DacConfig, Data2VecAudioConfig, Data2VecTextConfig, Data2VecVisionConfig, DbrxConfig, DebertaConfig, DebertaV2Config, DecisionTransformerConfig, DeformableDetrConfig, DeiTConfig, DepthProConfig, DetaConfig, DetrConfig, DiffLlamaConfig, DinatConfig, Dinov2Config, Dinov2WithRegistersConfig, DistilBertConfig, DonutSwinConfig, DPRConfig, DPTConfig, EfficientFormerConfig, EfficientNetConfig, ElectraConfig, EncodecConfig, ErnieConfig, ErnieMConfig, EsmConfig, FalconConfig, FalconMambaConfig, FastSpeech2ConformerConfig, FlaubertConfig, FlavaConfig, FNetConfig, FocalNetConfig, FSMTConfig, FunnelConfig, GemmaConfig, Gemma2Config, GitConfig, GlmConfig, GLPNConfig, GotOcr2Config, GPT2Config, GPT2Config, GPTBigCodeConfig, GPTNeoConfig, GPTNeoXConfig, GPTNeoXJapaneseConfig, GPTJConfig, GPTSanJapaneseConfig, GraniteConfig, GraniteMoeConfig, GraniteMoeSharedConfig, GraphormerConfig, GroundingDinoConfig, GroupViTConfig, HeliumConfig, HieraConfig, HubertConfig, IBertConfig, IdeficsConfig, Idefics2Config, Idefics3Config, Idefics3VisionConfig, IJepaConfig, ImageGPTConfig, InformerConfig, JambaConfig, JetMoeConfig, JukeboxConfig, Kosmos2Config, LayoutLMConfig, LayoutLMv2Config, LayoutLMv3Config, LEDConfig, LevitConfig, LiltConfig, LlamaConfig, LongformerConfig, LongT5Config, LukeConfig, LxmertConfig, M2M100Config, MambaConfig, Mamba2Config, MarianConfig, MarkupLMConfig, Mask2FormerConfig, MaskFormerConfig, MaskFormerSwinConfig, MBartConfig, MCTCTConfig, MegaConfig, MegatronBertConfig, MgpstrConfig, MimiConfig, MistralConfig, MixtralConfig, MobileBertConfig, MobileNetV1Config, MobileNetV2Config, MobileViTConfig, MobileViTV2Config, ModernBertConfig, MoonshineConfig, MoshiConfig, MPNetConfig, MptConfig, MraConfig, MT5Config, MusicgenConfig, MusicgenMelodyConfig, MvpConfig, NatConfig, NemotronConfig, NezhaConfig, NllbMoeConfig, NystromformerConfig, OlmoConfig, Olmo2Config, OlmoeConfig, OmDetTurboConfig, OneFormerConfig, OpenLlamaConfig, OpenAIGPTConfig, OPTConfig, Owlv2Config, OwlViTConfig, PatchTSMixerConfig, PatchTSTConfig, PegasusConfig, PegasusXConfig, PerceiverConfig, PersimmonConfig, PhiConfig, Phi3Config, PhimoeConfig, PixtralVisionConfig, PLBartConfig, PoolFormerConfig, ProphetNetConfig, PvtConfig, PvtV2Config, QDQBertConfig, Qwen2Config, Qwen2_5_VLConfig, Qwen2AudioEncoderConfig, Qwen2MoeConfig, Qwen2VLConfig, RecurrentGemmaConfig, ReformerConfig, RegNetConfig, RemBertConfig, ResNetConfig, RetriBertConfig, RobertaConfig, RobertaPreLayerNormConfig, RoCBertConfig, RoFormerConfig, RTDetrConfig, RTDetrV2Config, RwkvConfig, SamConfig, SeamlessM4TConfig, SeamlessM4Tv2Config, SegformerConfig, SegGptConfig, SEWConfig, SEWDConfig, SiglipConfig, SiglipVisionConfig, Speech2TextConfig, SpeechT5Config, SplinterConfig, SqueezeBertConfig, StableLmConfig, Starcoder2Config, SuperGlueConfig, SwiftFormerConfig, SwinConfig, Swin2SRConfig, Swinv2Config, SwitchTransformersConfig, T5Config, TableTransformerConfig, TapasConfig, TextNetConfig, TimeSeriesTransformerConfig, TimesformerConfig, TimmBackboneConfig, TimmWrapperConfig, TrajectoryTransformerConfig, TransfoXLConfig, TvltConfig, TvpConfig, UdopConfig, UMT5Config, UniSpeechConfig, UniSpeechSatConfig, UnivNetConfig, VanConfig, VideoMAEConfig, ViltConfig, VisionTextDualEncoderConfig, VisualBertConfig, ViTConfig, ViTHybridConfig, ViTMAEConfig, ViTMSNConfig, VitDetConfig, VitsConfig, VivitConfig, Wav2Vec2Config, Wav2Vec2BertConfig, Wav2Vec2ConformerConfig, WavLMConfig, WhisperConfig, XCLIPConfig, XGLMConfig, XLMConfig, XLMProphetNetConfig, XLMRobertaConfig, XLMRobertaXLConfig, XLNetConfig, XmodConfig, YolosConfig, YosoConfig, ZambaConfig, Zamba2Config.
2025-02-21 20:23:35,054 - ERROR - Error processing page 1 of Eng Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 113, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 104, in init_donut
    model = AutoModel.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\auto\auto_factory.py", line 567, in from_pretrained
    raise ValueError(
ValueError: Unrecognized configuration class <class 'transformers.models.vision_encoder_decoder.configuration_vision_encoder_decoder.VisionEncoderDecoderConfig'> for this kind of AutoModel: AutoModel.
Model type should be one of AlbertConfig, AlignConfig, AltCLIPConfig, AriaConfig, AriaTextConfig, ASTConfig, AutoformerConfig, BambaConfig, BarkConfig, BartConfig, BeitConfig, BertConfig, BertGenerationConfig, BigBirdConfig, BigBirdPegasusConfig, BioGptConfig, BitConfig, BlenderbotConfig, BlenderbotSmallConfig, BlipConfig, Blip2Config, BloomConfig, BridgeTowerConfig, BrosConfig, CamembertConfig, CanineConfig, ChameleonConfig, ChineseCLIPConfig, ChineseCLIPVisionConfig, ClapConfig, CLIPConfig, CLIPTextConfig, CLIPVisionConfig, CLIPSegConfig, ClvpConfig, LlamaConfig, CodeGenConfig, CohereConfig, Cohere2Config, ConditionalDetrConfig, ConvBertConfig, ConvNextConfig, ConvNextV2Config, CpmAntConfig, CTRLConfig, CvtConfig, DabDetrConfig, DacConfig, Data2VecAudioConfig, Data2VecTextConfig, Data2VecVisionConfig, DbrxConfig, DebertaConfig, DebertaV2Config, DecisionTransformerConfig, DeformableDetrConfig, DeiTConfig, DepthProConfig, DetaConfig, DetrConfig, DiffLlamaConfig, DinatConfig, Dinov2Config, Dinov2WithRegistersConfig, DistilBertConfig, DonutSwinConfig, DPRConfig, DPTConfig, EfficientFormerConfig, EfficientNetConfig, ElectraConfig, EncodecConfig, ErnieConfig, ErnieMConfig, EsmConfig, FalconConfig, FalconMambaConfig, FastSpeech2ConformerConfig, FlaubertConfig, FlavaConfig, FNetConfig, FocalNetConfig, FSMTConfig, FunnelConfig, GemmaConfig, Gemma2Config, GitConfig, GlmConfig, GLPNConfig, GotOcr2Config, GPT2Config, GPT2Config, GPTBigCodeConfig, GPTNeoConfig, GPTNeoXConfig, GPTNeoXJapaneseConfig, GPTJConfig, GPTSanJapaneseConfig, GraniteConfig, GraniteMoeConfig, GraniteMoeSharedConfig, GraphormerConfig, GroundingDinoConfig, GroupViTConfig, HeliumConfig, HieraConfig, HubertConfig, IBertConfig, IdeficsConfig, Idefics2Config, Idefics3Config, Idefics3VisionConfig, IJepaConfig, ImageGPTConfig, InformerConfig, JambaConfig, JetMoeConfig, JukeboxConfig, Kosmos2Config, LayoutLMConfig, LayoutLMv2Config, LayoutLMv3Config, LEDConfig, LevitConfig, LiltConfig, LlamaConfig, LongformerConfig, LongT5Config, LukeConfig, LxmertConfig, M2M100Config, MambaConfig, Mamba2Config, MarianConfig, MarkupLMConfig, Mask2FormerConfig, MaskFormerConfig, MaskFormerSwinConfig, MBartConfig, MCTCTConfig, MegaConfig, MegatronBertConfig, MgpstrConfig, MimiConfig, MistralConfig, MixtralConfig, MobileBertConfig, MobileNetV1Config, MobileNetV2Config, MobileViTConfig, MobileViTV2Config, ModernBertConfig, MoonshineConfig, MoshiConfig, MPNetConfig, MptConfig, MraConfig, MT5Config, MusicgenConfig, MusicgenMelodyConfig, MvpConfig, NatConfig, NemotronConfig, NezhaConfig, NllbMoeConfig, NystromformerConfig, OlmoConfig, Olmo2Config, OlmoeConfig, OmDetTurboConfig, OneFormerConfig, OpenLlamaConfig, OpenAIGPTConfig, OPTConfig, Owlv2Config, OwlViTConfig, PatchTSMixerConfig, PatchTSTConfig, PegasusConfig, PegasusXConfig, PerceiverConfig, PersimmonConfig, PhiConfig, Phi3Config, PhimoeConfig, PixtralVisionConfig, PLBartConfig, PoolFormerConfig, ProphetNetConfig, PvtConfig, PvtV2Config, QDQBertConfig, Qwen2Config, Qwen2_5_VLConfig, Qwen2AudioEncoderConfig, Qwen2MoeConfig, Qwen2VLConfig, RecurrentGemmaConfig, ReformerConfig, RegNetConfig, RemBertConfig, ResNetConfig, RetriBertConfig, RobertaConfig, RobertaPreLayerNormConfig, RoCBertConfig, RoFormerConfig, RTDetrConfig, RTDetrV2Config, RwkvConfig, SamConfig, SeamlessM4TConfig, SeamlessM4Tv2Config, SegformerConfig, SegGptConfig, SEWConfig, SEWDConfig, SiglipConfig, SiglipVisionConfig, Speech2TextConfig, SpeechT5Config, SplinterConfig, SqueezeBertConfig, StableLmConfig, Starcoder2Config, SuperGlueConfig, SwiftFormerConfig, SwinConfig, Swin2SRConfig, Swinv2Config, SwitchTransformersConfig, T5Config, TableTransformerConfig, TapasConfig, TextNetConfig, TimeSeriesTransformerConfig, TimesformerConfig, TimmBackboneConfig, TimmWrapperConfig, TrajectoryTransformerConfig, TransfoXLConfig, TvltConfig, TvpConfig, UdopConfig, UMT5Config, UniSpeechConfig, UniSpeechSatConfig, UnivNetConfig, VanConfig, VideoMAEConfig, ViltConfig, VisionTextDualEncoderConfig, VisualBertConfig, ViTConfig, ViTHybridConfig, ViTMAEConfig, ViTMSNConfig, VitDetConfig, VitsConfig, VivitConfig, Wav2Vec2Config, Wav2Vec2BertConfig, Wav2Vec2ConformerConfig, WavLMConfig, WhisperConfig, XCLIPConfig, XGLMConfig, XLMConfig, XLMProphetNetConfig, XLMRobertaConfig, XLMRobertaXLConfig, XLNetConfig, XmodConfig, YolosConfig, YosoConfig, ZambaConfig, Zamba2Config.
2025-02-21 20:23:37,076 - ERROR - Error processing page 4 of Eng Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 113, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 104, in init_donut
    model = AutoModel.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\auto\auto_factory.py", line 567, in from_pretrained
    raise ValueError(
ValueError: Unrecognized configuration class <class 'transformers.models.vision_encoder_decoder.configuration_vision_encoder_decoder.VisionEncoderDecoderConfig'> for this kind of AutoModel: AutoModel.
Model type should be one of AlbertConfig, AlignConfig, AltCLIPConfig, AriaConfig, AriaTextConfig, ASTConfig, AutoformerConfig, BambaConfig, BarkConfig, BartConfig, BeitConfig, BertConfig, BertGenerationConfig, BigBirdConfig, BigBirdPegasusConfig, BioGptConfig, BitConfig, BlenderbotConfig, BlenderbotSmallConfig, BlipConfig, Blip2Config, BloomConfig, BridgeTowerConfig, BrosConfig, CamembertConfig, CanineConfig, ChameleonConfig, ChineseCLIPConfig, ChineseCLIPVisionConfig, ClapConfig, CLIPConfig, CLIPTextConfig, CLIPVisionConfig, CLIPSegConfig, ClvpConfig, LlamaConfig, CodeGenConfig, CohereConfig, Cohere2Config, ConditionalDetrConfig, ConvBertConfig, ConvNextConfig, ConvNextV2Config, CpmAntConfig, CTRLConfig, CvtConfig, DabDetrConfig, DacConfig, Data2VecAudioConfig, Data2VecTextConfig, Data2VecVisionConfig, DbrxConfig, DebertaConfig, DebertaV2Config, DecisionTransformerConfig, DeformableDetrConfig, DeiTConfig, DepthProConfig, DetaConfig, DetrConfig, DiffLlamaConfig, DinatConfig, Dinov2Config, Dinov2WithRegistersConfig, DistilBertConfig, DonutSwinConfig, DPRConfig, DPTConfig, EfficientFormerConfig, EfficientNetConfig, ElectraConfig, EncodecConfig, ErnieConfig, ErnieMConfig, EsmConfig, FalconConfig, FalconMambaConfig, FastSpeech2ConformerConfig, FlaubertConfig, FlavaConfig, FNetConfig, FocalNetConfig, FSMTConfig, FunnelConfig, GemmaConfig, Gemma2Config, GitConfig, GlmConfig, GLPNConfig, GotOcr2Config, GPT2Config, GPT2Config, GPTBigCodeConfig, GPTNeoConfig, GPTNeoXConfig, GPTNeoXJapaneseConfig, GPTJConfig, GPTSanJapaneseConfig, GraniteConfig, GraniteMoeConfig, GraniteMoeSharedConfig, GraphormerConfig, GroundingDinoConfig, GroupViTConfig, HeliumConfig, HieraConfig, HubertConfig, IBertConfig, IdeficsConfig, Idefics2Config, Idefics3Config, Idefics3VisionConfig, IJepaConfig, ImageGPTConfig, InformerConfig, JambaConfig, JetMoeConfig, JukeboxConfig, Kosmos2Config, LayoutLMConfig, LayoutLMv2Config, LayoutLMv3Config, LEDConfig, LevitConfig, LiltConfig, LlamaConfig, LongformerConfig, LongT5Config, LukeConfig, LxmertConfig, M2M100Config, MambaConfig, Mamba2Config, MarianConfig, MarkupLMConfig, Mask2FormerConfig, MaskFormerConfig, MaskFormerSwinConfig, MBartConfig, MCTCTConfig, MegaConfig, MegatronBertConfig, MgpstrConfig, MimiConfig, MistralConfig, MixtralConfig, MobileBertConfig, MobileNetV1Config, MobileNetV2Config, MobileViTConfig, MobileViTV2Config, ModernBertConfig, MoonshineConfig, MoshiConfig, MPNetConfig, MptConfig, MraConfig, MT5Config, MusicgenConfig, MusicgenMelodyConfig, MvpConfig, NatConfig, NemotronConfig, NezhaConfig, NllbMoeConfig, NystromformerConfig, OlmoConfig, Olmo2Config, OlmoeConfig, OmDetTurboConfig, OneFormerConfig, OpenLlamaConfig, OpenAIGPTConfig, OPTConfig, Owlv2Config, OwlViTConfig, PatchTSMixerConfig, PatchTSTConfig, PegasusConfig, PegasusXConfig, PerceiverConfig, PersimmonConfig, PhiConfig, Phi3Config, PhimoeConfig, PixtralVisionConfig, PLBartConfig, PoolFormerConfig, ProphetNetConfig, PvtConfig, PvtV2Config, QDQBertConfig, Qwen2Config, Qwen2_5_VLConfig, Qwen2AudioEncoderConfig, Qwen2MoeConfig, Qwen2VLConfig, RecurrentGemmaConfig, ReformerConfig, RegNetConfig, RemBertConfig, ResNetConfig, RetriBertConfig, RobertaConfig, RobertaPreLayerNormConfig, RoCBertConfig, RoFormerConfig, RTDetrConfig, RTDetrV2Config, RwkvConfig, SamConfig, SeamlessM4TConfig, SeamlessM4Tv2Config, SegformerConfig, SegGptConfig, SEWConfig, SEWDConfig, SiglipConfig, SiglipVisionConfig, Speech2TextConfig, SpeechT5Config, SplinterConfig, SqueezeBertConfig, StableLmConfig, Starcoder2Config, SuperGlueConfig, SwiftFormerConfig, SwinConfig, Swin2SRConfig, Swinv2Config, SwitchTransformersConfig, T5Config, TableTransformerConfig, TapasConfig, TextNetConfig, TimeSeriesTransformerConfig, TimesformerConfig, TimmBackboneConfig, TimmWrapperConfig, TrajectoryTransformerConfig, TransfoXLConfig, TvltConfig, TvpConfig, UdopConfig, UMT5Config, UniSpeechConfig, UniSpeechSatConfig, UnivNetConfig, VanConfig, VideoMAEConfig, ViltConfig, VisionTextDualEncoderConfig, VisualBertConfig, ViTConfig, ViTHybridConfig, ViTMAEConfig, ViTMSNConfig, VitDetConfig, VitsConfig, VivitConfig, Wav2Vec2Config, Wav2Vec2BertConfig, Wav2Vec2ConformerConfig, WavLMConfig, WhisperConfig, XCLIPConfig, XGLMConfig, XLMConfig, XLMProphetNetConfig, XLMRobertaConfig, XLMRobertaXLConfig, XLNetConfig, XmodConfig, YolosConfig, YosoConfig, ZambaConfig, Zamba2Config.
2025-02-21 20:23:38,964 - ERROR - Error processing page 3 of Eng Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 113, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 104, in init_donut
    model = AutoModel.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\auto\auto_factory.py", line 567, in from_pretrained
    raise ValueError(
ValueError: Unrecognized configuration class <class 'transformers.models.vision_encoder_decoder.configuration_vision_encoder_decoder.VisionEncoderDecoderConfig'> for this kind of AutoModel: AutoModel.
Model type should be one of AlbertConfig, AlignConfig, AltCLIPConfig, AriaConfig, AriaTextConfig, ASTConfig, AutoformerConfig, BambaConfig, BarkConfig, BartConfig, BeitConfig, BertConfig, BertGenerationConfig, BigBirdConfig, BigBirdPegasusConfig, BioGptConfig, BitConfig, BlenderbotConfig, BlenderbotSmallConfig, BlipConfig, Blip2Config, BloomConfig, BridgeTowerConfig, BrosConfig, CamembertConfig, CanineConfig, ChameleonConfig, ChineseCLIPConfig, ChineseCLIPVisionConfig, ClapConfig, CLIPConfig, CLIPTextConfig, CLIPVisionConfig, CLIPSegConfig, ClvpConfig, LlamaConfig, CodeGenConfig, CohereConfig, Cohere2Config, ConditionalDetrConfig, ConvBertConfig, ConvNextConfig, ConvNextV2Config, CpmAntConfig, CTRLConfig, CvtConfig, DabDetrConfig, DacConfig, Data2VecAudioConfig, Data2VecTextConfig, Data2VecVisionConfig, DbrxConfig, DebertaConfig, DebertaV2Config, DecisionTransformerConfig, DeformableDetrConfig, DeiTConfig, DepthProConfig, DetaConfig, DetrConfig, DiffLlamaConfig, DinatConfig, Dinov2Config, Dinov2WithRegistersConfig, DistilBertConfig, DonutSwinConfig, DPRConfig, DPTConfig, EfficientFormerConfig, EfficientNetConfig, ElectraConfig, EncodecConfig, ErnieConfig, ErnieMConfig, EsmConfig, FalconConfig, FalconMambaConfig, FastSpeech2ConformerConfig, FlaubertConfig, FlavaConfig, FNetConfig, FocalNetConfig, FSMTConfig, FunnelConfig, GemmaConfig, Gemma2Config, GitConfig, GlmConfig, GLPNConfig, GotOcr2Config, GPT2Config, GPT2Config, GPTBigCodeConfig, GPTNeoConfig, GPTNeoXConfig, GPTNeoXJapaneseConfig, GPTJConfig, GPTSanJapaneseConfig, GraniteConfig, GraniteMoeConfig, GraniteMoeSharedConfig, GraphormerConfig, GroundingDinoConfig, GroupViTConfig, HeliumConfig, HieraConfig, HubertConfig, IBertConfig, IdeficsConfig, Idefics2Config, Idefics3Config, Idefics3VisionConfig, IJepaConfig, ImageGPTConfig, InformerConfig, JambaConfig, JetMoeConfig, JukeboxConfig, Kosmos2Config, LayoutLMConfig, LayoutLMv2Config, LayoutLMv3Config, LEDConfig, LevitConfig, LiltConfig, LlamaConfig, LongformerConfig, LongT5Config, LukeConfig, LxmertConfig, M2M100Config, MambaConfig, Mamba2Config, MarianConfig, MarkupLMConfig, Mask2FormerConfig, MaskFormerConfig, MaskFormerSwinConfig, MBartConfig, MCTCTConfig, MegaConfig, MegatronBertConfig, MgpstrConfig, MimiConfig, MistralConfig, MixtralConfig, MobileBertConfig, MobileNetV1Config, MobileNetV2Config, MobileViTConfig, MobileViTV2Config, ModernBertConfig, MoonshineConfig, MoshiConfig, MPNetConfig, MptConfig, MraConfig, MT5Config, MusicgenConfig, MusicgenMelodyConfig, MvpConfig, NatConfig, NemotronConfig, NezhaConfig, NllbMoeConfig, NystromformerConfig, OlmoConfig, Olmo2Config, OlmoeConfig, OmDetTurboConfig, OneFormerConfig, OpenLlamaConfig, OpenAIGPTConfig, OPTConfig, Owlv2Config, OwlViTConfig, PatchTSMixerConfig, PatchTSTConfig, PegasusConfig, PegasusXConfig, PerceiverConfig, PersimmonConfig, PhiConfig, Phi3Config, PhimoeConfig, PixtralVisionConfig, PLBartConfig, PoolFormerConfig, ProphetNetConfig, PvtConfig, PvtV2Config, QDQBertConfig, Qwen2Config, Qwen2_5_VLConfig, Qwen2AudioEncoderConfig, Qwen2MoeConfig, Qwen2VLConfig, RecurrentGemmaConfig, ReformerConfig, RegNetConfig, RemBertConfig, ResNetConfig, RetriBertConfig, RobertaConfig, RobertaPreLayerNormConfig, RoCBertConfig, RoFormerConfig, RTDetrConfig, RTDetrV2Config, RwkvConfig, SamConfig, SeamlessM4TConfig, SeamlessM4Tv2Config, SegformerConfig, SegGptConfig, SEWConfig, SEWDConfig, SiglipConfig, SiglipVisionConfig, Speech2TextConfig, SpeechT5Config, SplinterConfig, SqueezeBertConfig, StableLmConfig, Starcoder2Config, SuperGlueConfig, SwiftFormerConfig, SwinConfig, Swin2SRConfig, Swinv2Config, SwitchTransformersConfig, T5Config, TableTransformerConfig, TapasConfig, TextNetConfig, TimeSeriesTransformerConfig, TimesformerConfig, TimmBackboneConfig, TimmWrapperConfig, TrajectoryTransformerConfig, TransfoXLConfig, TvltConfig, TvpConfig, UdopConfig, UMT5Config, UniSpeechConfig, UniSpeechSatConfig, UnivNetConfig, VanConfig, VideoMAEConfig, ViltConfig, VisionTextDualEncoderConfig, VisualBertConfig, ViTConfig, ViTHybridConfig, ViTMAEConfig, ViTMSNConfig, VitDetConfig, VitsConfig, VivitConfig, Wav2Vec2Config, Wav2Vec2BertConfig, Wav2Vec2ConformerConfig, WavLMConfig, WhisperConfig, XCLIPConfig, XGLMConfig, XLMConfig, XLMProphetNetConfig, XLMRobertaConfig, XLMRobertaXLConfig, XLNetConfig, XmodConfig, YolosConfig, YosoConfig, ZambaConfig, Zamba2Config.
2025-02-21 20:23:40,576 - ERROR - Error processing page 2 of Eng Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 113, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 104, in init_donut
    model = AutoModel.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\auto\auto_factory.py", line 567, in from_pretrained
    raise ValueError(
ValueError: Unrecognized configuration class <class 'transformers.models.vision_encoder_decoder.configuration_vision_encoder_decoder.VisionEncoderDecoderConfig'> for this kind of AutoModel: AutoModel.
Model type should be one of AlbertConfig, AlignConfig, AltCLIPConfig, AriaConfig, AriaTextConfig, ASTConfig, AutoformerConfig, BambaConfig, BarkConfig, BartConfig, BeitConfig, BertConfig, BertGenerationConfig, BigBirdConfig, BigBirdPegasusConfig, BioGptConfig, BitConfig, BlenderbotConfig, BlenderbotSmallConfig, BlipConfig, Blip2Config, BloomConfig, BridgeTowerConfig, BrosConfig, CamembertConfig, CanineConfig, ChameleonConfig, ChineseCLIPConfig, ChineseCLIPVisionConfig, ClapConfig, CLIPConfig, CLIPTextConfig, CLIPVisionConfig, CLIPSegConfig, ClvpConfig, LlamaConfig, CodeGenConfig, CohereConfig, Cohere2Config, ConditionalDetrConfig, ConvBertConfig, ConvNextConfig, ConvNextV2Config, CpmAntConfig, CTRLConfig, CvtConfig, DabDetrConfig, DacConfig, Data2VecAudioConfig, Data2VecTextConfig, Data2VecVisionConfig, DbrxConfig, DebertaConfig, DebertaV2Config, DecisionTransformerConfig, DeformableDetrConfig, DeiTConfig, DepthProConfig, DetaConfig, DetrConfig, DiffLlamaConfig, DinatConfig, Dinov2Config, Dinov2WithRegistersConfig, DistilBertConfig, DonutSwinConfig, DPRConfig, DPTConfig, EfficientFormerConfig, EfficientNetConfig, ElectraConfig, EncodecConfig, ErnieConfig, ErnieMConfig, EsmConfig, FalconConfig, FalconMambaConfig, FastSpeech2ConformerConfig, FlaubertConfig, FlavaConfig, FNetConfig, FocalNetConfig, FSMTConfig, FunnelConfig, GemmaConfig, Gemma2Config, GitConfig, GlmConfig, GLPNConfig, GotOcr2Config, GPT2Config, GPT2Config, GPTBigCodeConfig, GPTNeoConfig, GPTNeoXConfig, GPTNeoXJapaneseConfig, GPTJConfig, GPTSanJapaneseConfig, GraniteConfig, GraniteMoeConfig, GraniteMoeSharedConfig, GraphormerConfig, GroundingDinoConfig, GroupViTConfig, HeliumConfig, HieraConfig, HubertConfig, IBertConfig, IdeficsConfig, Idefics2Config, Idefics3Config, Idefics3VisionConfig, IJepaConfig, ImageGPTConfig, InformerConfig, JambaConfig, JetMoeConfig, JukeboxConfig, Kosmos2Config, LayoutLMConfig, LayoutLMv2Config, LayoutLMv3Config, LEDConfig, LevitConfig, LiltConfig, LlamaConfig, LongformerConfig, LongT5Config, LukeConfig, LxmertConfig, M2M100Config, MambaConfig, Mamba2Config, MarianConfig, MarkupLMConfig, Mask2FormerConfig, MaskFormerConfig, MaskFormerSwinConfig, MBartConfig, MCTCTConfig, MegaConfig, MegatronBertConfig, MgpstrConfig, MimiConfig, MistralConfig, MixtralConfig, MobileBertConfig, MobileNetV1Config, MobileNetV2Config, MobileViTConfig, MobileViTV2Config, ModernBertConfig, MoonshineConfig, MoshiConfig, MPNetConfig, MptConfig, MraConfig, MT5Config, MusicgenConfig, MusicgenMelodyConfig, MvpConfig, NatConfig, NemotronConfig, NezhaConfig, NllbMoeConfig, NystromformerConfig, OlmoConfig, Olmo2Config, OlmoeConfig, OmDetTurboConfig, OneFormerConfig, OpenLlamaConfig, OpenAIGPTConfig, OPTConfig, Owlv2Config, OwlViTConfig, PatchTSMixerConfig, PatchTSTConfig, PegasusConfig, PegasusXConfig, PerceiverConfig, PersimmonConfig, PhiConfig, Phi3Config, PhimoeConfig, PixtralVisionConfig, PLBartConfig, PoolFormerConfig, ProphetNetConfig, PvtConfig, PvtV2Config, QDQBertConfig, Qwen2Config, Qwen2_5_VLConfig, Qwen2AudioEncoderConfig, Qwen2MoeConfig, Qwen2VLConfig, RecurrentGemmaConfig, ReformerConfig, RegNetConfig, RemBertConfig, ResNetConfig, RetriBertConfig, RobertaConfig, RobertaPreLayerNormConfig, RoCBertConfig, RoFormerConfig, RTDetrConfig, RTDetrV2Config, RwkvConfig, SamConfig, SeamlessM4TConfig, SeamlessM4Tv2Config, SegformerConfig, SegGptConfig, SEWConfig, SEWDConfig, SiglipConfig, SiglipVisionConfig, Speech2TextConfig, SpeechT5Config, SplinterConfig, SqueezeBertConfig, StableLmConfig, Starcoder2Config, SuperGlueConfig, SwiftFormerConfig, SwinConfig, Swin2SRConfig, Swinv2Config, SwitchTransformersConfig, T5Config, TableTransformerConfig, TapasConfig, TextNetConfig, TimeSeriesTransformerConfig, TimesformerConfig, TimmBackboneConfig, TimmWrapperConfig, TrajectoryTransformerConfig, TransfoXLConfig, TvltConfig, TvpConfig, UdopConfig, UMT5Config, UniSpeechConfig, UniSpeechSatConfig, UnivNetConfig, VanConfig, VideoMAEConfig, ViltConfig, VisionTextDualEncoderConfig, VisualBertConfig, ViTConfig, ViTHybridConfig, ViTMAEConfig, ViTMSNConfig, VitDetConfig, VitsConfig, VivitConfig, Wav2Vec2Config, Wav2Vec2BertConfig, Wav2Vec2ConformerConfig, WavLMConfig, WhisperConfig, XCLIPConfig, XGLMConfig, XLMConfig, XLMProphetNetConfig, XLMRobertaConfig, XLMRobertaXLConfig, XLNetConfig, XmodConfig, YolosConfig, YosoConfig, ZambaConfig, Zamba2Config.
2025-02-21 20:23:42,136 - ERROR - Error processing page 1 of Example 8.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 113, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 104, in init_donut
    model = AutoModel.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\auto\auto_factory.py", line 567, in from_pretrained
    raise ValueError(
ValueError: Unrecognized configuration class <class 'transformers.models.vision_encoder_decoder.configuration_vision_encoder_decoder.VisionEncoderDecoderConfig'> for this kind of AutoModel: AutoModel.
Model type should be one of AlbertConfig, AlignConfig, AltCLIPConfig, AriaConfig, AriaTextConfig, ASTConfig, AutoformerConfig, BambaConfig, BarkConfig, BartConfig, BeitConfig, BertConfig, BertGenerationConfig, BigBirdConfig, BigBirdPegasusConfig, BioGptConfig, BitConfig, BlenderbotConfig, BlenderbotSmallConfig, BlipConfig, Blip2Config, BloomConfig, BridgeTowerConfig, BrosConfig, CamembertConfig, CanineConfig, ChameleonConfig, ChineseCLIPConfig, ChineseCLIPVisionConfig, ClapConfig, CLIPConfig, CLIPTextConfig, CLIPVisionConfig, CLIPSegConfig, ClvpConfig, LlamaConfig, CodeGenConfig, CohereConfig, Cohere2Config, ConditionalDetrConfig, ConvBertConfig, ConvNextConfig, ConvNextV2Config, CpmAntConfig, CTRLConfig, CvtConfig, DabDetrConfig, DacConfig, Data2VecAudioConfig, Data2VecTextConfig, Data2VecVisionConfig, DbrxConfig, DebertaConfig, DebertaV2Config, DecisionTransformerConfig, DeformableDetrConfig, DeiTConfig, DepthProConfig, DetaConfig, DetrConfig, DiffLlamaConfig, DinatConfig, Dinov2Config, Dinov2WithRegistersConfig, DistilBertConfig, DonutSwinConfig, DPRConfig, DPTConfig, EfficientFormerConfig, EfficientNetConfig, ElectraConfig, EncodecConfig, ErnieConfig, ErnieMConfig, EsmConfig, FalconConfig, FalconMambaConfig, FastSpeech2ConformerConfig, FlaubertConfig, FlavaConfig, FNetConfig, FocalNetConfig, FSMTConfig, FunnelConfig, GemmaConfig, Gemma2Config, GitConfig, GlmConfig, GLPNConfig, GotOcr2Config, GPT2Config, GPT2Config, GPTBigCodeConfig, GPTNeoConfig, GPTNeoXConfig, GPTNeoXJapaneseConfig, GPTJConfig, GPTSanJapaneseConfig, GraniteConfig, GraniteMoeConfig, GraniteMoeSharedConfig, GraphormerConfig, GroundingDinoConfig, GroupViTConfig, HeliumConfig, HieraConfig, HubertConfig, IBertConfig, IdeficsConfig, Idefics2Config, Idefics3Config, Idefics3VisionConfig, IJepaConfig, ImageGPTConfig, InformerConfig, JambaConfig, JetMoeConfig, JukeboxConfig, Kosmos2Config, LayoutLMConfig, LayoutLMv2Config, LayoutLMv3Config, LEDConfig, LevitConfig, LiltConfig, LlamaConfig, LongformerConfig, LongT5Config, LukeConfig, LxmertConfig, M2M100Config, MambaConfig, Mamba2Config, MarianConfig, MarkupLMConfig, Mask2FormerConfig, MaskFormerConfig, MaskFormerSwinConfig, MBartConfig, MCTCTConfig, MegaConfig, MegatronBertConfig, MgpstrConfig, MimiConfig, MistralConfig, MixtralConfig, MobileBertConfig, MobileNetV1Config, MobileNetV2Config, MobileViTConfig, MobileViTV2Config, ModernBertConfig, MoonshineConfig, MoshiConfig, MPNetConfig, MptConfig, MraConfig, MT5Config, MusicgenConfig, MusicgenMelodyConfig, MvpConfig, NatConfig, NemotronConfig, NezhaConfig, NllbMoeConfig, NystromformerConfig, OlmoConfig, Olmo2Config, OlmoeConfig, OmDetTurboConfig, OneFormerConfig, OpenLlamaConfig, OpenAIGPTConfig, OPTConfig, Owlv2Config, OwlViTConfig, PatchTSMixerConfig, PatchTSTConfig, PegasusConfig, PegasusXConfig, PerceiverConfig, PersimmonConfig, PhiConfig, Phi3Config, PhimoeConfig, PixtralVisionConfig, PLBartConfig, PoolFormerConfig, ProphetNetConfig, PvtConfig, PvtV2Config, QDQBertConfig, Qwen2Config, Qwen2_5_VLConfig, Qwen2AudioEncoderConfig, Qwen2MoeConfig, Qwen2VLConfig, RecurrentGemmaConfig, ReformerConfig, RegNetConfig, RemBertConfig, ResNetConfig, RetriBertConfig, RobertaConfig, RobertaPreLayerNormConfig, RoCBertConfig, RoFormerConfig, RTDetrConfig, RTDetrV2Config, RwkvConfig, SamConfig, SeamlessM4TConfig, SeamlessM4Tv2Config, SegformerConfig, SegGptConfig, SEWConfig, SEWDConfig, SiglipConfig, SiglipVisionConfig, Speech2TextConfig, SpeechT5Config, SplinterConfig, SqueezeBertConfig, StableLmConfig, Starcoder2Config, SuperGlueConfig, SwiftFormerConfig, SwinConfig, Swin2SRConfig, Swinv2Config, SwitchTransformersConfig, T5Config, TableTransformerConfig, TapasConfig, TextNetConfig, TimeSeriesTransformerConfig, TimesformerConfig, TimmBackboneConfig, TimmWrapperConfig, TrajectoryTransformerConfig, TransfoXLConfig, TvltConfig, TvpConfig, UdopConfig, UMT5Config, UniSpeechConfig, UniSpeechSatConfig, UnivNetConfig, VanConfig, VideoMAEConfig, ViltConfig, VisionTextDualEncoderConfig, VisualBertConfig, ViTConfig, ViTHybridConfig, ViTMAEConfig, ViTMSNConfig, VitDetConfig, VitsConfig, VivitConfig, Wav2Vec2Config, Wav2Vec2BertConfig, Wav2Vec2ConformerConfig, WavLMConfig, WhisperConfig, XCLIPConfig, XGLMConfig, XLMConfig, XLMProphetNetConfig, XLMRobertaConfig, XLMRobertaXLConfig, XLNetConfig, XmodConfig, YolosConfig, YosoConfig, ZambaConfig, Zamba2Config.
2025-02-21 20:23:43,516 - ERROR - Error processing page 1 of FR Example 2.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 113, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 104, in init_donut
    model = AutoModel.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\auto\auto_factory.py", line 567, in from_pretrained
    raise ValueError(
ValueError: Unrecognized configuration class <class 'transformers.models.vision_encoder_decoder.configuration_vision_encoder_decoder.VisionEncoderDecoderConfig'> for this kind of AutoModel: AutoModel.
Model type should be one of AlbertConfig, AlignConfig, AltCLIPConfig, AriaConfig, AriaTextConfig, ASTConfig, AutoformerConfig, BambaConfig, BarkConfig, BartConfig, BeitConfig, BertConfig, BertGenerationConfig, BigBirdConfig, BigBirdPegasusConfig, BioGptConfig, BitConfig, BlenderbotConfig, BlenderbotSmallConfig, BlipConfig, Blip2Config, BloomConfig, BridgeTowerConfig, BrosConfig, CamembertConfig, CanineConfig, ChameleonConfig, ChineseCLIPConfig, ChineseCLIPVisionConfig, ClapConfig, CLIPConfig, CLIPTextConfig, CLIPVisionConfig, CLIPSegConfig, ClvpConfig, LlamaConfig, CodeGenConfig, CohereConfig, Cohere2Config, ConditionalDetrConfig, ConvBertConfig, ConvNextConfig, ConvNextV2Config, CpmAntConfig, CTRLConfig, CvtConfig, DabDetrConfig, DacConfig, Data2VecAudioConfig, Data2VecTextConfig, Data2VecVisionConfig, DbrxConfig, DebertaConfig, DebertaV2Config, DecisionTransformerConfig, DeformableDetrConfig, DeiTConfig, DepthProConfig, DetaConfig, DetrConfig, DiffLlamaConfig, DinatConfig, Dinov2Config, Dinov2WithRegistersConfig, DistilBertConfig, DonutSwinConfig, DPRConfig, DPTConfig, EfficientFormerConfig, EfficientNetConfig, ElectraConfig, EncodecConfig, ErnieConfig, ErnieMConfig, EsmConfig, FalconConfig, FalconMambaConfig, FastSpeech2ConformerConfig, FlaubertConfig, FlavaConfig, FNetConfig, FocalNetConfig, FSMTConfig, FunnelConfig, GemmaConfig, Gemma2Config, GitConfig, GlmConfig, GLPNConfig, GotOcr2Config, GPT2Config, GPT2Config, GPTBigCodeConfig, GPTNeoConfig, GPTNeoXConfig, GPTNeoXJapaneseConfig, GPTJConfig, GPTSanJapaneseConfig, GraniteConfig, GraniteMoeConfig, GraniteMoeSharedConfig, GraphormerConfig, GroundingDinoConfig, GroupViTConfig, HeliumConfig, HieraConfig, HubertConfig, IBertConfig, IdeficsConfig, Idefics2Config, Idefics3Config, Idefics3VisionConfig, IJepaConfig, ImageGPTConfig, InformerConfig, JambaConfig, JetMoeConfig, JukeboxConfig, Kosmos2Config, LayoutLMConfig, LayoutLMv2Config, LayoutLMv3Config, LEDConfig, LevitConfig, LiltConfig, LlamaConfig, LongformerConfig, LongT5Config, LukeConfig, LxmertConfig, M2M100Config, MambaConfig, Mamba2Config, MarianConfig, MarkupLMConfig, Mask2FormerConfig, MaskFormerConfig, MaskFormerSwinConfig, MBartConfig, MCTCTConfig, MegaConfig, MegatronBertConfig, MgpstrConfig, MimiConfig, MistralConfig, MixtralConfig, MobileBertConfig, MobileNetV1Config, MobileNetV2Config, MobileViTConfig, MobileViTV2Config, ModernBertConfig, MoonshineConfig, MoshiConfig, MPNetConfig, MptConfig, MraConfig, MT5Config, MusicgenConfig, MusicgenMelodyConfig, MvpConfig, NatConfig, NemotronConfig, NezhaConfig, NllbMoeConfig, NystromformerConfig, OlmoConfig, Olmo2Config, OlmoeConfig, OmDetTurboConfig, OneFormerConfig, OpenLlamaConfig, OpenAIGPTConfig, OPTConfig, Owlv2Config, OwlViTConfig, PatchTSMixerConfig, PatchTSTConfig, PegasusConfig, PegasusXConfig, PerceiverConfig, PersimmonConfig, PhiConfig, Phi3Config, PhimoeConfig, PixtralVisionConfig, PLBartConfig, PoolFormerConfig, ProphetNetConfig, PvtConfig, PvtV2Config, QDQBertConfig, Qwen2Config, Qwen2_5_VLConfig, Qwen2AudioEncoderConfig, Qwen2MoeConfig, Qwen2VLConfig, RecurrentGemmaConfig, ReformerConfig, RegNetConfig, RemBertConfig, ResNetConfig, RetriBertConfig, RobertaConfig, RobertaPreLayerNormConfig, RoCBertConfig, RoFormerConfig, RTDetrConfig, RTDetrV2Config, RwkvConfig, SamConfig, SeamlessM4TConfig, SeamlessM4Tv2Config, SegformerConfig, SegGptConfig, SEWConfig, SEWDConfig, SiglipConfig, SiglipVisionConfig, Speech2TextConfig, SpeechT5Config, SplinterConfig, SqueezeBertConfig, StableLmConfig, Starcoder2Config, SuperGlueConfig, SwiftFormerConfig, SwinConfig, Swin2SRConfig, Swinv2Config, SwitchTransformersConfig, T5Config, TableTransformerConfig, TapasConfig, TextNetConfig, TimeSeriesTransformerConfig, TimesformerConfig, TimmBackboneConfig, TimmWrapperConfig, TrajectoryTransformerConfig, TransfoXLConfig, TvltConfig, TvpConfig, UdopConfig, UMT5Config, UniSpeechConfig, UniSpeechSatConfig, UnivNetConfig, VanConfig, VideoMAEConfig, ViltConfig, VisionTextDualEncoderConfig, VisualBertConfig, ViTConfig, ViTHybridConfig, ViTMAEConfig, ViTMSNConfig, VitDetConfig, VitsConfig, VivitConfig, Wav2Vec2Config, Wav2Vec2BertConfig, Wav2Vec2ConformerConfig, WavLMConfig, WhisperConfig, XCLIPConfig, XGLMConfig, XLMConfig, XLMProphetNetConfig, XLMRobertaConfig, XLMRobertaXLConfig, XLNetConfig, XmodConfig, YolosConfig, YosoConfig, ZambaConfig, Zamba2Config.
2025-02-21 20:23:44,856 - ERROR - Error processing page 1 of FR Example 3.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 113, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 104, in init_donut
    model = AutoModel.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\auto\auto_factory.py", line 567, in from_pretrained
    raise ValueError(
ValueError: Unrecognized configuration class <class 'transformers.models.vision_encoder_decoder.configuration_vision_encoder_decoder.VisionEncoderDecoderConfig'> for this kind of AutoModel: AutoModel.
Model type should be one of AlbertConfig, AlignConfig, AltCLIPConfig, AriaConfig, AriaTextConfig, ASTConfig, AutoformerConfig, BambaConfig, BarkConfig, BartConfig, BeitConfig, BertConfig, BertGenerationConfig, BigBirdConfig, BigBirdPegasusConfig, BioGptConfig, BitConfig, BlenderbotConfig, BlenderbotSmallConfig, BlipConfig, Blip2Config, BloomConfig, BridgeTowerConfig, BrosConfig, CamembertConfig, CanineConfig, ChameleonConfig, ChineseCLIPConfig, ChineseCLIPVisionConfig, ClapConfig, CLIPConfig, CLIPTextConfig, CLIPVisionConfig, CLIPSegConfig, ClvpConfig, LlamaConfig, CodeGenConfig, CohereConfig, Cohere2Config, ConditionalDetrConfig, ConvBertConfig, ConvNextConfig, ConvNextV2Config, CpmAntConfig, CTRLConfig, CvtConfig, DabDetrConfig, DacConfig, Data2VecAudioConfig, Data2VecTextConfig, Data2VecVisionConfig, DbrxConfig, DebertaConfig, DebertaV2Config, DecisionTransformerConfig, DeformableDetrConfig, DeiTConfig, DepthProConfig, DetaConfig, DetrConfig, DiffLlamaConfig, DinatConfig, Dinov2Config, Dinov2WithRegistersConfig, DistilBertConfig, DonutSwinConfig, DPRConfig, DPTConfig, EfficientFormerConfig, EfficientNetConfig, ElectraConfig, EncodecConfig, ErnieConfig, ErnieMConfig, EsmConfig, FalconConfig, FalconMambaConfig, FastSpeech2ConformerConfig, FlaubertConfig, FlavaConfig, FNetConfig, FocalNetConfig, FSMTConfig, FunnelConfig, GemmaConfig, Gemma2Config, GitConfig, GlmConfig, GLPNConfig, GotOcr2Config, GPT2Config, GPT2Config, GPTBigCodeConfig, GPTNeoConfig, GPTNeoXConfig, GPTNeoXJapaneseConfig, GPTJConfig, GPTSanJapaneseConfig, GraniteConfig, GraniteMoeConfig, GraniteMoeSharedConfig, GraphormerConfig, GroundingDinoConfig, GroupViTConfig, HeliumConfig, HieraConfig, HubertConfig, IBertConfig, IdeficsConfig, Idefics2Config, Idefics3Config, Idefics3VisionConfig, IJepaConfig, ImageGPTConfig, InformerConfig, JambaConfig, JetMoeConfig, JukeboxConfig, Kosmos2Config, LayoutLMConfig, LayoutLMv2Config, LayoutLMv3Config, LEDConfig, LevitConfig, LiltConfig, LlamaConfig, LongformerConfig, LongT5Config, LukeConfig, LxmertConfig, M2M100Config, MambaConfig, Mamba2Config, MarianConfig, MarkupLMConfig, Mask2FormerConfig, MaskFormerConfig, MaskFormerSwinConfig, MBartConfig, MCTCTConfig, MegaConfig, MegatronBertConfig, MgpstrConfig, MimiConfig, MistralConfig, MixtralConfig, MobileBertConfig, MobileNetV1Config, MobileNetV2Config, MobileViTConfig, MobileViTV2Config, ModernBertConfig, MoonshineConfig, MoshiConfig, MPNetConfig, MptConfig, MraConfig, MT5Config, MusicgenConfig, MusicgenMelodyConfig, MvpConfig, NatConfig, NemotronConfig, NezhaConfig, NllbMoeConfig, NystromformerConfig, OlmoConfig, Olmo2Config, OlmoeConfig, OmDetTurboConfig, OneFormerConfig, OpenLlamaConfig, OpenAIGPTConfig, OPTConfig, Owlv2Config, OwlViTConfig, PatchTSMixerConfig, PatchTSTConfig, PegasusConfig, PegasusXConfig, PerceiverConfig, PersimmonConfig, PhiConfig, Phi3Config, PhimoeConfig, PixtralVisionConfig, PLBartConfig, PoolFormerConfig, ProphetNetConfig, PvtConfig, PvtV2Config, QDQBertConfig, Qwen2Config, Qwen2_5_VLConfig, Qwen2AudioEncoderConfig, Qwen2MoeConfig, Qwen2VLConfig, RecurrentGemmaConfig, ReformerConfig, RegNetConfig, RemBertConfig, ResNetConfig, RetriBertConfig, RobertaConfig, RobertaPreLayerNormConfig, RoCBertConfig, RoFormerConfig, RTDetrConfig, RTDetrV2Config, RwkvConfig, SamConfig, SeamlessM4TConfig, SeamlessM4Tv2Config, SegformerConfig, SegGptConfig, SEWConfig, SEWDConfig, SiglipConfig, SiglipVisionConfig, Speech2TextConfig, SpeechT5Config, SplinterConfig, SqueezeBertConfig, StableLmConfig, Starcoder2Config, SuperGlueConfig, SwiftFormerConfig, SwinConfig, Swin2SRConfig, Swinv2Config, SwitchTransformersConfig, T5Config, TableTransformerConfig, TapasConfig, TextNetConfig, TimeSeriesTransformerConfig, TimesformerConfig, TimmBackboneConfig, TimmWrapperConfig, TrajectoryTransformerConfig, TransfoXLConfig, TvltConfig, TvpConfig, UdopConfig, UMT5Config, UniSpeechConfig, UniSpeechSatConfig, UnivNetConfig, VanConfig, VideoMAEConfig, ViltConfig, VisionTextDualEncoderConfig, VisualBertConfig, ViTConfig, ViTHybridConfig, ViTMAEConfig, ViTMSNConfig, VitDetConfig, VitsConfig, VivitConfig, Wav2Vec2Config, Wav2Vec2BertConfig, Wav2Vec2ConformerConfig, WavLMConfig, WhisperConfig, XCLIPConfig, XGLMConfig, XLMConfig, XLMProphetNetConfig, XLMRobertaConfig, XLMRobertaXLConfig, XLNetConfig, XmodConfig, YolosConfig, YosoConfig, ZambaConfig, Zamba2Config.
2025-02-21 20:23:46,331 - ERROR - Error processing page 2 of FR Example 3.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 113, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 104, in init_donut
    model = AutoModel.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\auto\auto_factory.py", line 567, in from_pretrained
    raise ValueError(
ValueError: Unrecognized configuration class <class 'transformers.models.vision_encoder_decoder.configuration_vision_encoder_decoder.VisionEncoderDecoderConfig'> for this kind of AutoModel: AutoModel.
Model type should be one of AlbertConfig, AlignConfig, AltCLIPConfig, AriaConfig, AriaTextConfig, ASTConfig, AutoformerConfig, BambaConfig, BarkConfig, BartConfig, BeitConfig, BertConfig, BertGenerationConfig, BigBirdConfig, BigBirdPegasusConfig, BioGptConfig, BitConfig, BlenderbotConfig, BlenderbotSmallConfig, BlipConfig, Blip2Config, BloomConfig, BridgeTowerConfig, BrosConfig, CamembertConfig, CanineConfig, ChameleonConfig, ChineseCLIPConfig, ChineseCLIPVisionConfig, ClapConfig, CLIPConfig, CLIPTextConfig, CLIPVisionConfig, CLIPSegConfig, ClvpConfig, LlamaConfig, CodeGenConfig, CohereConfig, Cohere2Config, ConditionalDetrConfig, ConvBertConfig, ConvNextConfig, ConvNextV2Config, CpmAntConfig, CTRLConfig, CvtConfig, DabDetrConfig, DacConfig, Data2VecAudioConfig, Data2VecTextConfig, Data2VecVisionConfig, DbrxConfig, DebertaConfig, DebertaV2Config, DecisionTransformerConfig, DeformableDetrConfig, DeiTConfig, DepthProConfig, DetaConfig, DetrConfig, DiffLlamaConfig, DinatConfig, Dinov2Config, Dinov2WithRegistersConfig, DistilBertConfig, DonutSwinConfig, DPRConfig, DPTConfig, EfficientFormerConfig, EfficientNetConfig, ElectraConfig, EncodecConfig, ErnieConfig, ErnieMConfig, EsmConfig, FalconConfig, FalconMambaConfig, FastSpeech2ConformerConfig, FlaubertConfig, FlavaConfig, FNetConfig, FocalNetConfig, FSMTConfig, FunnelConfig, GemmaConfig, Gemma2Config, GitConfig, GlmConfig, GLPNConfig, GotOcr2Config, GPT2Config, GPT2Config, GPTBigCodeConfig, GPTNeoConfig, GPTNeoXConfig, GPTNeoXJapaneseConfig, GPTJConfig, GPTSanJapaneseConfig, GraniteConfig, GraniteMoeConfig, GraniteMoeSharedConfig, GraphormerConfig, GroundingDinoConfig, GroupViTConfig, HeliumConfig, HieraConfig, HubertConfig, IBertConfig, IdeficsConfig, Idefics2Config, Idefics3Config, Idefics3VisionConfig, IJepaConfig, ImageGPTConfig, InformerConfig, JambaConfig, JetMoeConfig, JukeboxConfig, Kosmos2Config, LayoutLMConfig, LayoutLMv2Config, LayoutLMv3Config, LEDConfig, LevitConfig, LiltConfig, LlamaConfig, LongformerConfig, LongT5Config, LukeConfig, LxmertConfig, M2M100Config, MambaConfig, Mamba2Config, MarianConfig, MarkupLMConfig, Mask2FormerConfig, MaskFormerConfig, MaskFormerSwinConfig, MBartConfig, MCTCTConfig, MegaConfig, MegatronBertConfig, MgpstrConfig, MimiConfig, MistralConfig, MixtralConfig, MobileBertConfig, MobileNetV1Config, MobileNetV2Config, MobileViTConfig, MobileViTV2Config, ModernBertConfig, MoonshineConfig, MoshiConfig, MPNetConfig, MptConfig, MraConfig, MT5Config, MusicgenConfig, MusicgenMelodyConfig, MvpConfig, NatConfig, NemotronConfig, NezhaConfig, NllbMoeConfig, NystromformerConfig, OlmoConfig, Olmo2Config, OlmoeConfig, OmDetTurboConfig, OneFormerConfig, OpenLlamaConfig, OpenAIGPTConfig, OPTConfig, Owlv2Config, OwlViTConfig, PatchTSMixerConfig, PatchTSTConfig, PegasusConfig, PegasusXConfig, PerceiverConfig, PersimmonConfig, PhiConfig, Phi3Config, PhimoeConfig, PixtralVisionConfig, PLBartConfig, PoolFormerConfig, ProphetNetConfig, PvtConfig, PvtV2Config, QDQBertConfig, Qwen2Config, Qwen2_5_VLConfig, Qwen2AudioEncoderConfig, Qwen2MoeConfig, Qwen2VLConfig, RecurrentGemmaConfig, ReformerConfig, RegNetConfig, RemBertConfig, ResNetConfig, RetriBertConfig, RobertaConfig, RobertaPreLayerNormConfig, RoCBertConfig, RoFormerConfig, RTDetrConfig, RTDetrV2Config, RwkvConfig, SamConfig, SeamlessM4TConfig, SeamlessM4Tv2Config, SegformerConfig, SegGptConfig, SEWConfig, SEWDConfig, SiglipConfig, SiglipVisionConfig, Speech2TextConfig, SpeechT5Config, SplinterConfig, SqueezeBertConfig, StableLmConfig, Starcoder2Config, SuperGlueConfig, SwiftFormerConfig, SwinConfig, Swin2SRConfig, Swinv2Config, SwitchTransformersConfig, T5Config, TableTransformerConfig, TapasConfig, TextNetConfig, TimeSeriesTransformerConfig, TimesformerConfig, TimmBackboneConfig, TimmWrapperConfig, TrajectoryTransformerConfig, TransfoXLConfig, TvltConfig, TvpConfig, UdopConfig, UMT5Config, UniSpeechConfig, UniSpeechSatConfig, UnivNetConfig, VanConfig, VideoMAEConfig, ViltConfig, VisionTextDualEncoderConfig, VisualBertConfig, ViTConfig, ViTHybridConfig, ViTMAEConfig, ViTMSNConfig, VitDetConfig, VitsConfig, VivitConfig, Wav2Vec2Config, Wav2Vec2BertConfig, Wav2Vec2ConformerConfig, WavLMConfig, WhisperConfig, XCLIPConfig, XGLMConfig, XLMConfig, XLMProphetNetConfig, XLMRobertaConfig, XLMRobertaXLConfig, XLNetConfig, XmodConfig, YolosConfig, YosoConfig, ZambaConfig, Zamba2Config.
2025-02-21 20:31:50,526 - ERROR - Error processing page 1 of Eng Example 4.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 113, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 104, in init_donut
    model = VisionEncoderDecoderModel.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\vision_encoder_decoder\modeling_vision_encoder_decoder.py", line 379, in from_pretrained
    return super().from_pretrained(pretrained_model_name_or_path, *model_args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\modeling_utils.py", line 262, in _wrapper
    return func(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\modeling_utils.py", line 3611, in from_pretrained
    raise ImportError(
ImportError: Using `low_cpu_mem_usage=True` or a `device_map` requires Accelerate: `pip install 'accelerate>=0.26.0'`
2025-02-21 20:31:53,036 - ERROR - Error processing page 1 of Eng Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 113, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 104, in init_donut
    model = VisionEncoderDecoderModel.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\vision_encoder_decoder\modeling_vision_encoder_decoder.py", line 379, in from_pretrained
    return super().from_pretrained(pretrained_model_name_or_path, *model_args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\modeling_utils.py", line 262, in _wrapper
    return func(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\modeling_utils.py", line 3611, in from_pretrained
    raise ImportError(
ImportError: Using `low_cpu_mem_usage=True` or a `device_map` requires Accelerate: `pip install 'accelerate>=0.26.0'`
2025-02-21 20:31:54,516 - ERROR - Error processing page 2 of Eng Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 113, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 104, in init_donut
    model = VisionEncoderDecoderModel.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\vision_encoder_decoder\modeling_vision_encoder_decoder.py", line 379, in from_pretrained
    return super().from_pretrained(pretrained_model_name_or_path, *model_args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\modeling_utils.py", line 262, in _wrapper
    return func(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\modeling_utils.py", line 3611, in from_pretrained
    raise ImportError(
ImportError: Using `low_cpu_mem_usage=True` or a `device_map` requires Accelerate: `pip install 'accelerate>=0.26.0'`
2025-02-21 20:31:55,916 - ERROR - Error processing page 3 of Eng Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 113, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 104, in init_donut
    model = VisionEncoderDecoderModel.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\vision_encoder_decoder\modeling_vision_encoder_decoder.py", line 379, in from_pretrained
    return super().from_pretrained(pretrained_model_name_or_path, *model_args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\modeling_utils.py", line 262, in _wrapper
    return func(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\modeling_utils.py", line 3611, in from_pretrained
    raise ImportError(
ImportError: Using `low_cpu_mem_usage=True` or a `device_map` requires Accelerate: `pip install 'accelerate>=0.26.0'`
2025-02-21 20:31:57,306 - ERROR - Error processing page 4 of Eng Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 113, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 104, in init_donut
    model = VisionEncoderDecoderModel.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\vision_encoder_decoder\modeling_vision_encoder_decoder.py", line 379, in from_pretrained
    return super().from_pretrained(pretrained_model_name_or_path, *model_args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\modeling_utils.py", line 262, in _wrapper
    return func(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\modeling_utils.py", line 3611, in from_pretrained
    raise ImportError(
ImportError: Using `low_cpu_mem_usage=True` or a `device_map` requires Accelerate: `pip install 'accelerate>=0.26.0'`
2025-02-21 20:31:58,661 - ERROR - Error processing page 1 of Example 8.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 113, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 104, in init_donut
    model = VisionEncoderDecoderModel.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\vision_encoder_decoder\modeling_vision_encoder_decoder.py", line 379, in from_pretrained
    return super().from_pretrained(pretrained_model_name_or_path, *model_args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\modeling_utils.py", line 262, in _wrapper
    return func(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\modeling_utils.py", line 3611, in from_pretrained
    raise ImportError(
ImportError: Using `low_cpu_mem_usage=True` or a `device_map` requires Accelerate: `pip install 'accelerate>=0.26.0'`
2025-02-21 20:32:00,262 - ERROR - Error processing page 1 of FR Example 2.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 113, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 104, in init_donut
    model = VisionEncoderDecoderModel.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\vision_encoder_decoder\modeling_vision_encoder_decoder.py", line 379, in from_pretrained
    return super().from_pretrained(pretrained_model_name_or_path, *model_args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\modeling_utils.py", line 262, in _wrapper
    return func(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\modeling_utils.py", line 3611, in from_pretrained
    raise ImportError(
ImportError: Using `low_cpu_mem_usage=True` or a `device_map` requires Accelerate: `pip install 'accelerate>=0.26.0'`
2025-02-21 20:32:01,361 - ERROR - Error processing page 2 of FR Example 3.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 113, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 104, in init_donut
    model = VisionEncoderDecoderModel.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\vision_encoder_decoder\modeling_vision_encoder_decoder.py", line 379, in from_pretrained
    return super().from_pretrained(pretrained_model_name_or_path, *model_args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\modeling_utils.py", line 262, in _wrapper
    return func(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\modeling_utils.py", line 3611, in from_pretrained
    raise ImportError(
ImportError: Using `low_cpu_mem_usage=True` or a `device_map` requires Accelerate: `pip install 'accelerate>=0.26.0'`
2025-02-21 20:32:02,696 - ERROR - Error processing page 1 of FR Example 3.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 113, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 104, in init_donut
    model = VisionEncoderDecoderModel.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\vision_encoder_decoder\modeling_vision_encoder_decoder.py", line 379, in from_pretrained
    return super().from_pretrained(pretrained_model_name_or_path, *model_args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\modeling_utils.py", line 262, in _wrapper
    return func(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\modeling_utils.py", line 3611, in from_pretrained
    raise ImportError(
ImportError: Using `low_cpu_mem_usage=True` or a `device_map` requires Accelerate: `pip install 'accelerate>=0.26.0'`
2025-02-21 20:43:48,285 - WARNING - Donut layout analysis failed: index out of range in self
2025-02-21 20:44:09,832 - ERROR - Error processing page 1 of Eng Example 4.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 137, in process_single_page
    result = paddle_ocr.ocr(np.array(image), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 134, in __call__
    img_crop_list, angle_list, elapse = self.text_classifier(img_crop_list)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_cls.py", line 115, in __call__
    prob_out = self.output_tensors[0].copy_to_cpu()
RuntimeError: (PreconditionNotMet) Tensor holds no memory. Call Tensor::mutable_data firstly.
  [Hint: holder_ should not be null.] (at ..\paddle\phi\core\dense_tensor_impl.cc:44)

2025-02-21 20:44:24,725 - ERROR - Mixtral processing failed: name 'json' is not defined
2025-02-21 20:44:24,725 - ERROR - Error processing page 4 of Eng Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 199, in process_single_page
    'raw_ocr_text': ' '.join(ocr_data['text'])
KeyError: 'text'
2025-02-21 20:44:25,215 - ERROR - Mixtral processing failed: name 'json' is not defined
2025-02-21 20:44:25,215 - ERROR - Error processing page 1 of Example 8.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 199, in process_single_page
    'raw_ocr_text': ' '.join(ocr_data['text'])
KeyError: 'text'
2025-02-21 20:44:26,579 - ERROR - Mixtral processing failed: Error code: 400 - {'error': {'message': "Failed to generate JSON. Please adjust your prompt. See 'failed_generation' for more details.", 'type': 'invalid_request_error', 'code': 'json_validate_failed', 'failed_generation': '{\n  "Document Structure": [\n    {\n      "type": "Header",\n      "data": {\n        "report_type": "Mammogram Report",\n        "facility_name": "CLINIQUE RADIOLOGIQUE AUDET",\n        "report_date": "2023-12-05"\n      }\n    },\n    {\n      "type": "PatientInfo",\n      "data": {\n        "patient_name": "Sophie Letourneau",\n        "id": "18779212243",\n        "date_of_birth": "1942-08-20"\n      }\n    },\n    {\n      "type": "ClinicalHistory",\n      "data": {\n        "history": [\n          {\n            "text": "Bilateral mammogram + 6 month FU Lt breast u/s.."\n          },\n          {\n            "text": "Prior: Breast imaging studies dating back to November 15, 2022."\n          }\n        ]\n      }\n    },\n    {\n      "type": "ImagingFindings",\n      "data": {\n        "findings": [\n          {\n            "text": "No suspicious morphologic findings are noted."\n          },\n          {\n            "text": "No axillary lymphadenopathy."\n          }\n        ]\n      }\n    },\n    {\n      "type": "BiradsAssessment",\n      "data": {\n        "assessment": "BILATERAL MAMMOGRAM WITH TOmOSYNTHESIS:"\n      }\n    },\n    {\n      "type": "Recommendations",\n      "data": {\n        "recommendations": [\n          {\n            "text": "Follow-up in 6 months for left breast ultrasound."\n          }\n        ]\n      }\n    }}'}}
2025-02-21 20:44:26,579 - ERROR - Error processing page 2 of FR Example 3.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 199, in process_single_page
    'raw_ocr_text': ' '.join(ocr_data['text'])
KeyError: 'text'
2025-02-21 20:44:26,581 - ERROR - Mixtral processing failed: name 'json' is not defined
2025-02-21 20:44:26,583 - ERROR - Mixtral processing failed: name 'json' is not defined
2025-02-21 20:44:26,587 - ERROR - Error processing page 1 of Eng Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 199, in process_single_page
    'raw_ocr_text': ' '.join(ocr_data['text'])
KeyError: 'text'
2025-02-21 20:44:26,587 - ERROR - Error processing page 1 of FR Example 3.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 199, in process_single_page
    'raw_ocr_text': ' '.join(ocr_data['text'])
KeyError: 'text'
2025-02-21 20:44:33,821 - ERROR - Error processing page 3 of Eng Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 137, in process_single_page
    result = paddle_ocr.ocr(np.array(image), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 144, in __call__
    rec_res, elapse = self.text_recognizer(img_crop_list)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_rec.py", line 817, in __call__
    rec_res[indices[beg_img_no + rno]] = rec_result[rno]
IndexError: index 70 is out of bounds for axis 0 with size 70
2025-02-21 20:44:48,715 - ERROR - Mixtral processing failed: name 'json' is not defined
2025-02-21 20:44:48,715 - ERROR - Error processing page 2 of Eng Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 199, in process_single_page
    'raw_ocr_text': ' '.join(ocr_data['text'])
KeyError: 'text'
2025-02-21 20:45:04,685 - ERROR - Mixtral processing failed: name 'json' is not defined
2025-02-21 20:45:04,685 - ERROR - Error processing page 1 of FR Example 2.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 199, in process_single_page
    'raw_ocr_text': ' '.join(ocr_data['text'])
KeyError: 'text'
2025-02-21 21:07:43,741 - ERROR - Mixtral processing failed: name 'json' is not defined
2025-02-21 21:07:43,744 - ERROR - Mixtral processing failed: name 'json' is not defined
2025-02-21 21:07:52,114 - ERROR - Mixtral processing failed: name 'json' is not defined
2025-02-21 21:07:55,062 - ERROR - Mixtral processing failed: name 'json' is not defined
2025-02-21 21:08:00,827 - WARNING - Donut layout analysis failed: index out of range in self
2025-02-21 21:08:09,828 - ERROR - Mixtral processing failed: name 'json' is not defined
2025-02-24 07:43:57,391 - WARNING - Donut layout analysis failed: index out of range in self
2025-02-24 07:43:57,393 - WARNING - Donut layout analysis failed: index out of range in self
2025-02-24 07:43:57,394 - WARNING - Donut layout analysis failed: index out of range in self
2025-02-24 07:44:57,831 - ERROR - Error processing page 2 of FR Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 137, in process_single_page
    result = paddle_ocr.ocr(np.array(image), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 134, in __call__
    img_crop_list, angle_list, elapse = self.text_classifier(img_crop_list)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_cls.py", line 115, in __call__
    prob_out = self.output_tensors[0].copy_to_cpu()
RuntimeError: (PreconditionNotMet) Tensor holds no memory. Call Tensor::mutable_data firstly.
  [Hint: holder_ should not be null.] (at ..\paddle\phi\core\dense_tensor_impl.cc:44)

2025-02-24 07:45:00,419 - ERROR - Error processing page 2 of Eng Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 137, in process_single_page
    result = paddle_ocr.ocr(np.array(image), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 134, in __call__
    img_crop_list, angle_list, elapse = self.text_classifier(img_crop_list)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_cls.py", line 115, in __call__
    prob_out = self.output_tensors[0].copy_to_cpu()
RuntimeError: (PreconditionNotMet) Tensor holds no memory. Call Tensor::mutable_data firstly.
  [Hint: holder_ should not be null.] (at ..\paddle\phi\core\dense_tensor_impl.cc:44)

2025-02-24 07:45:03,611 - ERROR - Error processing page 1 of Eng Example 5.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 137, in process_single_page
    result = paddle_ocr.ocr(np.array(image), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 134, in __call__
    img_crop_list, angle_list, elapse = self.text_classifier(img_crop_list)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_cls.py", line 115, in __call__
    prob_out = self.output_tensors[0].copy_to_cpu()
RuntimeError: (PreconditionNotMet) Tensor holds no memory. Call Tensor::mutable_data firstly.
  [Hint: holder_ should not be null.] (at ..\paddle\phi\core\dense_tensor_impl.cc:44)

2025-02-24 07:45:14,051 - ERROR - Error processing page 1 of FR Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 137, in process_single_page
    result = paddle_ocr.ocr(np.array(image), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 134, in __call__
    img_crop_list, angle_list, elapse = self.text_classifier(img_crop_list)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_cls.py", line 115, in __call__
    prob_out = self.output_tensors[0].copy_to_cpu()
RuntimeError: (PreconditionNotMet) Tensor holds no memory. Call Tensor::mutable_data firstly.
  [Hint: holder_ should not be null.] (at ..\paddle\phi\core\dense_tensor_impl.cc:44)

2025-02-24 07:45:22,946 - ERROR - Error processing page 1 of FR Example 2.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 137, in process_single_page
    result = paddle_ocr.ocr(np.array(image), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 134, in __call__
    img_crop_list, angle_list, elapse = self.text_classifier(img_crop_list)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_cls.py", line 115, in __call__
    prob_out = self.output_tensors[0].copy_to_cpu()
RuntimeError: (PreconditionNotMet) Tensor holds no memory. Call Tensor::mutable_data firstly.
  [Hint: holder_ should not be null.] (at ..\paddle\phi\core\dense_tensor_impl.cc:44)

2025-02-24 07:45:35,281 - ERROR - Error processing page 1 of Example 10.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 137, in process_single_page
    result = paddle_ocr.ocr(np.array(image), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 144, in __call__
    rec_res, elapse = self.text_recognizer(img_crop_list)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_rec.py", line 817, in __call__
    rec_res[indices[beg_img_no + rno]] = rec_result[rno]
IndexError: index 59 is out of bounds for axis 0 with size 59
2025-02-24 07:45:43,321 - ERROR - Mixtral processing failed: name 'json' is not defined
2025-02-24 07:45:43,731 - ERROR - Mixtral processing failed: name 'json' is not defined
2025-02-24 07:45:43,854 - ERROR - Mixtral processing failed: name 'json' is not defined
2025-02-24 07:45:44,021 - ERROR - Mixtral processing failed: name 'json' is not defined
2025-02-24 07:45:44,271 - ERROR - Mixtral processing failed: name 'json' is not defined
2025-02-24 07:45:44,344 - ERROR - Mixtral processing failed: name 'json' is not defined
2025-02-24 07:45:44,395 - ERROR - Mixtral processing failed: name 'json' is not defined
2025-02-24 08:38:39,923 - WARNING - Donut layout analysis failed: index out of range in self
2025-02-24 08:38:39,923 - WARNING - Donut layout analysis failed: index out of range in self
2025-02-24 08:38:39,923 - WARNING - Donut layout analysis failed: index out of range in self
2025-02-24 08:38:54,559 - ERROR - Mixtral processing failed: Error code: 429 - {'error': {'message': 'Rate limit reached for model `mixtral-8x7b-32768` in organization `org_01jjr06gvjepht8gfgh9726zm6` service tier `on_demand` on tokens per minute (TPM): Limit 5000, Used 5075, Requested 1058. Please try again in 13.603s. Need more tokens? Upgrade to Dev Tier today at https://console.groq.com/settings/billing', 'type': 'tokens', 'code': 'rate_limit_exceeded'}}
2025-02-24 08:49:06,171 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-24 08:49:15,379 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-24 08:49:19,258 - WARNING - Donut layout analysis failed: index out of range in self
2025-02-24 08:49:26,237 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-24 09:07:25,712 - ERROR - Error processing page 1 of Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 145, in process_single_page
    result = paddle_ocr.ocr(np.array(image), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 134, in __call__
    img_crop_list, angle_list, elapse = self.text_classifier(img_crop_list)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_cls.py", line 115, in __call__
    prob_out = self.output_tensors[0].copy_to_cpu()
RuntimeError: (PreconditionNotMet) Tensor holds no memory. Call Tensor::mutable_data firstly.
  [Hint: holder_ should not be null.] (at ..\paddle\phi\core\dense_tensor_impl.cc:44)

2025-02-24 09:07:33,675 - WARNING - Donut layout analysis failed: index out of range in self
2025-02-24 09:07:39,952 - ERROR - Findings processing failed: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-02-24 09:13:34,372 - ERROR - Findings processing failed: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-02-24 09:15:41,675 - ERROR - Findings processing failed: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-02-24 10:28:48,396 - ERROR - Processing failed: A process in the process pool was terminated abruptly while the future was running or pending.
2025-02-24 10:28:48,402 - ERROR - Processing failed: A process in the process pool was terminated abruptly while the future was running or pending.
2025-02-24 10:28:48,402 - ERROR - Processing failed: A process in the process pool was terminated abruptly while the future was running or pending.
2025-02-24 10:32:09,828 - ERROR - Processing failed: A process in the process pool was terminated abruptly while the future was running or pending.
2025-02-24 10:32:09,828 - ERROR - Processing failed: A process in the process pool was terminated abruptly while the future was running or pending.
2025-02-24 10:32:09,828 - ERROR - Processing failed: A process in the process pool was terminated abruptly while the future was running or pending.
2025-02-24 10:58:43,917 - ERROR - Processing failed: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 12:05:00,362 - ERROR - Processing failed: A process in the process pool was terminated abruptly while the future was running or pending.
2025-02-24 12:05:00,362 - ERROR - Processing failed: A process in the process pool was terminated abruptly while the future was running or pending.
2025-02-24 12:05:00,362 - ERROR - Processing failed: A process in the process pool was terminated abruptly while the future was running or pending.
2025-02-24 12:35:54,783 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 12:35:54,793 - ERROR - Processing failed: module 'ocr_utils' has no attribute 'process_text'
2025-02-24 12:35:55,238 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 12:35:55,258 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 12:35:55,265 - ERROR - Processing failed: module 'ocr_utils' has no attribute 'process_text'
2025-02-24 12:37:39,541 - ERROR - Error processing page 1 of Eng Example 4.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 250, in process_single_page
    result = paddle_ocr.ocr(np.array(image), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 134, in __call__
    img_crop_list, angle_list, elapse = self.text_classifier(img_crop_list)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_cls.py", line 115, in __call__
    prob_out = self.output_tensors[0].copy_to_cpu()
RuntimeError: (PreconditionNotMet) Tensor holds no memory. Call Tensor::mutable_data firstly.
  [Hint: holder_ should not be null.] (at ..\paddle\phi\core\dense_tensor_impl.cc:44)

2025-02-24 12:37:39,839 - ERROR - Error processing page 2 of Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 250, in process_single_page
    result = paddle_ocr.ocr(np.array(image), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 134, in __call__
    img_crop_list, angle_list, elapse = self.text_classifier(img_crop_list)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_cls.py", line 115, in __call__
    prob_out = self.output_tensors[0].copy_to_cpu()
RuntimeError: (PreconditionNotMet) Tensor holds no memory. Call Tensor::mutable_data firstly.
  [Hint: holder_ should not be null.] (at ..\paddle\phi\core\dense_tensor_impl.cc:44)

2025-02-24 12:48:40,097 - ERROR - Processing failed: A process in the process pool was terminated abruptly while the future was running or pending.
2025-02-24 12:48:40,099 - ERROR - Processing failed: A process in the process pool was terminated abruptly while the future was running or pending.
2025-02-24 13:29:52,996 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 13:29:53,000 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 13:29:53,013 - ERROR - Processing failed: module 'ocr_utils' has no attribute 'process_text'
2025-02-24 13:31:19,473 - ERROR - PaddlePaddle initialization failed: too many values to unpack (expected 3)
2025-02-24 13:31:19,477 - ERROR - Error processing page 2 of Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 119, in init_paddle
    ocr.ocr(dummy_tensor.numpy(), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 109, in __call__
    dt_boxes, elapse = self.text_detector(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 396, in __call__
    dt_boxes, elapse = self.predict(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 239, in predict
    data = transform(data, self.preprocess_op)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\__init__.py", line 72, in transform
    data = op(data)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\operators.py", line 228, in __call__
    src_h, src_w, _ = img.shape
ValueError: too many values to unpack (expected 3)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 265, in process_single_page
    paddle_ocr = init_paddle()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 126, in init_paddle
    raise RuntimeError("PaddlePaddle initialization error") from e
RuntimeError: PaddlePaddle initialization error
2025-02-24 13:31:21,761 - ERROR - PaddlePaddle initialization failed: too many values to unpack (expected 3)
2025-02-24 13:31:21,765 - ERROR - Error processing page 1 of Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 119, in init_paddle
    ocr.ocr(dummy_tensor.numpy(), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 109, in __call__
    dt_boxes, elapse = self.text_detector(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 396, in __call__
    dt_boxes, elapse = self.predict(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 239, in predict
    data = transform(data, self.preprocess_op)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\__init__.py", line 72, in transform
    data = op(data)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\operators.py", line 228, in __call__
    src_h, src_w, _ = img.shape
ValueError: too many values to unpack (expected 3)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 265, in process_single_page
    paddle_ocr = init_paddle()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 126, in init_paddle
    raise RuntimeError("PaddlePaddle initialization error") from e
RuntimeError: PaddlePaddle initialization error
2025-02-24 13:50:33,848 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 13:50:33,851 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 13:50:33,864 - ERROR - Processing failed: module 'ocr_utils' has no attribute 'process_text'
2025-02-24 13:51:57,481 - ERROR - PaddlePaddle initialization failed: too many values to unpack (expected 3)
2025-02-24 13:51:57,484 - ERROR - Error processing page 2 of Eng Example 2.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 119, in init_paddle
    ocr.ocr(dummy_tensor.numpy(), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 109, in __call__
    dt_boxes, elapse = self.text_detector(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 396, in __call__
    dt_boxes, elapse = self.predict(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 239, in predict
    data = transform(data, self.preprocess_op)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\__init__.py", line 72, in transform
    data = op(data)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\operators.py", line 228, in __call__
    src_h, src_w, _ = img.shape
ValueError: too many values to unpack (expected 3)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 265, in process_single_page
    paddle_ocr = init_paddle()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 126, in init_paddle
    raise RuntimeError("PaddlePaddle initialization error") from e
RuntimeError: PaddlePaddle initialization error
2025-02-24 13:51:59,694 - ERROR - PaddlePaddle initialization failed: too many values to unpack (expected 3)
2025-02-24 13:51:59,696 - ERROR - Error processing page 1 of Eng Example 2.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 119, in init_paddle
    ocr.ocr(dummy_tensor.numpy(), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 109, in __call__
    dt_boxes, elapse = self.text_detector(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 396, in __call__
    dt_boxes, elapse = self.predict(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 239, in predict
    data = transform(data, self.preprocess_op)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\__init__.py", line 72, in transform
    data = op(data)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\operators.py", line 228, in __call__
    src_h, src_w, _ = img.shape
ValueError: too many values to unpack (expected 3)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 265, in process_single_page
    paddle_ocr = init_paddle()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 126, in init_paddle
    raise RuntimeError("PaddlePaddle initialization error") from e
RuntimeError: PaddlePaddle initialization error
2025-02-24 14:32:50,948 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 14:32:50,958 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 14:32:50,960 - ERROR - Processing failed: module 'ocr_utils' has no attribute 'process_text'
2025-02-24 14:34:10,008 - ERROR - PaddlePaddle initialization failed: too many values to unpack (expected 3)
2025-02-24 14:34:10,008 - ERROR - Error processing page 2 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 119, in init_paddle
    ocr.ocr(dummy_tensor.numpy(), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 109, in __call__
    dt_boxes, elapse = self.text_detector(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 396, in __call__
    dt_boxes, elapse = self.predict(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 239, in predict
    data = transform(data, self.preprocess_op)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\__init__.py", line 72, in transform
    data = op(data)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\operators.py", line 228, in __call__
    src_h, src_w, _ = img.shape
ValueError: too many values to unpack (expected 3)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 265, in process_single_page
    paddle_ocr = init_paddle()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 126, in init_paddle
    raise RuntimeError("PaddlePaddle initialization error") from e
RuntimeError: PaddlePaddle initialization error
2025-02-24 14:34:12,358 - ERROR - PaddlePaddle initialization failed: too many values to unpack (expected 3)
2025-02-24 14:34:12,385 - ERROR - Error processing page 1 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 119, in init_paddle
    ocr.ocr(dummy_tensor.numpy(), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 109, in __call__
    dt_boxes, elapse = self.text_detector(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 396, in __call__
    dt_boxes, elapse = self.predict(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 239, in predict
    data = transform(data, self.preprocess_op)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\__init__.py", line 72, in transform
    data = op(data)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\operators.py", line 228, in __call__
    src_h, src_w, _ = img.shape
ValueError: too many values to unpack (expected 3)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 265, in process_single_page
    paddle_ocr = init_paddle()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 126, in init_paddle
    raise RuntimeError("PaddlePaddle initialization error") from e
RuntimeError: PaddlePaddle initialization error
2025-02-24 15:05:24,287 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 15:05:24,301 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 15:05:24,309 - ERROR - Processing failed: module 'ocr_utils' has no attribute 'process_text'
2025-02-24 15:06:20,121 - ERROR - PaddlePaddle initialization failed: too many values to unpack (expected 3)
2025-02-24 15:06:20,123 - ERROR - Error processing page 1 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 119, in init_paddle
    ocr.ocr(dummy_tensor.numpy(), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 109, in __call__
    dt_boxes, elapse = self.text_detector(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 396, in __call__
    dt_boxes, elapse = self.predict(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 239, in predict
    data = transform(data, self.preprocess_op)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\__init__.py", line 72, in transform
    data = op(data)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\operators.py", line 228, in __call__
    src_h, src_w, _ = img.shape
ValueError: too many values to unpack (expected 3)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 265, in process_single_page
    paddle_ocr = init_paddle()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 126, in init_paddle
    raise RuntimeError("PaddlePaddle initialization error") from e
RuntimeError: PaddlePaddle initialization error
2025-02-24 15:06:21,885 - ERROR - PaddlePaddle initialization failed: too many values to unpack (expected 3)
2025-02-24 15:06:21,889 - ERROR - Error processing page 2 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 119, in init_paddle
    ocr.ocr(dummy_tensor.numpy(), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 109, in __call__
    dt_boxes, elapse = self.text_detector(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 396, in __call__
    dt_boxes, elapse = self.predict(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 239, in predict
    data = transform(data, self.preprocess_op)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\__init__.py", line 72, in transform
    data = op(data)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\operators.py", line 228, in __call__
    src_h, src_w, _ = img.shape
ValueError: too many values to unpack (expected 3)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 265, in process_single_page
    paddle_ocr = init_paddle()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 126, in init_paddle
    raise RuntimeError("PaddlePaddle initialization error") from e
RuntimeError: PaddlePaddle initialization error
2025-02-24 15:17:57,940 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 15:17:57,945 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 15:17:57,951 - ERROR - Processing failed: module 'ocr_utils' has no attribute 'process_text'
2025-02-24 15:19:14,140 - ERROR - PaddlePaddle initialization failed: too many values to unpack (expected 3)
2025-02-24 15:19:14,140 - ERROR - Error processing page 1 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 119, in init_paddle
    ocr.ocr(dummy_tensor.numpy(), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 109, in __call__
    dt_boxes, elapse = self.text_detector(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 396, in __call__
    dt_boxes, elapse = self.predict(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 239, in predict
    data = transform(data, self.preprocess_op)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\__init__.py", line 72, in transform
    data = op(data)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\operators.py", line 228, in __call__
    src_h, src_w, _ = img.shape
ValueError: too many values to unpack (expected 3)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 265, in process_single_page
    paddle_ocr = init_paddle()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 126, in init_paddle
    raise RuntimeError("PaddlePaddle initialization error") from e
RuntimeError: PaddlePaddle initialization error
2025-02-24 15:19:16,172 - ERROR - PaddlePaddle initialization failed: too many values to unpack (expected 3)
2025-02-24 15:19:16,174 - ERROR - Error processing page 2 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 119, in init_paddle
    ocr.ocr(dummy_tensor.numpy(), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 109, in __call__
    dt_boxes, elapse = self.text_detector(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 396, in __call__
    dt_boxes, elapse = self.predict(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 239, in predict
    data = transform(data, self.preprocess_op)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\__init__.py", line 72, in transform
    data = op(data)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\operators.py", line 228, in __call__
    src_h, src_w, _ = img.shape
ValueError: too many values to unpack (expected 3)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 265, in process_single_page
    paddle_ocr = init_paddle()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 126, in init_paddle
    raise RuntimeError("PaddlePaddle initialization error") from e
RuntimeError: PaddlePaddle initialization error
2025-02-24 15:36:27,284 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 15:36:27,294 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 15:36:27,303 - ERROR - Processing failed: module 'ocr_utils' has no attribute 'process_text'
2025-02-24 15:37:41,768 - ERROR - PaddlePaddle initialization failed: too many values to unpack (expected 3)
2025-02-24 15:37:41,771 - ERROR - Error processing page 2 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 119, in init_paddle
    ocr.ocr(dummy_tensor.numpy(), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 109, in __call__
    dt_boxes, elapse = self.text_detector(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 396, in __call__
    dt_boxes, elapse = self.predict(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 239, in predict
    data = transform(data, self.preprocess_op)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\__init__.py", line 72, in transform
    data = op(data)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\operators.py", line 228, in __call__
    src_h, src_w, _ = img.shape
ValueError: too many values to unpack (expected 3)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 265, in process_single_page
    paddle_ocr = init_paddle()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 126, in init_paddle
    raise RuntimeError("PaddlePaddle initialization error") from e
RuntimeError: PaddlePaddle initialization error
2025-02-24 15:37:43,974 - ERROR - PaddlePaddle initialization failed: too many values to unpack (expected 3)
2025-02-24 15:37:43,993 - ERROR - Error processing page 1 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 119, in init_paddle
    ocr.ocr(dummy_tensor.numpy(), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 109, in __call__
    dt_boxes, elapse = self.text_detector(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 396, in __call__
    dt_boxes, elapse = self.predict(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 239, in predict
    data = transform(data, self.preprocess_op)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\__init__.py", line 72, in transform
    data = op(data)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\operators.py", line 228, in __call__
    src_h, src_w, _ = img.shape
ValueError: too many values to unpack (expected 3)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 265, in process_single_page
    paddle_ocr = init_paddle()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 126, in init_paddle
    raise RuntimeError("PaddlePaddle initialization error") from e
RuntimeError: PaddlePaddle initialization error
2025-02-24 15:40:02,471 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 15:40:02,481 - ERROR - Processing failed: module 'ocr_utils' has no attribute 'process_text'
2025-02-24 15:40:36,480 - INFO - PaddlePaddle initialized with Place(cpu)
2025-02-24 15:40:38,548 - ERROR - PaddlePaddle initialization failed: too many values to unpack (expected 3)
2025-02-24 15:40:38,550 - ERROR - Error processing page 1 of Eng Example 3.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 119, in init_paddle
    ocr.ocr(dummy_tensor.numpy(), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 109, in __call__
    dt_boxes, elapse = self.text_detector(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 396, in __call__
    dt_boxes, elapse = self.predict(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 239, in predict
    data = transform(data, self.preprocess_op)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\__init__.py", line 72, in transform
    data = op(data)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\operators.py", line 228, in __call__
    src_h, src_w, _ = img.shape
ValueError: too many values to unpack (expected 3)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 265, in process_single_page
    paddle_ocr = init_paddle()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 126, in init_paddle
    raise RuntimeError("PaddlePaddle initialization error") from e
RuntimeError: PaddlePaddle initialization error
2025-02-24 16:13:21,609 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 16:13:21,618 - ERROR - Processing failed: module 'ocr_utils' has no attribute 'process_text'
2025-02-24 16:14:03,458 - ERROR - PaddlePaddle initialization failed: too many values to unpack (expected 3)
2025-02-24 16:14:03,460 - ERROR - Error processing page 1 of Eng Example 3.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 119, in init_paddle
    ocr.ocr(dummy_tensor.numpy(), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 109, in __call__
    dt_boxes, elapse = self.text_detector(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 396, in __call__
    dt_boxes, elapse = self.predict(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 239, in predict
    data = transform(data, self.preprocess_op)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\__init__.py", line 72, in transform
    data = op(data)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\operators.py", line 228, in __call__
    src_h, src_w, _ = img.shape
ValueError: too many values to unpack (expected 3)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 265, in process_single_page
    paddle_ocr = init_paddle()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 126, in init_paddle
    raise RuntimeError("PaddlePaddle initialization error") from e
RuntimeError: PaddlePaddle initialization error
2025-02-24 16:19:46,363 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 16:19:46,372 - ERROR - Processing failed: module 'ocr_utils' has no attribute 'process_text'
2025-02-24 16:19:51,462 - ERROR - Error processing page 1 of Eng Example 3.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 255, in process_single_page
    processor, donut_model = init_donut()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 175, in init_donut
    model = VisionEncoderDecoderModel.from_pretrained(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\models\vision_encoder_decoder\modeling_vision_encoder_decoder.py", line 379, in from_pretrained
    return super().from_pretrained(pretrained_model_name_or_path, *model_args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\modeling_utils.py", line 262, in _wrapper
    return func(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\modeling_utils.py", line 4228, in from_pretrained
    no_split_modules = model._get_no_split_modules(device_map)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\transformers\modeling_utils.py", line 2064, in _get_no_split_modules
    raise ValueError(
ValueError: VisionEncoderDecoderModel does not support `device_map='auto'`. To implement support, the model class needs to implement the `_no_split_modules` attribute.
2025-02-24 16:23:30,045 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 16:23:30,057 - ERROR - Processing failed: module 'ocr_utils' has no attribute 'process_text'
2025-02-24 16:24:15,985 - ERROR - PaddlePaddle initialization failed: too many values to unpack (expected 3)
2025-02-24 16:24:15,988 - ERROR - Error processing page 1 of Eng Example 3.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 123, in init_paddle
    ocr.ocr(dummy_tensor.numpy(), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 109, in __call__
    dt_boxes, elapse = self.text_detector(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 396, in __call__
    dt_boxes, elapse = self.predict(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 239, in predict
    data = transform(data, self.preprocess_op)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\__init__.py", line 72, in transform
    data = op(data)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\operators.py", line 228, in __call__
    src_h, src_w, _ = img.shape
ValueError: too many values to unpack (expected 3)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 288, in process_single_page
    paddle_ocr = init_paddle()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 130, in init_paddle
    raise RuntimeError("PaddlePaddle initialization error") from e
RuntimeError: PaddlePaddle initialization error
2025-02-24 17:19:22,280 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 17:19:22,296 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 17:19:22,303 - ERROR - Processing failed: module 'ocr_utils' has no attribute 'process_text'
2025-02-24 17:20:44,439 - ERROR - PaddlePaddle initialization failed: too many values to unpack (expected 3)
2025-02-24 17:20:44,441 - ERROR - Error processing page 1 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 123, in init_paddle
    ocr.ocr(dummy_tensor.numpy(), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 109, in __call__
    dt_boxes, elapse = self.text_detector(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 396, in __call__
    dt_boxes, elapse = self.predict(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 239, in predict
    data = transform(data, self.preprocess_op)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\__init__.py", line 72, in transform
    data = op(data)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\operators.py", line 228, in __call__
    src_h, src_w, _ = img.shape
ValueError: too many values to unpack (expected 3)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 288, in process_single_page
    paddle_ocr = init_paddle()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 130, in init_paddle
    raise RuntimeError("PaddlePaddle initialization error") from e
RuntimeError: PaddlePaddle initialization error
2025-02-24 17:20:46,848 - ERROR - PaddlePaddle initialization failed: too many values to unpack (expected 3)
2025-02-24 17:20:46,851 - ERROR - Error processing page 2 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 123, in init_paddle
    ocr.ocr(dummy_tensor.numpy(), cls=True)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\paddleocr.py", line 760, in ocr
    dt_boxes, rec_res, _ = self.__call__(img, cls, slice)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_system.py", line 109, in __call__
    dt_boxes, elapse = self.text_detector(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 396, in __call__
    dt_boxes, elapse = self.predict(img)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\tools\infer\predict_det.py", line 239, in predict
    data = transform(data, self.preprocess_op)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\__init__.py", line 72, in transform
    data = op(data)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\paddleocr\ppocr\data\imaug\operators.py", line 228, in __call__
    src_h, src_w, _ = img.shape
ValueError: too many values to unpack (expected 3)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 288, in process_single_page
    paddle_ocr = init_paddle()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 130, in init_paddle
    raise RuntimeError("PaddlePaddle initialization error") from e
RuntimeError: PaddlePaddle initialization error
2025-02-24 17:29:19,569 - ERROR - PaddleOCR critical failure: [WinError 32] The process cannot access the file because it is being used by another process: 'C:\\Users\\ybada/.paddleocr/whl\\det\\en\\en_PP-OCRv3_det_infer\\en_PP-OCRv3_det_infer.tar.tmp'
2025-02-24 17:29:19,569 - WARNING - PaddleOCR failed: [WinError 32] The process cannot access the file because it is being used by another process: 'C:\\Users\\ybada/.paddleocr/whl\\det\\en\\en_PP-OCRv3_det_infer\\en_PP-OCRv3_det_infer.tar.tmp'
2025-02-24 17:29:19,572 - ERROR - All OCR methods failed: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 17:29:19,572 - ERROR - Page processing error: Hybrid OCR pipeline failed
2025-02-24 17:30:01,249 - ERROR - PaddleOCR critical failure: 
2025-02-24 17:30:01,249 - WARNING - PaddleOCR failed: 
2025-02-24 17:30:01,249 - ERROR - All OCR methods failed: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 17:30:01,249 - ERROR - Page processing error: Hybrid OCR pipeline failed
2025-02-24 17:30:01,259 - ERROR - Processing failed: module 'ocr_utils' has no attribute 'process_text'
2025-02-24 17:30:25,405 - ERROR - OCR failed for page 1: 'FileHandler' object has no attribute 'buffer'
2025-02-24 17:30:35,502 - ERROR - OCR failed for page 2: 'FileHandler' object has no attribute 'buffer'
2025-02-24 17:37:18,614 - ERROR - Page processing error: 'Image' object has no attribute 'shape'
2025-02-24 17:37:18,619 - ERROR - Page processing error: 'Image' object has no attribute 'shape'
2025-02-24 17:37:18,624 - ERROR - Processing failed: module 'ocr_utils' has no attribute 'process_text'
2025-02-24 17:37:21,741 - WARNING - PaddleOCR failed: name 'ocr_utils' is not defined
2025-02-24 17:37:27,321 - ERROR - OCR failed for page 1: 'FileHandler' object has no attribute 'buffer'
2025-02-24 17:37:27,811 - WARNING - PaddleOCR failed: name 'ocr_utils' is not defined
2025-02-24 17:37:31,981 - ERROR - OCR failed for page 2: 'FileHandler' object has no attribute 'buffer'
2025-02-24 17:43:11,409 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 17:43:11,413 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 17:43:11,419 - ERROR - Processing failed: module 'ocr_utils' has no attribute 'process_text'
2025-02-24 17:43:43,497 - ERROR - Error processing page 2 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 264, in process_single_page
    ocr_text = ocr_utils.hybrid_ocr(img_array)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\./src\ocr_utils.py", line 118, in hybrid_ocr
    result = validate_results(texts)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\./src\ocr_utils.py", line 130, in validate_results
    best_text = max(texts.values(), key=lambda t: medical_term_score(t))
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\./src\ocr_utils.py", line 130, in <lambda>
    best_text = max(texts.values(), key=lambda t: medical_term_score(t))
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\./src\ocr_utils.py", line 140, in medical_term_score
    return sum(
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\./src\ocr_utils.py", line 142, in <genexpr>
    if re.search(rf"\b{term}\b", text, re.IGNORECASE)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 201, in search
    return _compile(pattern, flags).search(string)
TypeError: expected string or bytes-like object
2025-02-24 17:43:46,773 - ERROR - Error processing page 1 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 264, in process_single_page
    ocr_text = ocr_utils.hybrid_ocr(img_array)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\./src\ocr_utils.py", line 118, in hybrid_ocr
    result = validate_results(texts)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\./src\ocr_utils.py", line 130, in validate_results
    best_text = max(texts.values(), key=lambda t: medical_term_score(t))
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\./src\ocr_utils.py", line 130, in <lambda>
    best_text = max(texts.values(), key=lambda t: medical_term_score(t))
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\./src\ocr_utils.py", line 140, in medical_term_score
    return sum(
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\./src\ocr_utils.py", line 142, in <genexpr>
    if re.search(rf"\b{term}\b", text, re.IGNORECASE)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\re.py", line 201, in search
    return _compile(pattern, flags).search(string)
TypeError: expected string or bytes-like object
2025-02-24 17:48:11,539 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 17:48:11,559 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 17:48:11,567 - ERROR - Processing failed: module 'ocr_utils' has no attribute 'process_text'
2025-02-24 17:48:41,338 - WARNING - Low medical content on page 2
2025-02-24 17:48:44,041 - WARNING - Low medical content on page 1
2025-02-24 17:50:44,414 - ERROR - PaddlePaddle initialization failed: 404 Client Error. (Request ID: Root=1-67bd05d5-4bbd7f304cfb2c9743169d5b;18a879b0-6ff6-47a8-8b49-e2b4ea31da56)

Repository Not Found for url: https://huggingface.co/PaddlePaddle/PaddleOCR/resolve/main/en_PP-OCRv4_det_infer.
Please make sure you specified the correct `repo_id` and `repo_type`.
If you are trying to access a private or gated repo, make sure you are authenticated.
2025-02-24 17:50:44,419 - ERROR - Error processing page 1 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_http.py", line 409, in hf_raise_for_status
    response.raise_for_status()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://huggingface.co/PaddlePaddle/PaddleOCR/resolve/main/en_PP-OCRv4_det_infer

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 113, in init_paddle
    det_model_dir=hf_hub_download('PaddlePaddle/PaddleOCR', 'en_PP-OCRv4_det_infer'),
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 862, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 969, in _hf_hub_download_to_cache_dir
    _raise_on_head_call_error(head_call_error, force_download, local_files_only)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 1486, in _raise_on_head_call_error
    raise head_call_error
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 1376, in _get_metadata_or_catch_error
    metadata = get_hf_file_metadata(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 1296, in get_hf_file_metadata
    r = _request_wrapper(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 280, in _request_wrapper
    response = _request_wrapper(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 304, in _request_wrapper
    hf_raise_for_status(response)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_http.py", line 458, in hf_raise_for_status
    raise _format(RepositoryNotFoundError, message, response) from e
huggingface_hub.errors.RepositoryNotFoundError: 404 Client Error. (Request ID: Root=1-67bd05d5-4bbd7f304cfb2c9743169d5b;18a879b0-6ff6-47a8-8b49-e2b4ea31da56)

Repository Not Found for url: https://huggingface.co/PaddlePaddle/PaddleOCR/resolve/main/en_PP-OCRv4_det_infer.
Please make sure you specified the correct `repo_id` and `repo_type`.
If you are trying to access a private or gated repo, make sure you are authenticated.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 308, in process_single_page
    paddle_ocr = init_paddle()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 135, in init_paddle
    raise RuntimeError("PaddlePaddle initialization error") from e
RuntimeError: PaddlePaddle initialization error
2025-02-24 17:50:48,304 - ERROR - PaddlePaddle initialization failed: 404 Client Error. (Request ID: Root=1-67bd05d9-44abf908597a3eff0bb16d97;c233cbad-47e8-4639-9be6-60a359a075d8)

Repository Not Found for url: https://huggingface.co/PaddlePaddle/PaddleOCR/resolve/main/en_PP-OCRv4_det_infer.
Please make sure you specified the correct `repo_id` and `repo_type`.
If you are trying to access a private or gated repo, make sure you are authenticated.
2025-02-24 17:50:48,307 - ERROR - Error processing page 2 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_http.py", line 409, in hf_raise_for_status
    response.raise_for_status()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://huggingface.co/PaddlePaddle/PaddleOCR/resolve/main/en_PP-OCRv4_det_infer

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 113, in init_paddle
    det_model_dir=hf_hub_download('PaddlePaddle/PaddleOCR', 'en_PP-OCRv4_det_infer'),
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 862, in hf_hub_download
    return _hf_hub_download_to_cache_dir(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 969, in _hf_hub_download_to_cache_dir
    _raise_on_head_call_error(head_call_error, force_download, local_files_only)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 1486, in _raise_on_head_call_error
    raise head_call_error
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 1376, in _get_metadata_or_catch_error
    metadata = get_hf_file_metadata(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_validators.py", line 114, in _inner_fn
    return fn(*args, **kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 1296, in get_hf_file_metadata
    r = _request_wrapper(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 280, in _request_wrapper
    response = _request_wrapper(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\file_download.py", line 304, in _request_wrapper
    hf_raise_for_status(response)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\huggingface_hub\utils\_http.py", line 458, in hf_raise_for_status
    raise _format(RepositoryNotFoundError, message, response) from e
huggingface_hub.errors.RepositoryNotFoundError: 404 Client Error. (Request ID: Root=1-67bd05d9-44abf908597a3eff0bb16d97;c233cbad-47e8-4639-9be6-60a359a075d8)

Repository Not Found for url: https://huggingface.co/PaddlePaddle/PaddleOCR/resolve/main/en_PP-OCRv4_det_infer.
Please make sure you specified the correct `repo_id` and `repo_type`.
If you are trying to access a private or gated repo, make sure you are authenticated.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 308, in process_single_page
    paddle_ocr = init_paddle()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 135, in init_paddle
    raise RuntimeError("PaddlePaddle initialization error") from e
RuntimeError: PaddlePaddle initialization error
2025-02-24 17:57:26,010 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 17:57:26,017 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 17:57:26,023 - ERROR - Processing failed: module 'ocr_utils' has no attribute 'process_text'
2025-02-24 17:57:30,428 - CRITICAL - PaddleOCR initialization failed: 404 Client Error. (Request ID: Root=1-67bd076b-0a471e3d4b2766f421c5e0fa;2c650ca6-3556-4ac9-b513-df8111845c20)

Repository Not Found for url: https://huggingface.co/PaddlePaddle/PaddleOCR/resolve/main/en_PP-OCRv4_det_infer.
Please make sure you specified the correct `repo_id` and `repo_type`.
If you are trying to access a private or gated repo, make sure you are authenticated.
2025-02-24 17:57:30,430 - ERROR - Error processing page 1 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 297, in process_single_page
    raise OCRError("PaddleOCR initialization failed")
OCRError: PaddleOCR initialization failed
2025-02-24 17:57:30,432 - ERROR - Error processing page 2 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 297, in process_single_page
    raise OCRError("PaddleOCR initialization failed")
OCRError: PaddleOCR initialization failed
2025-02-24 18:02:02,817 - ERROR - Page processing error: 'Image' object has no attribute 'shape'
2025-02-24 18:02:02,827 - ERROR - Page processing error: 'Image' object has no attribute 'shape'
2025-02-24 18:02:02,831 - ERROR - Processing failed: module 'ocr_utils' has no attribute 'process_text'
2025-02-24 18:02:06,412 - CRITICAL - PaddleOCR init failed: module 'paddle.device' has no attribute 'cpu'
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 112, in init_paddle
    paddle.device.cpu.empty_cache()
AttributeError: module 'paddle.device' has no attribute 'cpu'
2025-02-24 18:02:06,414 - CRITICAL - PaddleOCR init failed: module 'paddle.device' has no attribute 'cpu'
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 112, in init_paddle
    paddle.device.cpu.empty_cache()
AttributeError: module 'paddle.device' has no attribute 'cpu'
2025-02-24 18:02:06,414 - ERROR - Error processing page 2 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 112, in init_paddle
    paddle.device.cpu.empty_cache()
AttributeError: module 'paddle.device' has no attribute 'cpu'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 305, in process_single_page
    paddle_ocr = init_paddle()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 164, in init_paddle
    st.error(f"OCR Engine failed: {str(e)} - Check model files in {model_dir}")
UnboundLocalError: local variable 'model_dir' referenced before assignment
2025-02-24 18:02:06,414 - ERROR - Error processing page 1 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 112, in init_paddle
    paddle.device.cpu.empty_cache()
AttributeError: module 'paddle.device' has no attribute 'cpu'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 305, in process_single_page
    paddle_ocr = init_paddle()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 217, in __call__
    return self._get_or_create_cached_value(args, kwargs, spinner_message)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 259, in _get_or_create_cached_value
    return self._handle_cache_miss(cache, value_key, func_args, func_kwargs)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\streamlit\runtime\caching\cache_utils.py", line 317, in _handle_cache_miss
    computed_value = self._info.func(*func_args, **func_kwargs)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 164, in init_paddle
    st.error(f"OCR Engine failed: {str(e)} - Check model files in {model_dir}")
UnboundLocalError: local variable 'model_dir' referenced before assignment
2025-02-24 18:06:51,117 - ERROR - Page processing error: 'Image' object has no attribute 'shape'
2025-02-24 18:06:51,134 - ERROR - Page processing error: 'Image' object has no attribute 'shape'
2025-02-24 18:06:51,139 - ERROR - Processing failed: module 'ocr_utils' has no attribute 'process_text'
2025-02-24 18:06:54,792 - CRITICAL - PaddleOCR init failed: module 'paddle.device' has no attribute 'cpu'
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 116, in init_paddle
    paddle.device.cpu.empty_cache()
AttributeError: module 'paddle.device' has no attribute 'cpu'
2025-02-24 18:06:54,794 - ERROR - Error processing page 1 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 307, in process_single_page
    raise OCRError("PaddleOCR initialization failed")
OCRError: PaddleOCR initialization failed
2025-02-24 18:06:54,796 - ERROR - Error processing page 2 of Eng Example 1.pdf
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 307, in process_single_page
    raise OCRError("PaddleOCR initialization failed")
OCRError: PaddleOCR initialization failed
2025-02-24 18:12:53,446 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'cvtColor'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 18:12:53,451 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'cvtColor'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 18:12:53,464 - ERROR - Processing failed: module 'ocr_utils' has no attribute 'process_text'
2025-02-24 18:15:41,361 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'cvtColor'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 18:15:41,373 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'cvtColor'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 18:15:41,384 - ERROR - Processing failed: module 'ocr_utils' has no attribute 'process_text'
2025-02-24 18:19:39,392 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 18:19:39,403 - ERROR - Page processing error: OpenCV(4.11.0) :-1: error: (-5:Bad argument) in function 'convertScaleAbs'
> Overload resolution failed:
>  - src is not a numpy array, neither a scalar
>  - Expected Ptr<cv::UMat> for argument 'src'

2025-02-24 18:19:39,409 - ERROR - Processing failed: module 'ocr_utils' has no attribute 'process_text'
2025-02-24 20:01:02,105 - INFO - LLM Prompt:
Extract structured medical information from this mammogram report text.
Return JSON with these fields:
- patient_name
- exam_date (YYYY-MM-DD format)
- document_date (YYYY-MM-DD format)
- document_type (e.g., Mammogram, Ultrasound)
- birads_score (0-6)
- impression_result
- mammogram_results
- ultrasound_results
- patient_history
- recommendation
- electronically_signed_by
- testing_provider
- confidence (0-100)

Report text:
PROTECTED B CFHS/SSFC Patient: Scan-Mammo DIAGNOSTIC Document Date: 2023-05-05 05/11/2023 12:07PM 5063677051 HIGGS PAGE 03/04 May 05 2023, MAMMO - Diagnostic oF | HEALTH L and Upper. River Valley Area Medisarar anit 4: Requesting: DOB: Family. DOCTOR F Location: D.RAD Acct Humber: 66. Broad st   DATE. 306264069 RAD/MAMMOGRAM BILAT, 05/05/23 Biggs screening Silateral implantes. Reference study: imaging the the 10, 2022. ~ Findings: . breasts were imaged with standard and pushed back viewa. The parenchyma danse, category C. No of architectural clusters of suspicious or abnormal, are identified. impression: Stable mammogram. nagative for malignancy. Cynthia Theriault, FRCPC eee THIS IS AN. REPORT 05/05/2023 4:43 PM: Theriault, MD, Date Dictated: pm, Date Transcribed: 05-May-2033 4:43: pm   PAGE 1 Higga May contain confidential info Page 1 of 2 RID cot 15 lime May. 11, 2023 1:09PM No. 8783 ; . . Page: 22 Printed on: 2024- 08 01 14:17 PROTEGE B g Printed by: Natalie Paille

PROTECTED B Patient: Scan-Mammo DIAGNOSTIC Document Date: 2023-05-05 06/11/2023 12:07PM 5063577051 HIGGS May 05 2023, MAMMO - Diagnostic DEPARTMENT .OF and. Upper River Valley Ares Hane: Medicare: Unit Requesting: DOB: wo SEX: F D.RAD. 306264069 RAD/MAMMOGRAM -DIAGNOSTIC BILAT Higgs Riggs, Jillian, ND, Reported By; Cynthia Theriault, MD, FR PAGE 2   | Received Time May. 11. 1:09PM No, 8783 END OF DOCUMENT Printed on: 2024-08-01 14:17 PROTEGE B Printed by: Natalie Paille   ** REPORT SIGNED IN OTHER VENDOR. at PAGE 04/04 Page 2 of 2 May 11 2023 59 May contaln confidential info CFHS/SSFC Page: 23
2025-02-24 20:01:11,790 - INFO - HTTP Request: POST https://api.groq.com/openai/v1/chat/completions "HTTP/1.1 200 OK"
2025-02-24 20:01:11,810 - INFO - Raw API Response:
{
  "patient_name": "Scan-Mammo",
  "exam_date": "2023-05-05",
  "document_date": "2023-05-05",
  "document_type": "Mammogram",
  "birads_score": 0,
  "impression_result": "Stable mammogram. Negative for malignancy.",
  "mammogram_results": {
    "left_breast": "The parenchyma is dense, category C. No architectural clusters of suspicious or abnormal are identified.",
    "right_breast": "The parenchyma is dense, category C. No architectural clusters of suspicious or abnormal are identified."
  },
  "ultrasound_results": {},
  "patient_history": null,
  "recommendation": null,
  "electronically_signed_by": "Cynthia Theriault, MD, FRCPC",
  "testing_provider": "HIGGS",
  "confidence": 100
}
2025-02-24 20:01:11,811 - ERROR - PDF processing error: name 'save_to_db' is not defined
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 78, in process_pdf
    save_to_db({
NameError: name 'save_to_db' is not defined
2025-02-24 20:11:00,943 - ERROR - PDF processing error: name 'save_to_db' is not defined
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 95, in process_pdf
    save_to_db({
NameError: name 'save_to_db' is not defined
2025-02-24 20:29:12,042 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('0a7c42ea769013e0424931c95b81c7caec3e9862fad9a3f8ed6ae64fd831c1d5', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-24 20:29:15,915 - INFO - Tesseract version: 5.5.0.20241111
2025-02-24 20:29:24,826 - INFO - Extracted text from page 1 using OCR fallback
2025-02-24 20:29:26,694 - INFO - Tesseract version: 5.5.0.20241111
2025-02-24 20:29:34,827 - INFO - Extracted text from page 2 using OCR fallback
2025-02-24 20:29:34,984 - INFO - Combined text length: 1585 characters
2025-02-24 20:29:34,985 - INFO - Text sample: PROTECTED B CFHS/SSFC Patient: Scan-Mammo DIAGNOSTIC Document Date: 2023-05-05 05/11/2023 12:07PM 5063677051 HIGGS PAGE 03/04 May 05 2023, MAMMO - Diagnostic oF | HEALTH L and Upper. River Valley Area...
2025-02-24 20:29:35,686 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-24 20:29:35,738 - INFO - Updated birads_score from fallback: BIRADS 1-2
2025-02-24 20:29:35,747 - INFO - Extraction results: {"birads_score": "BIRADS 1-2", "document_date": "2023-05-11", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "2023-05-05", "impression_result": "Stable mammogram. nagative for malignancy. Cynthia Theriault, FRCPC eee THIS IS AN. REPORT 05/05/2023 4:43 PM: Theriault, MD, Date Dictated: pm, Date Transcribed: 05-May-2033 4:43: pm   PAGE 1 Higga May contain confidential info Page 1 of 2 RID cot 15 lime May. 11, 2023 1:09PM No. 8783 ; . . Page: 22 Printed on: 2024- 08 01 14:17 PROTEGE B g Printed by: Natalie Paille", "mammogram_results": "breasts were imaged with standard and pushed back viewa. The parenchyma danse, category C. No of architectural clusters of suspicious or abnormal, are identified. impression: Stable mammogram. nagative for malignancy. Cynthia Theriault, FRCPC eee THIS IS AN. REPORT 05/05/2023 4:43 PM: Theriault, MD, Date Dictated: pm, Date Transcribed: 05-May-2033 4:43: pm   PAGE 1 Higga May contain confidential info Page 1 of 2 RID cot 15 lime May. 11, 2023 1:09PM No. 8783 ; . . Page: 22 Printed on: 2024- 08 01 14:17 PROTEGE B g Printed by: Natalie Paille", "patient_history": "Not Available", "patient_name": "Scan-Mammo DIAGNOSTIC Document Date", "recommendation": "Not Available", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-24 20:29:36,218 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('0a7c42ea769013e0424931c95b81c7caec3e9862fad9a3f8ed6ae64fd831c1d5',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-24 20:29:36,237 - INFO - Extraction complete for Eng Example 1.pdf
2025-02-24 20:29:36,238 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores']
2025-02-24 20:29:36,238 - INFO - Patient name: Scan-Mammo DIAGNOSTIC Document Date
2025-02-24 20:29:36,238 - INFO - Exam date: 2023-05-05
2025-02-24 20:29:36,239 - INFO - BIRADS score: BIRADS 1-2
2025-02-24 20:42:14,965 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('0a7c42ea769013e0424931c95b81c7caec3e9862fad9a3f8ed6ae64fd831c1d5', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-24 20:42:15,654 - INFO - Tesseract version: 5.5.0.20241111
2025-02-24 20:42:17,989 - INFO - Extracted text from page 1 using OCR fallback
2025-02-24 20:42:18,266 - INFO - Tesseract version: 5.5.0.20241111
2025-02-24 20:42:20,461 - INFO - Extracted text from page 2 using OCR fallback
2025-02-24 20:42:20,461 - INFO - Combined text length: 1585 characters
2025-02-24 20:42:20,461 - INFO - Text sample: PROTECTED B CFHS/SSFC Patient: Scan-Mammo DIAGNOSTIC Document Date: 2023-05-05 05/11/2023 12:07PM 5063677051 HIGGS PAGE 03/04 May 05 2023, MAMMO - Diagnostic oF | HEALTH L and Upper. River Valley Area...
2025-02-24 20:42:20,498 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-24 20:42:20,504 - INFO - Updated birads_score from fallback: BIRADS 1-2
2025-02-24 20:42:20,504 - INFO - Extraction results: {"birads_score": "BIRADS 1-2", "document_date": "2023-05-05", "document_type": "Mammo", "electronically_signed_by": "Cynthia Theriault", "exam_date": "2023-05-11", "impression_result": "Stable mammogram. nagative for malignancy. Cynthia Theriault, FRCPC eee THIS IS AN. REPORT 05/05/2023 4:43 PM: Theriault, MD, Date Dictated: pm, Date Transcribed: 05-May-2033 4:43: pm   PAGE 1 Higga May contain confidential info Page 1 of 2 RID cot 15 lime May. 11, 2023 1:09PM No. 8783 ; . . Page: 22 Printed on: 2024- 08 01 14:17 PROTEGE B g Printed by: Natalie Paille", "mammogram_results": "breasts were imaged with standard and pushed back viewa. The parenchyma danse, category C. No of architectural clusters of suspicious or abnormal, are identified. impression: Stable mammogram. nagative for malignancy. Cynthia Theriault, FRCPC eee THIS IS AN. REPORT 05/05/2023 4:43 PM: Theriault, MD, Date Dictated: pm, Date Transcribed: 05-May-2033 4:43: pm   PAGE 1 Higga May contain confidential info Page 1 of 2 RID cot 15 lime May. 11, 2023 1:09PM No. 8783 ; . . Page: 22 Printed on: 2024- 08 01 14:17 PROTEGE B g Printed by: Natalie Paille", "patient_history": "Not Available", "patient_name": "Higgs Riggs, Jillian", "recommendation": "Not Available", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-24 20:42:20,512 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('0a7c42ea769013e0424931c95b81c7caec3e9862fad9a3f8ed6ae64fd831c1d5',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-24 20:42:20,512 - INFO - Extraction complete for Eng Example 1.pdf
2025-02-24 20:42:20,513 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores']
2025-02-24 20:42:20,513 - INFO - Patient name: Higgs Riggs, Jillian
2025-02-24 20:42:20,513 - INFO - Exam date: 2023-05-11
2025-02-24 20:42:20,513 - INFO - BIRADS score: BIRADS 1-2
2025-02-24 20:44:30,356 - INFO - Tesseract version: 5.5.0.20241111
2025-02-24 20:48:28,849 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('0a7c42ea769013e0424931c95b81c7caec3e9862fad9a3f8ed6ae64fd831c1d5', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-24 20:48:30,222 - INFO - Tesseract version: 5.5.0.20241111
2025-02-24 20:48:34,739 - INFO - Extracted text from page 1 using OCR fallback
2025-02-24 20:48:35,794 - INFO - Tesseract version: 5.5.0.20241111
2025-02-24 20:48:40,038 - INFO - Extracted text from page 2 using OCR fallback
2025-02-24 20:48:40,041 - INFO - Combined text length: 1585 characters
2025-02-24 20:48:40,041 - INFO - Text sample: PROTECTED B CFHS/SSFC Patient: Scan-Mammo DIAGNOSTIC Document Date: 2023-05-05 05/11/2023 12:07PM 5063677051 HIGGS PAGE 03/04 May 05 2023, MAMMO - Diagnostic oF | HEALTH L and Upper. River Valley Area...
2025-02-24 20:48:40,266 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-24 20:48:40,283 - INFO - Updated birads_score from fallback: BIRADS 1-2
2025-02-24 20:48:40,285 - INFO - Extraction results: {"birads_score": "BIRADS 1-2", "document_date": "2023-05-05", "document_type": "Mammo", "electronically_signed_by": "Cynthia Theriault, FRCPC", "exam_date": "2023-05-11", "impression_result": "Stable mammogram. nagative for malignancy. Cynthia Theriault, FRCPC eee THIS IS AN. REPORT 05/05/2023 4:43 PM: Theriault, MD, Date Dictated: pm, Date Transcribed: 05-May-2033 4:43: pm   PAGE 1 Higga May contain confidential info Page 1 of 2 RID cot 15 lime May. 11, 2023 1:09PM No. 8783 ; . . Page: 22 Printed on: 2024- 08 01 14:17 PROTEGE B g Printed by: Natalie Paille", "mammogram_results": "breasts were imaged with standard and pushed back viewa. The parenchyma danse, category C. No of architectural clusters of suspicious or abnormal, are identified. impression: Stable mammogram. nagative for malignancy. Cynthia Theriault, FRCPC eee THIS IS AN. REPORT 05/05/2023 4:43 PM: Theriault, MD, Date Dictated: pm, Date Transcribed: 05-May-2033 4:43: pm   PAGE 1 Higga May contain confidential info Page 1 of 2 RID cot 15 lime May. 11, 2023 1:09PM No. 8783 ; . . Page: 22 Printed on: 2024- 08 01 14:17 PROTEGE B g Printed by: Natalie Paille", "patient_history": "Not Available", "patient_name": "Higgs Riggs, Jillian", "recommendation": "Not Available", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}, "requesting_doctor": "Higgs Riggs, Jillian"}
2025-02-24 20:48:40,350 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('0a7c42ea769013e0424931c95b81c7caec3e9862fad9a3f8ed6ae64fd831c1d5',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-24 20:48:40,352 - INFO - Extraction complete for Eng Example 1.pdf
2025-02-24 20:48:40,352 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores', 'requesting_doctor']
2025-02-24 20:48:40,353 - INFO - Patient name: Higgs Riggs, Jillian
2025-02-24 20:48:40,353 - INFO - Exam date: 2023-05-11
2025-02-24 20:48:40,353 - INFO - BIRADS score: BIRADS 1-2
2025-02-25 07:51:32,235 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('0a7c42ea769013e0424931c95b81c7caec3e9862fad9a3f8ed6ae64fd831c1d5', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-25 07:51:32,845 - INFO - Tesseract version: 5.5.0.20241111
2025-02-25 07:51:37,766 - INFO - Extracted text from page 1 using OCR fallback
2025-02-25 07:51:37,972 - INFO - Tesseract version: 5.5.0.20241111
2025-02-25 07:51:40,245 - INFO - Extracted text from page 2 using OCR fallback
2025-02-25 07:51:40,246 - INFO - Combined text length: 1585 characters
2025-02-25 07:51:40,246 - INFO - Text sample: PROTECTED B CFHS/SSFC Patient: Scan-Mammo DIAGNOSTIC Document Date: 2023-05-05 05/11/2023 12:07PM 5063677051 HIGGS PAGE 03/04 May 05 2023, MAMMO - Diagnostic oF | HEALTH L and Upper. River Valley Area...
2025-02-25 07:51:40,308 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-25 07:51:40,313 - INFO - Updated birads_score from fallback: BIRADS 1-2
2025-02-25 07:51:40,314 - INFO - Extraction results: {"birads_score": "BIRADS 1-2", "document_date": "2023-05-05", "document_type": "Mammo", "electronically_signed_by": "Cynthia Theriault, FRCPC", "exam_date": "2023-05-11", "impression_result": "Stable mammogram. nagative for malignancy. Cynthia Theriault, FRCPC eee THIS IS AN. REPORT 05/05/2023 4:43 PM: Theriault, MD, Date Dictated: pm, Date Transcribed: 05-May-2033 4:43: pm   PAGE 1 Higga May contain confidential info Page 1 of 2 RID cot 15 lime May. 11, 2023 1:09PM No. 8783 ; . . Page: 22 Printed on: 2024- 08 01 14:17 PROTEGE B g Printed by: Natalie Paille", "mammogram_results": "breasts were imaged with standard and pushed back viewa. The parenchyma danse, category C. No of architectural clusters of suspicious or abnormal, are identified. impression: Stable mammogram. nagative for malignancy. Cynthia Theriault, FRCPC eee THIS IS AN. REPORT 05/05/2023 4:43 PM: Theriault, MD, Date Dictated: pm, Date Transcribed: 05-May-2033 4:43: pm   PAGE 1 Higga May contain confidential info Page 1 of 2 RID cot 15 lime May. 11, 2023 1:09PM No. 8783 ; . . Page: 22 Printed on: 2024- 08 01 14:17 PROTEGE B g Printed by: Natalie Paille", "patient_history": "Not Available", "patient_name": "Higgs Riggs, Jillian", "recommendation": "Not Available", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}, "requesting_doctor": "Higgs Riggs, Jillian"}
2025-02-25 07:51:40,324 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('0a7c42ea769013e0424931c95b81c7caec3e9862fad9a3f8ed6ae64fd831c1d5',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-25 07:51:40,324 - INFO - Extraction complete for Eng Example 1.pdf
2025-02-25 07:51:40,324 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores', 'requesting_doctor']
2025-02-25 07:51:40,325 - INFO - Patient name: Higgs Riggs, Jillian
2025-02-25 07:51:40,325 - INFO - Exam date: 2023-05-11
2025-02-25 07:51:40,325 - INFO - BIRADS score: BIRADS 1-2
2025-02-25 07:52:59,280 - INFO - Tesseract version: 5.5.0.20241111
2025-02-25 07:53:00,945 - WARNING - Failed to parse findings JSON: Expecting value: line 1 column 1 (char 0)
2025-02-25 07:53:01,981 - INFO - Database initialized successfully
2025-02-26 06:58:12,982 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 06:58:13,284 - INFO - Database initialized successfully
2025-02-26 06:58:38,909 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('c08f8370a5d692579c1a41d137cbe5358c8ea3803d53543919686b7973c0e4a4', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 06:58:39,368 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 06:58:42,167 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 06:58:42,306 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 06:58:43,049 - INFO - Extracted text from page 2 using OCR fallback
2025-02-26 06:58:43,049 - INFO - Combined text length: 2010 characters
2025-02-26 06:58:43,049 - INFO - Text sample: PROTECTED B CFHS/SSFC Patient: Scan-Mammo (B) Diagnostic Document Date: 2021-12-23 MIC Medical Imaging Te 97808734 184 9974241 Page 2 MEDICAL IMAGING NP Patricia Malott CFB - Edmonton PO BOX 10500 STN...
2025-02-26 06:58:43,088 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 06:58:43,091 - INFO - Updated birads_score from fallback: BIRADS 1-2
2025-02-26 06:58:43,092 - INFO - Extraction results: {"birads_score": "BIRADS 1-2", "document_date": "2021-12-23", "document_type": "Mammo", "electronically_signed_by": "Hector Aguilar", "exam_date": "23", "impression_result": "No mammographic or sonographic evidence of malignancy. No worrisome to account for the patient's concerns. BI-RADS: 1: Negative. Recommendation(s): Screening mammography recommended in 1 year. Electronically Signed: Dr. Hector Aguilar, FRCPC 12/23/2021 3:33 PM MST Page 1 of 2 Printed on: 2022-09-09 07:51 Printed by: Natalie Paille PROTEGE B Page: 17", "mammogram_results": "Not Available", "patient_history": "Intermittent pain in right breast. History augmentation BILATERAL DIAGNOSTIC MAMMOGRAPHY WITH TOMOSYNTHESIS - IMPLANTS ULTRASOUND RIGHT BREAST History: The patient describes intermittent pain in the right breast approximately 9 o'clock the last six months. No or family history of breast cancer. Mammogram: This is a baseline study. The background breast parenchyma is almost entirely fat replaced (ACR category A). Bilateral retropectoral silicone implants are seen. These appear intact with a normal contour. No suspicious mass, architectural distortion, or suspicious microcalcifications in either breast. Ultrasound: Ultrasound of the area of pain demonstrates normal breast tissue with no suspicious abnormality. IMPRESSION: No mammographic or sonographic evidence of malignancy. No worrisome to account for the patient's concerns. BI-RADS: 1: Negative. Recommendation(s): Screening mammography recommended in 1 year. Electronically Signed: Dr. Hector Aguilar, FRCPC 12/23/2021 3:33 PM MST Page 1 of 2 Printed on: 2022-09-09 07:51 Printed by: Natalie Paille PROTEGE B Page: 17", "patient_name": "Scan-Mammo", "recommendation": "(s): Screening mammography recommended in 1 year. Electronically Signed: Dr. Hector Aguilar, FRCPC 12/23/2021 3:33 PM MST Page 1 of 2 Printed on: 2022-09-09 07:51 Printed by: Natalie Paille PROTEGE B Page: 17", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-26 06:58:43,094 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('c08f8370a5d692579c1a41d137cbe5358c8ea3803d53543919686b7973c0e4a4',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 06:58:43,094 - INFO - Extraction complete for Eng Example 2.pdf
2025-02-26 06:58:43,094 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores']
2025-02-26 06:58:43,094 - INFO - Patient name: Scan-Mammo
2025-02-26 06:58:43,094 - INFO - Exam date: 23
2025-02-26 06:58:43,094 - INFO - BIRADS score: BIRADS 1-2
2025-02-26 06:58:43,098 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('bdc1571aa41f7e75a31d204a3e715c0a4f915679769485d604fdb95f9219d4e6', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 06:58:43,240 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 06:58:44,810 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 06:58:44,810 - INFO - Combined text length: 1254 characters
2025-02-26 06:58:44,810 - INFO - Text sample: PROTECTED B CFHS/SSFC Scan-Mammo B Screening Document Date: 2023-07-19 To: Page: 1 of 1 2023-07-19 13:31:10 EDT (780}450-9551 From: MIC Medica! Imaging 2023-07-19 Wed 11:30 Medical Imaging Consultants...
2025-02-26 06:58:44,814 - INFO - Missing fields: ['patient_name', 'birads_score'], trying fallback extraction
2025-02-26 06:58:44,815 - INFO - Updated birads_score from fallback: BIRADS 4-5
2025-02-26 06:58:44,815 - INFO - Extraction results: {"birads_score": "BIRADS 4-5", "document_date": "2023-07-19", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "19", "impression_result": "Na mammographic evidence of malignancy. Screening mammography recommended in 1-2 years. Upcoming ABUS will be reported separately Recommendation: Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "mammogram_results": "Density: ACR C: The breasts are heterogeneously dense, which may obscure small masses. Bilateral retropectoral silicone implants without complication. No conceming mass, architectural distortion or suspicious microcalcifications IMPRESSION: Na mammographic evidence of malignancy. Screening mammography recommended in 1-2 years. Upcoming ABUS will be reported separately Recommendation: Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "patient_history": "Breast cancer screening, no symptoms. Family history breast ca, aunt. Breast augmentation 2013, last mammogram 2018. Compared to previous exams there has been no adverse interval change. FINDINGS: Density: ACR C: The breasts are heterogeneously dense, which may obscure small masses. Bilateral retropectoral silicone implants without complication. No conceming mass, architectural distortion or suspicious microcalcifications IMPRESSION: Na mammographic evidence of malignancy. Screening mammography recommended in 1-2 years. Upcoming ABUS will be reported separately Recommendation: Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "patient_name": "Not Available", "recommendation": "Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-26 06:58:44,817 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('bdc1571aa41f7e75a31d204a3e715c0a4f915679769485d604fdb95f9219d4e6',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 06:58:44,817 - INFO - Extraction complete for Eng Example 3.pdf
2025-02-26 06:58:44,817 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores']
2025-02-26 06:58:44,817 - INFO - Patient name: Not Available
2025-02-26 06:58:44,817 - INFO - Exam date: 19
2025-02-26 06:58:44,817 - INFO - BIRADS score: BIRADS 4-5
2025-02-26 06:58:44,818 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('0a7c42ea769013e0424931c95b81c7caec3e9862fad9a3f8ed6ae64fd831c1d5', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 06:58:45,006 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 06:58:46,797 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 06:58:46,939 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 06:58:48,445 - INFO - Extracted text from page 2 using OCR fallback
2025-02-26 06:58:48,445 - INFO - Combined text length: 1585 characters
2025-02-26 06:58:48,445 - INFO - Text sample: PROTECTED B CFHS/SSFC Patient: Scan-Mammo DIAGNOSTIC Document Date: 2023-05-05 05/11/2023 12:07PM 5063677051 HIGGS PAGE 03/04 May 05 2023, MAMMO - Diagnostic oF | HEALTH L and Upper. River Valley Area...
2025-02-26 06:58:48,461 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 06:58:48,461 - INFO - Updated birads_score from fallback: BIRADS 1-2
2025-02-26 06:58:48,461 - INFO - Extraction results: {"birads_score": "BIRADS 1-2", "document_date": "2023-05-05", "document_type": "Mammo", "electronically_signed_by": "Cynthia Theriault, FRCPC", "exam_date": "2023-05-11", "impression_result": "Stable mammogram. nagative for malignancy. Cynthia Theriault, FRCPC eee THIS IS AN. REPORT 05/05/2023 4:43 PM: Theriault, MD, Date Dictated: pm, Date Transcribed: 05-May-2033 4:43: pm   PAGE 1 Higga May contain confidential info Page 1 of 2 RID cot 15 lime May. 11, 2023 1:09PM No. 8783 ; . . Page: 22 Printed on: 2024- 08 01 14:17 PROTEGE B g Printed by: Natalie Paille", "mammogram_results": "breasts were imaged with standard and pushed back viewa. The parenchyma danse, category C. No of architectural clusters of suspicious or abnormal, are identified. impression: Stable mammogram. nagative for malignancy. Cynthia Theriault, FRCPC eee THIS IS AN. REPORT 05/05/2023 4:43 PM: Theriault, MD, Date Dictated: pm, Date Transcribed: 05-May-2033 4:43: pm   PAGE 1 Higga May contain confidential info Page 1 of 2 RID cot 15 lime May. 11, 2023 1:09PM No. 8783 ; . . Page: 22 Printed on: 2024- 08 01 14:17 PROTEGE B g Printed by: Natalie Paille", "patient_history": "Not Available", "patient_name": "Higgs Riggs, Jillian", "recommendation": "Not Available", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}, "requesting_doctor": "Higgs Riggs, Jillian"}
2025-02-26 06:58:48,461 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('0a7c42ea769013e0424931c95b81c7caec3e9862fad9a3f8ed6ae64fd831c1d5',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 06:58:48,461 - INFO - Extraction complete for Eng Example 1.pdf
2025-02-26 06:58:48,461 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores', 'requesting_doctor']
2025-02-26 06:58:48,461 - INFO - Patient name: Higgs Riggs, Jillian
2025-02-26 06:58:48,461 - INFO - Exam date: 2023-05-11
2025-02-26 06:58:48,461 - INFO - BIRADS score: BIRADS 1-2
2025-02-26 06:58:49,968 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 07:20:00,308 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.doc_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.doc_metadata AS reports_doc_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('bdc1571aa41f7e75a31d204a3e715c0a4f915679769485d604fdb95f9219d4e6', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 07:20:00,694 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 07:20:02,616 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 07:20:02,618 - INFO - Combined text length: 1254 characters
2025-02-26 07:20:02,618 - INFO - Text sample: PROTECTED B CFHS/SSFC Scan-Mammo B Screening Document Date: 2023-07-19 To: Page: 1 of 1 2023-07-19 13:31:10 EDT (780}450-9551 From: MIC Medica! Imaging 2023-07-19 Wed 11:30 Medical Imaging Consultants...
2025-02-26 07:20:02,618 - INFO - Document is deidentified, using standard patient name
2025-02-26 07:20:02,670 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 07:20:02,673 - INFO - Updated birads_score from fallback: BIRADS 4-5
2025-02-26 07:20:02,677 - INFO - Extraction results: {"birads_score": "BIRADS 4-5", "document_date": "2023-07-19", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "19", "impression_result": "Na mammographic evidence of malignancy. Screening mammography recommended in 1-2 years. Upcoming ABUS will be reported separately Recommendation: Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "mammogram_results": "Density: ACR C: The breasts are heterogeneously dense, which may obscure small masses. Bilateral retropectoral silicone implants without complication. No conceming mass, architectural distortion or suspicious microcalcifications IMPRESSION: Na mammographic evidence of malignancy. Screening mammography recommended in 1-2 years. Upcoming ABUS will be reported separately Recommendation: Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "patient_history": "Breast cancer screening, no symptoms. Family history breast ca, aunt. Breast augmentation 2013, last mammogram 2018. Compared to previous exams there has been no adverse interval change. FINDINGS: Density: ACR C: The breasts are heterogeneously dense, which may obscure small masses. Bilateral retropectoral silicone implants without complication. No conceming mass, architectural distortion or suspicious microcalcifications IMPRESSION: Na mammographic evidence of malignancy. Screening mammography recommended in 1-2 years. Upcoming ABUS will be reported separately Recommendation: Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "patient_name": "Deidentified Patient", "recommendation": "Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-26 07:20:02,687 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.doc_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.doc_metadata AS reports_doc_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('bdc1571aa41f7e75a31d204a3e715c0a4f915679769485d604fdb95f9219d4e6',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 07:20:02,689 - INFO - Extraction complete for Eng Example 3.pdf
2025-02-26 07:20:02,689 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores']
2025-02-26 07:20:02,689 - INFO - Patient name: Deidentified Patient
2025-02-26 07:20:02,689 - INFO - Exam date: 19
2025-02-26 07:20:02,689 - INFO - BIRADS score: BIRADS 4-5
2025-02-26 07:20:02,701 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.doc_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.doc_metadata AS reports_doc_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('f2380bad50e7184e91eef3da0feb3e4512e6226ccd4dcbb7570d90026ec09389', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 07:20:03,083 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 07:20:05,961 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 07:20:05,965 - INFO - Combined text length: 1499 characters
2025-02-26 07:20:05,965 - INFO - Text sample: Patient: Scan-Mammo Bilat Screen w/ Tomosynthesis Ta: Printed on: Printed by: PROTECTED B Page: 1 of 1 2023-10-25 16:00:16 EDT {780}450-9551 From: MIC Medical Imaging 2023-10-25 Wed 13:58 Medical Imag...
2025-02-26 07:20:05,965 - INFO - Document is deidentified, using standard patient name
2025-02-26 07:20:05,974 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 07:20:05,974 - INFO - Updated birads_score from fallback: BIRADS mentioned
2025-02-26 07:20:05,974 - INFO - Extraction results: {"birads_score": "BIRADS mentioned", "document_date": "2023-10-25", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "25", "impression_result": "No mammographic evidence of malignancy. Annual screening is recommended for patients of this age once mammography has begun Recommendation: Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "mammogram_results": "Density: ACR Category B: There are scattered areas of fibroglandular density. No mass, architectural distortion or microcalcifications IMPRESSION: No mammographic evidence of malignancy. Annual screening is recommended for patients of this age once mammography has begun Recommendation: Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "patient_history": "Screening. Aunt diagnosed with postmenopausal breast cancer. COMPARISON: None. Baseline. FINDINGS: Density: ACR Category B: There are scattered areas of fibroglandular density. No mass, architectural distortion or microcalcifications IMPRESSION: No mammographic evidence of malignancy. Annual screening is recommended for patients of this age once mammography has begun Recommendation: Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "patient_name": "Deidentified Patient", "recommendation": "Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-26 07:20:05,983 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.doc_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.doc_metadata AS reports_doc_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('f2380bad50e7184e91eef3da0feb3e4512e6226ccd4dcbb7570d90026ec09389',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 07:20:05,985 - INFO - Extraction complete for Eng Example 4.pdf
2025-02-26 07:20:05,985 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores']
2025-02-26 07:20:05,985 - INFO - Patient name: Deidentified Patient
2025-02-26 07:20:05,985 - INFO - Exam date: 25
2025-02-26 07:20:05,985 - INFO - BIRADS score: BIRADS mentioned
2025-02-26 07:20:05,990 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.doc_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.doc_metadata AS reports_doc_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('0a7c42ea769013e0424931c95b81c7caec3e9862fad9a3f8ed6ae64fd831c1d5', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 07:20:07,418 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 07:20:10,062 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 07:20:15,317 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 07:20:19,255 - INFO - Extracted text from page 2 using OCR fallback
2025-02-26 07:20:19,268 - INFO - Combined text length: 1585 characters
2025-02-26 07:20:19,268 - INFO - Text sample: PROTECTED B CFHS/SSFC Patient: Scan-Mammo DIAGNOSTIC Document Date: 2023-05-05 05/11/2023 12:07PM 5063677051 HIGGS PAGE 03/04 May 05 2023, MAMMO - Diagnostic oF | HEALTH L and Upper. River Valley Area...
2025-02-26 07:20:19,268 - INFO - Document is deidentified, using standard patient name
2025-02-26 07:20:19,320 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 07:20:19,320 - INFO - Updated birads_score from fallback: BIRADS 1-2
2025-02-26 07:20:19,322 - INFO - Extraction results: {"birads_score": "BIRADS 1-2", "document_date": "2023-05-05", "document_type": "Mammo", "electronically_signed_by": "Cynthia Theriault, FRCPC", "exam_date": "2023-05-11", "impression_result": "Stable mammogram. nagative for malignancy. Cynthia Theriault, FRCPC eee THIS IS AN. REPORT 05/05/2023 4:43 PM: Theriault, MD, Date Dictated: pm, Date Transcribed: 05-May-2033 4:43: pm   PAGE 1 Higga May contain confidential info Page 1 of 2 RID cot 15 lime May. 11, 2023 1:09PM No. 8783 ; . . Page: 22 Printed on: 2024- 08 01 14:17 PROTEGE B g Printed by: Natalie Paille", "mammogram_results": "breasts were imaged with standard and pushed back viewa. The parenchyma danse, category C. No of architectural clusters of suspicious or abnormal, are identified. impression: Stable mammogram. nagative for malignancy. Cynthia Theriault, FRCPC eee THIS IS AN. REPORT 05/05/2023 4:43 PM: Theriault, MD, Date Dictated: pm, Date Transcribed: 05-May-2033 4:43: pm   PAGE 1 Higga May contain confidential info Page 1 of 2 RID cot 15 lime May. 11, 2023 1:09PM No. 8783 ; . . Page: 22 Printed on: 2024- 08 01 14:17 PROTEGE B g Printed by: Natalie Paille", "patient_history": "Not Available", "patient_name": "Higgs Riggs, Jillian", "recommendation": "Not Available", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}, "requesting_doctor": "Higgs Riggs, Jillian"}
2025-02-26 07:20:19,345 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.doc_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.doc_metadata AS reports_doc_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('0a7c42ea769013e0424931c95b81c7caec3e9862fad9a3f8ed6ae64fd831c1d5',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 07:20:19,345 - INFO - Extraction complete for Eng Example 1.pdf
2025-02-26 07:20:19,345 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores', 'requesting_doctor']
2025-02-26 07:20:19,345 - INFO - Patient name: Higgs Riggs, Jillian
2025-02-26 07:20:19,345 - INFO - Exam date: 2023-05-11
2025-02-26 07:20:19,345 - INFO - BIRADS score: BIRADS 1-2
2025-02-26 07:20:19,376 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.doc_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.doc_metadata AS reports_doc_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('c08f8370a5d692579c1a41d137cbe5358c8ea3803d53543919686b7973c0e4a4', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 07:20:22,762 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 07:20:28,179 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 07:20:33,624 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 07:20:38,592 - INFO - Extracted text from page 2 using OCR fallback
2025-02-26 07:20:38,595 - INFO - Combined text length: 2010 characters
2025-02-26 07:20:38,595 - INFO - Text sample: PROTECTED B CFHS/SSFC Patient: Scan-Mammo (B) Diagnostic Document Date: 2021-12-23 MIC Medical Imaging Te 97808734 184 9974241 Page 2 MEDICAL IMAGING NP Patricia Malott CFB - Edmonton PO BOX 10500 STN...
2025-02-26 07:20:38,595 - INFO - Document is deidentified, using standard patient name
2025-02-26 07:20:38,634 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 07:20:38,639 - INFO - Updated birads_score from fallback: BIRADS 1-2
2025-02-26 07:20:38,639 - INFO - Extraction results: {"birads_score": "BIRADS 1-2", "document_date": "2021-12-23", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "23", "impression_result": "No mammographic or sonographic evidence of malignancy. No worrisome to account for the patient's concerns. BI-RADS: 1: Negative. Recommendation(s): Screening mammography recommended in 1 year. Electronically Signed: Dr. Hector Aguilar, FRCPC 12/23/2021 3:33 PM MST Page 1 of 2 Printed on: 2022-09-09 07:51 Printed by: Natalie Paille PROTEGE B Page: 17", "mammogram_results": "Not Available", "patient_history": "Intermittent pain in right breast. History augmentation BILATERAL DIAGNOSTIC MAMMOGRAPHY WITH TOMOSYNTHESIS - IMPLANTS ULTRASOUND RIGHT BREAST History: The patient describes intermittent pain in the right breast approximately 9 o'clock the last six months. No or family history of breast cancer. Mammogram: This is a baseline study. The background breast parenchyma is almost entirely fat replaced (ACR category A). Bilateral retropectoral silicone implants are seen. These appear intact with a normal contour. No suspicious mass, architectural distortion, or suspicious microcalcifications in either breast. Ultrasound: Ultrasound of the area of pain demonstrates normal breast tissue with no suspicious abnormality. IMPRESSION: No mammographic or sonographic evidence of malignancy. No worrisome to account for the patient's concerns. BI-RADS: 1: Negative. Recommendation(s): Screening mammography recommended in 1 year. Electronically Signed: Dr. Hector Aguilar, FRCPC 12/23/2021 3:33 PM MST Page 1 of 2 Printed on: 2022-09-09 07:51 Printed by: Natalie Paille PROTEGE B Page: 17", "patient_name": "Deidentified Patient", "recommendation": "(s): Screening mammography recommended in 1 year. Electronically Signed: Dr. Hector Aguilar, FRCPC 12/23/2021 3:33 PM MST Page 1 of 2 Printed on: 2022-09-09 07:51 Printed by: Natalie Paille PROTEGE B Page: 17", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-26 07:20:38,655 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.doc_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.doc_metadata AS reports_doc_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('c08f8370a5d692579c1a41d137cbe5358c8ea3803d53543919686b7973c0e4a4',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 07:20:38,655 - INFO - Extraction complete for Eng Example 2.pdf
2025-02-26 07:20:38,655 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores']
2025-02-26 07:20:38,655 - INFO - Patient name: Deidentified Patient
2025-02-26 07:20:38,655 - INFO - Exam date: 23
2025-02-26 07:20:38,655 - INFO - BIRADS score: BIRADS 1-2
2025-02-26 07:21:22,853 - ERROR - Analytics error: (sqlite3.OperationalError) no such column: reports.doc_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.doc_metadata AS reports_doc_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\engine\default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: reports.doc_metadata

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 800, in main
    reports = session.query(Report).all()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\query.py", line 2699, in all
    return self._iter().all()  # type: ignore
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\query.py", line 2853, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\context.py", line 305, in orm_execute_statement
    result = conn.execute(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\engine\default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: reports.doc_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.doc_metadata AS reports_doc_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 07:21:22,862 - ERROR - Analytics error: (sqlite3.OperationalError) no such column: reports.doc_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.doc_metadata AS reports_doc_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\engine\default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such column: reports.doc_metadata

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 800, in main
    reports = session.query(Report).all()
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\query.py", line 2699, in all
    return self._iter().all()  # type: ignore
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\query.py", line 2853, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\context.py", line 305, in orm_execute_statement
    result = conn.execute(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\elements.py", line 516, in _execute_on_connection
    return connection._execute_clauseelement(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\engine\default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such column: reports.doc_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.doc_metadata AS reports_doc_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 07:31:34,646 - ERROR - Database schema update error: Not an executable object: "\n                SELECT name FROM sqlite_master \n                WHERE type='table' AND name='reports'\n            "
2025-02-26 07:31:34,646 - INFO - Database initialized successfully
2025-02-26 07:31:34,743 - ERROR - Analytics error: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 864, in main
    result = session.execute("SELECT * FROM reports")
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2149, in _execute_internal
    statement = coercions.expect(roles.StatementRole, statement)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 395, in expect
    resolved = impl._literal_coercion(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 621, in _literal_coercion
    return self._text_coercion(element, argname, **kw)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 614, in _text_coercion
    return _no_text_coercion(element, argname)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 584, in _no_text_coercion
    raise exc_cls(
sqlalchemy.exc.ArgumentError: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
2025-02-26 07:31:34,778 - ERROR - Database management error: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 1095, in main
    result = session.execute("SELECT * FROM reports")
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2149, in _execute_internal
    statement = coercions.expect(roles.StatementRole, statement)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 395, in expect
    resolved = impl._literal_coercion(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 621, in _literal_coercion
    return self._text_coercion(element, argname, **kw)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 614, in _text_coercion
    return _no_text_coercion(element, argname)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 584, in _no_text_coercion
    raise exc_cls(
sqlalchemy.exc.ArgumentError: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
2025-02-26 07:31:47,303 - ERROR - Database schema update error: Not an executable object: "\n                SELECT name FROM sqlite_master \n                WHERE type='table' AND name='reports'\n            "
2025-02-26 07:31:47,303 - INFO - Database initialized successfully
2025-02-26 07:31:47,323 - ERROR - Analytics error: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 864, in main
    result = session.execute("SELECT * FROM reports")
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2149, in _execute_internal
    statement = coercions.expect(roles.StatementRole, statement)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 395, in expect
    resolved = impl._literal_coercion(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 621, in _literal_coercion
    return self._text_coercion(element, argname, **kw)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 614, in _text_coercion
    return _no_text_coercion(element, argname)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 584, in _no_text_coercion
    raise exc_cls(
sqlalchemy.exc.ArgumentError: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
2025-02-26 07:31:47,323 - ERROR - Database management error: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 1095, in main
    result = session.execute("SELECT * FROM reports")
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2149, in _execute_internal
    statement = coercions.expect(roles.StatementRole, statement)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 395, in expect
    resolved = impl._literal_coercion(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 621, in _literal_coercion
    return self._text_coercion(element, argname, **kw)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 614, in _text_coercion
    return _no_text_coercion(element, argname)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 584, in _no_text_coercion
    raise exc_cls(
sqlalchemy.exc.ArgumentError: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
2025-02-26 07:31:50,723 - ERROR - Database schema update error: Not an executable object: "\n                SELECT name FROM sqlite_master \n                WHERE type='table' AND name='reports'\n            "
2025-02-26 07:31:50,723 - INFO - Database initialized successfully
2025-02-26 07:31:50,989 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.doc_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.doc_metadata AS reports_doc_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('0a7c42ea769013e0424931c95b81c7caec3e9862fad9a3f8ed6ae64fd831c1d5', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 07:31:51,944 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 07:31:53,513 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 07:31:53,678 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 07:31:54,848 - INFO - Extracted text from page 2 using OCR fallback
2025-02-26 07:31:54,848 - INFO - Combined text length: 1585 characters
2025-02-26 07:31:54,848 - INFO - Text sample: PROTECTED B CFHS/SSFC Patient: Scan-Mammo DIAGNOSTIC Document Date: 2023-05-05 05/11/2023 12:07PM 5063677051 HIGGS PAGE 03/04 May 05 2023, MAMMO - Diagnostic oF | HEALTH L and Upper. River Valley Area...
2025-02-26 07:31:54,848 - INFO - Document is deidentified, using standard patient name
2025-02-26 07:31:54,873 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 07:31:54,877 - INFO - Updated birads_score from fallback: BIRADS 1-2
2025-02-26 07:31:54,877 - INFO - Extraction results: {"birads_score": "BIRADS 1-2", "document_date": "2023-05-05", "document_type": "Mammo", "electronically_signed_by": "Cynthia Theriault, FRCPC", "exam_date": "2023-05-11", "impression_result": "Stable mammogram. nagative for malignancy. Cynthia Theriault, FRCPC eee THIS IS AN. REPORT 05/05/2023 4:43 PM: Theriault, MD, Date Dictated: pm, Date Transcribed: 05-May-2033 4:43: pm   PAGE 1 Higga May contain confidential info Page 1 of 2 RID cot 15 lime May. 11, 2023 1:09PM No. 8783 ; . . Page: 22 Printed on: 2024- 08 01 14:17 PROTEGE B g Printed by: Natalie Paille", "mammogram_results": "breasts were imaged with standard and pushed back viewa. The parenchyma danse, category C. No of architectural clusters of suspicious or abnormal, are identified. impression: Stable mammogram. nagative for malignancy. Cynthia Theriault, FRCPC eee THIS IS AN. REPORT 05/05/2023 4:43 PM: Theriault, MD, Date Dictated: pm, Date Transcribed: 05-May-2033 4:43: pm   PAGE 1 Higga May contain confidential info Page 1 of 2 RID cot 15 lime May. 11, 2023 1:09PM No. 8783 ; . . Page: 22 Printed on: 2024- 08 01 14:17 PROTEGE B g Printed by: Natalie Paille", "patient_history": "Not Available", "patient_name": "Higgs Riggs, Jillian", "recommendation": "Not Available", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}, "requesting_doctor": "Higgs Riggs, Jillian"}
2025-02-26 07:31:54,877 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.doc_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.doc_metadata AS reports_doc_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('0a7c42ea769013e0424931c95b81c7caec3e9862fad9a3f8ed6ae64fd831c1d5',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 07:31:54,877 - INFO - Extraction complete for Eng Example 1.pdf
2025-02-26 07:31:54,877 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores', 'requesting_doctor']
2025-02-26 07:31:54,877 - INFO - Patient name: Higgs Riggs, Jillian
2025-02-26 07:31:54,877 - INFO - Exam date: 2023-05-11
2025-02-26 07:31:54,877 - INFO - BIRADS score: BIRADS 1-2
2025-02-26 07:31:54,882 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.doc_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.doc_metadata AS reports_doc_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('c08f8370a5d692579c1a41d137cbe5358c8ea3803d53543919686b7973c0e4a4', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 07:31:55,033 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 07:31:56,793 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 07:31:56,933 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 07:31:58,244 - INFO - Extracted text from page 2 using OCR fallback
2025-02-26 07:31:58,244 - INFO - Combined text length: 2010 characters
2025-02-26 07:31:58,244 - INFO - Text sample: PROTECTED B CFHS/SSFC Patient: Scan-Mammo (B) Diagnostic Document Date: 2021-12-23 MIC Medical Imaging Te 97808734 184 9974241 Page 2 MEDICAL IMAGING NP Patricia Malott CFB - Edmonton PO BOX 10500 STN...
2025-02-26 07:31:58,244 - INFO - Document is deidentified, using standard patient name
2025-02-26 07:31:58,263 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 07:31:58,263 - INFO - Updated birads_score from fallback: BIRADS 1-2
2025-02-26 07:31:58,263 - INFO - Extraction results: {"birads_score": "BIRADS 1-2", "document_date": "2021-12-23", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "23", "impression_result": "No mammographic or sonographic evidence of malignancy. No worrisome to account for the patient's concerns. BI-RADS: 1: Negative. Recommendation(s): Screening mammography recommended in 1 year. Electronically Signed: Dr. Hector Aguilar, FRCPC 12/23/2021 3:33 PM MST Page 1 of 2 Printed on: 2022-09-09 07:51 Printed by: Natalie Paille PROTEGE B Page: 17", "mammogram_results": "Not Available", "patient_history": "Intermittent pain in right breast. History augmentation BILATERAL DIAGNOSTIC MAMMOGRAPHY WITH TOMOSYNTHESIS - IMPLANTS ULTRASOUND RIGHT BREAST History: The patient describes intermittent pain in the right breast approximately 9 o'clock the last six months. No or family history of breast cancer. Mammogram: This is a baseline study. The background breast parenchyma is almost entirely fat replaced (ACR category A). Bilateral retropectoral silicone implants are seen. These appear intact with a normal contour. No suspicious mass, architectural distortion, or suspicious microcalcifications in either breast. Ultrasound: Ultrasound of the area of pain demonstrates normal breast tissue with no suspicious abnormality. IMPRESSION: No mammographic or sonographic evidence of malignancy. No worrisome to account for the patient's concerns. BI-RADS: 1: Negative. Recommendation(s): Screening mammography recommended in 1 year. Electronically Signed: Dr. Hector Aguilar, FRCPC 12/23/2021 3:33 PM MST Page 1 of 2 Printed on: 2022-09-09 07:51 Printed by: Natalie Paille PROTEGE B Page: 17", "patient_name": "Deidentified Patient", "recommendation": "(s): Screening mammography recommended in 1 year. Electronically Signed: Dr. Hector Aguilar, FRCPC 12/23/2021 3:33 PM MST Page 1 of 2 Printed on: 2022-09-09 07:51 Printed by: Natalie Paille PROTEGE B Page: 17", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-26 07:31:58,263 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.doc_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.doc_metadata AS reports_doc_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('c08f8370a5d692579c1a41d137cbe5358c8ea3803d53543919686b7973c0e4a4',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 07:31:58,263 - INFO - Extraction complete for Eng Example 2.pdf
2025-02-26 07:31:58,263 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores']
2025-02-26 07:31:58,263 - INFO - Patient name: Deidentified Patient
2025-02-26 07:31:58,263 - INFO - Exam date: 23
2025-02-26 07:31:58,263 - INFO - BIRADS score: BIRADS 1-2
2025-02-26 07:31:58,263 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.doc_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.doc_metadata AS reports_doc_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('bdc1571aa41f7e75a31d204a3e715c0a4f915679769485d604fdb95f9219d4e6', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 07:31:58,433 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 07:31:59,623 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 07:31:59,623 - INFO - Combined text length: 1254 characters
2025-02-26 07:31:59,623 - INFO - Text sample: PROTECTED B CFHS/SSFC Scan-Mammo B Screening Document Date: 2023-07-19 To: Page: 1 of 1 2023-07-19 13:31:10 EDT (780}450-9551 From: MIC Medica! Imaging 2023-07-19 Wed 11:30 Medical Imaging Consultants...
2025-02-26 07:31:59,623 - INFO - Document is deidentified, using standard patient name
2025-02-26 07:31:59,623 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 07:31:59,623 - INFO - Updated birads_score from fallback: BIRADS 4-5
2025-02-26 07:31:59,634 - INFO - Extraction results: {"birads_score": "BIRADS 4-5", "document_date": "2023-07-19", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "19", "impression_result": "Na mammographic evidence of malignancy. Screening mammography recommended in 1-2 years. Upcoming ABUS will be reported separately Recommendation: Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "mammogram_results": "Density: ACR C: The breasts are heterogeneously dense, which may obscure small masses. Bilateral retropectoral silicone implants without complication. No conceming mass, architectural distortion or suspicious microcalcifications IMPRESSION: Na mammographic evidence of malignancy. Screening mammography recommended in 1-2 years. Upcoming ABUS will be reported separately Recommendation: Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "patient_history": "Breast cancer screening, no symptoms. Family history breast ca, aunt. Breast augmentation 2013, last mammogram 2018. Compared to previous exams there has been no adverse interval change. FINDINGS: Density: ACR C: The breasts are heterogeneously dense, which may obscure small masses. Bilateral retropectoral silicone implants without complication. No conceming mass, architectural distortion or suspicious microcalcifications IMPRESSION: Na mammographic evidence of malignancy. Screening mammography recommended in 1-2 years. Upcoming ABUS will be reported separately Recommendation: Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "patient_name": "Deidentified Patient", "recommendation": "Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-26 07:31:59,634 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.doc_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.doc_metadata AS reports_doc_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('bdc1571aa41f7e75a31d204a3e715c0a4f915679769485d604fdb95f9219d4e6',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 07:31:59,634 - INFO - Extraction complete for Eng Example 3.pdf
2025-02-26 07:31:59,636 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores']
2025-02-26 07:31:59,636 - INFO - Patient name: Deidentified Patient
2025-02-26 07:31:59,636 - INFO - Exam date: 19
2025-02-26 07:31:59,636 - INFO - BIRADS score: BIRADS 4-5
2025-02-26 07:31:59,636 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.doc_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.doc_metadata AS reports_doc_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('f2380bad50e7184e91eef3da0feb3e4512e6226ccd4dcbb7570d90026ec09389', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 07:31:59,798 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 07:32:01,002 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 07:32:01,002 - INFO - Combined text length: 1499 characters
2025-02-26 07:32:01,002 - INFO - Text sample: Patient: Scan-Mammo Bilat Screen w/ Tomosynthesis Ta: Printed on: Printed by: PROTECTED B Page: 1 of 1 2023-10-25 16:00:16 EDT {780}450-9551 From: MIC Medical Imaging 2023-10-25 Wed 13:58 Medical Imag...
2025-02-26 07:32:01,003 - INFO - Document is deidentified, using standard patient name
2025-02-26 07:32:01,003 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 07:32:01,003 - INFO - Updated birads_score from fallback: BIRADS mentioned
2025-02-26 07:32:01,003 - INFO - Extraction results: {"birads_score": "BIRADS mentioned", "document_date": "2023-10-25", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "25", "impression_result": "No mammographic evidence of malignancy. Annual screening is recommended for patients of this age once mammography has begun Recommendation: Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "mammogram_results": "Density: ACR Category B: There are scattered areas of fibroglandular density. No mass, architectural distortion or microcalcifications IMPRESSION: No mammographic evidence of malignancy. Annual screening is recommended for patients of this age once mammography has begun Recommendation: Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "patient_history": "Screening. Aunt diagnosed with postmenopausal breast cancer. COMPARISON: None. Baseline. FINDINGS: Density: ACR Category B: There are scattered areas of fibroglandular density. No mass, architectural distortion or microcalcifications IMPRESSION: No mammographic evidence of malignancy. Annual screening is recommended for patients of this age once mammography has begun Recommendation: Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "patient_name": "Deidentified Patient", "recommendation": "Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-26 07:32:01,003 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.doc_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.doc_metadata AS reports_doc_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('f2380bad50e7184e91eef3da0feb3e4512e6226ccd4dcbb7570d90026ec09389',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 07:32:01,003 - INFO - Extraction complete for Eng Example 4.pdf
2025-02-26 07:32:01,003 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores']
2025-02-26 07:32:01,003 - INFO - Patient name: Deidentified Patient
2025-02-26 07:32:01,003 - INFO - Exam date: 25
2025-02-26 07:32:01,003 - INFO - BIRADS score: BIRADS mentioned
2025-02-26 07:32:01,083 - ERROR - Analytics error: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 864, in main
    result = session.execute("SELECT * FROM reports")
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2149, in _execute_internal
    statement = coercions.expect(roles.StatementRole, statement)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 395, in expect
    resolved = impl._literal_coercion(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 621, in _literal_coercion
    return self._text_coercion(element, argname, **kw)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 614, in _text_coercion
    return _no_text_coercion(element, argname)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 584, in _no_text_coercion
    raise exc_cls(
sqlalchemy.exc.ArgumentError: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
2025-02-26 07:32:01,084 - ERROR - Database management error: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 1095, in main
    result = session.execute("SELECT * FROM reports")
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2149, in _execute_internal
    statement = coercions.expect(roles.StatementRole, statement)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 395, in expect
    resolved = impl._literal_coercion(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 621, in _literal_coercion
    return self._text_coercion(element, argname, **kw)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 614, in _text_coercion
    return _no_text_coercion(element, argname)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 584, in _no_text_coercion
    raise exc_cls(
sqlalchemy.exc.ArgumentError: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
2025-02-26 07:32:32,873 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.doc_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.doc_metadata AS reports_doc_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('bdc1571aa41f7e75a31d204a3e715c0a4f915679769485d604fdb95f9219d4e6', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 07:32:33,069 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 07:32:34,186 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 07:32:34,186 - INFO - Combined text length: 1254 characters
2025-02-26 07:32:34,186 - INFO - Text sample: PROTECTED B CFHS/SSFC Scan-Mammo B Screening Document Date: 2023-07-19 To: Page: 1 of 1 2023-07-19 13:31:10 EDT (780}450-9551 From: MIC Medica! Imaging 2023-07-19 Wed 11:30 Medical Imaging Consultants...
2025-02-26 07:32:34,186 - INFO - Document is deidentified, using standard patient name
2025-02-26 07:32:34,193 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 07:32:34,193 - INFO - Updated birads_score from fallback: BIRADS 4-5
2025-02-26 07:32:34,193 - INFO - Extraction results: {"birads_score": "BIRADS 4-5", "document_date": "2023-07-19", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "19", "impression_result": "Na mammographic evidence of malignancy. Screening mammography recommended in 1-2 years. Upcoming ABUS will be reported separately Recommendation: Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "mammogram_results": "Density: ACR C: The breasts are heterogeneously dense, which may obscure small masses. Bilateral retropectoral silicone implants without complication. No conceming mass, architectural distortion or suspicious microcalcifications IMPRESSION: Na mammographic evidence of malignancy. Screening mammography recommended in 1-2 years. Upcoming ABUS will be reported separately Recommendation: Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "patient_history": "Breast cancer screening, no symptoms. Family history breast ca, aunt. Breast augmentation 2013, last mammogram 2018. Compared to previous exams there has been no adverse interval change. FINDINGS: Density: ACR C: The breasts are heterogeneously dense, which may obscure small masses. Bilateral retropectoral silicone implants without complication. No conceming mass, architectural distortion or suspicious microcalcifications IMPRESSION: Na mammographic evidence of malignancy. Screening mammography recommended in 1-2 years. Upcoming ABUS will be reported separately Recommendation: Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "patient_name": "Deidentified Patient", "recommendation": "Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-26 07:32:34,193 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.doc_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.doc_metadata AS reports_doc_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('bdc1571aa41f7e75a31d204a3e715c0a4f915679769485d604fdb95f9219d4e6',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 07:32:34,193 - INFO - Extraction complete for Eng Example 3.pdf
2025-02-26 07:32:34,193 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores']
2025-02-26 07:32:34,193 - INFO - Patient name: Deidentified Patient
2025-02-26 07:32:34,193 - INFO - Exam date: 19
2025-02-26 07:32:34,193 - INFO - BIRADS score: BIRADS 4-5
2025-02-26 07:32:34,199 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.doc_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.doc_metadata AS reports_doc_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('f2380bad50e7184e91eef3da0feb3e4512e6226ccd4dcbb7570d90026ec09389', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 07:32:34,355 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 07:32:35,513 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 07:32:35,513 - INFO - Combined text length: 1499 characters
2025-02-26 07:32:35,513 - INFO - Text sample: Patient: Scan-Mammo Bilat Screen w/ Tomosynthesis Ta: Printed on: Printed by: PROTECTED B Page: 1 of 1 2023-10-25 16:00:16 EDT {780}450-9551 From: MIC Medical Imaging 2023-10-25 Wed 13:58 Medical Imag...
2025-02-26 07:32:35,513 - INFO - Document is deidentified, using standard patient name
2025-02-26 07:32:35,523 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 07:32:35,523 - INFO - Updated birads_score from fallback: BIRADS mentioned
2025-02-26 07:32:35,523 - INFO - Extraction results: {"birads_score": "BIRADS mentioned", "document_date": "2023-10-25", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "25", "impression_result": "No mammographic evidence of malignancy. Annual screening is recommended for patients of this age once mammography has begun Recommendation: Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "mammogram_results": "Density: ACR Category B: There are scattered areas of fibroglandular density. No mass, architectural distortion or microcalcifications IMPRESSION: No mammographic evidence of malignancy. Annual screening is recommended for patients of this age once mammography has begun Recommendation: Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "patient_history": "Screening. Aunt diagnosed with postmenopausal breast cancer. COMPARISON: None. Baseline. FINDINGS: Density: ACR Category B: There are scattered areas of fibroglandular density. No mass, architectural distortion or microcalcifications IMPRESSION: No mammographic evidence of malignancy. Annual screening is recommended for patients of this age once mammography has begun Recommendation: Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "patient_name": "Deidentified Patient", "recommendation": "Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-26 07:32:35,523 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.doc_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.doc_metadata AS reports_doc_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('f2380bad50e7184e91eef3da0feb3e4512e6226ccd4dcbb7570d90026ec09389',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 07:32:35,523 - INFO - Extraction complete for Eng Example 4.pdf
2025-02-26 07:32:35,523 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores']
2025-02-26 07:32:35,523 - INFO - Patient name: Deidentified Patient
2025-02-26 07:32:35,523 - INFO - Exam date: 25
2025-02-26 07:32:35,523 - INFO - BIRADS score: BIRADS mentioned
2025-02-26 07:32:35,523 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.doc_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.doc_metadata AS reports_doc_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('0a7c42ea769013e0424931c95b81c7caec3e9862fad9a3f8ed6ae64fd831c1d5', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 07:32:35,681 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 07:32:36,893 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 07:32:37,035 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 07:32:38,109 - INFO - Extracted text from page 2 using OCR fallback
2025-02-26 07:32:38,109 - INFO - Combined text length: 1585 characters
2025-02-26 07:32:38,109 - INFO - Text sample: PROTECTED B CFHS/SSFC Patient: Scan-Mammo DIAGNOSTIC Document Date: 2023-05-05 05/11/2023 12:07PM 5063677051 HIGGS PAGE 03/04 May 05 2023, MAMMO - Diagnostic oF | HEALTH L and Upper. River Valley Area...
2025-02-26 07:32:38,109 - INFO - Document is deidentified, using standard patient name
2025-02-26 07:32:38,113 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 07:32:38,113 - INFO - Updated birads_score from fallback: BIRADS 1-2
2025-02-26 07:32:38,113 - INFO - Extraction results: {"birads_score": "BIRADS 1-2", "document_date": "2023-05-05", "document_type": "Mammo", "electronically_signed_by": "Cynthia Theriault, FRCPC", "exam_date": "2023-05-11", "impression_result": "Stable mammogram. nagative for malignancy. Cynthia Theriault, FRCPC eee THIS IS AN. REPORT 05/05/2023 4:43 PM: Theriault, MD, Date Dictated: pm, Date Transcribed: 05-May-2033 4:43: pm   PAGE 1 Higga May contain confidential info Page 1 of 2 RID cot 15 lime May. 11, 2023 1:09PM No. 8783 ; . . Page: 22 Printed on: 2024- 08 01 14:17 PROTEGE B g Printed by: Natalie Paille", "mammogram_results": "breasts were imaged with standard and pushed back viewa. The parenchyma danse, category C. No of architectural clusters of suspicious or abnormal, are identified. impression: Stable mammogram. nagative for malignancy. Cynthia Theriault, FRCPC eee THIS IS AN. REPORT 05/05/2023 4:43 PM: Theriault, MD, Date Dictated: pm, Date Transcribed: 05-May-2033 4:43: pm   PAGE 1 Higga May contain confidential info Page 1 of 2 RID cot 15 lime May. 11, 2023 1:09PM No. 8783 ; . . Page: 22 Printed on: 2024- 08 01 14:17 PROTEGE B g Printed by: Natalie Paille", "patient_history": "Not Available", "patient_name": "Higgs Riggs, Jillian", "recommendation": "Not Available", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}, "requesting_doctor": "Higgs Riggs, Jillian"}
2025-02-26 07:32:38,114 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.doc_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.doc_metadata AS reports_doc_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('0a7c42ea769013e0424931c95b81c7caec3e9862fad9a3f8ed6ae64fd831c1d5',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 07:32:38,114 - INFO - Extraction complete for Eng Example 1.pdf
2025-02-26 07:32:38,114 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores', 'requesting_doctor']
2025-02-26 07:32:38,114 - INFO - Patient name: Higgs Riggs, Jillian
2025-02-26 07:32:38,114 - INFO - Exam date: 2023-05-11
2025-02-26 07:32:38,114 - INFO - BIRADS score: BIRADS 1-2
2025-02-26 07:32:38,116 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.doc_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.doc_metadata AS reports_doc_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('c08f8370a5d692579c1a41d137cbe5358c8ea3803d53543919686b7973c0e4a4', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 07:32:38,273 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 07:32:39,346 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 07:32:39,473 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 07:32:40,173 - INFO - Extracted text from page 2 using OCR fallback
2025-02-26 07:32:40,173 - INFO - Combined text length: 2010 characters
2025-02-26 07:32:40,173 - INFO - Text sample: PROTECTED B CFHS/SSFC Patient: Scan-Mammo (B) Diagnostic Document Date: 2021-12-23 MIC Medical Imaging Te 97808734 184 9974241 Page 2 MEDICAL IMAGING NP Patricia Malott CFB - Edmonton PO BOX 10500 STN...
2025-02-26 07:32:40,173 - INFO - Document is deidentified, using standard patient name
2025-02-26 07:32:40,178 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 07:32:40,178 - INFO - Updated birads_score from fallback: BIRADS 1-2
2025-02-26 07:32:40,178 - INFO - Extraction results: {"birads_score": "BIRADS 1-2", "document_date": "2021-12-23", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "23", "impression_result": "No mammographic or sonographic evidence of malignancy. No worrisome to account for the patient's concerns. BI-RADS: 1: Negative. Recommendation(s): Screening mammography recommended in 1 year. Electronically Signed: Dr. Hector Aguilar, FRCPC 12/23/2021 3:33 PM MST Page 1 of 2 Printed on: 2022-09-09 07:51 Printed by: Natalie Paille PROTEGE B Page: 17", "mammogram_results": "Not Available", "patient_history": "Intermittent pain in right breast. History augmentation BILATERAL DIAGNOSTIC MAMMOGRAPHY WITH TOMOSYNTHESIS - IMPLANTS ULTRASOUND RIGHT BREAST History: The patient describes intermittent pain in the right breast approximately 9 o'clock the last six months. No or family history of breast cancer. Mammogram: This is a baseline study. The background breast parenchyma is almost entirely fat replaced (ACR category A). Bilateral retropectoral silicone implants are seen. These appear intact with a normal contour. No suspicious mass, architectural distortion, or suspicious microcalcifications in either breast. Ultrasound: Ultrasound of the area of pain demonstrates normal breast tissue with no suspicious abnormality. IMPRESSION: No mammographic or sonographic evidence of malignancy. No worrisome to account for the patient's concerns. BI-RADS: 1: Negative. Recommendation(s): Screening mammography recommended in 1 year. Electronically Signed: Dr. Hector Aguilar, FRCPC 12/23/2021 3:33 PM MST Page 1 of 2 Printed on: 2022-09-09 07:51 Printed by: Natalie Paille PROTEGE B Page: 17", "patient_name": "Deidentified Patient", "recommendation": "(s): Screening mammography recommended in 1 year. Electronically Signed: Dr. Hector Aguilar, FRCPC 12/23/2021 3:33 PM MST Page 1 of 2 Printed on: 2022-09-09 07:51 Printed by: Natalie Paille PROTEGE B Page: 17", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-26 07:32:40,178 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.doc_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.doc_metadata AS reports_doc_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('c08f8370a5d692579c1a41d137cbe5358c8ea3803d53543919686b7973c0e4a4',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 07:32:40,178 - INFO - Extraction complete for Eng Example 2.pdf
2025-02-26 07:32:40,178 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores']
2025-02-26 07:32:40,178 - INFO - Patient name: Deidentified Patient
2025-02-26 07:32:40,178 - INFO - Exam date: 23
2025-02-26 07:32:40,178 - INFO - BIRADS score: BIRADS 1-2
2025-02-26 07:32:40,813 - ERROR - Database schema update error: Not an executable object: "\n                SELECT name FROM sqlite_master \n                WHERE type='table' AND name='reports'\n            "
2025-02-26 07:32:40,813 - INFO - Database initialized successfully
2025-02-26 07:32:40,823 - ERROR - Analytics error: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 864, in main
    result = session.execute("SELECT * FROM reports")
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2149, in _execute_internal
    statement = coercions.expect(roles.StatementRole, statement)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 395, in expect
    resolved = impl._literal_coercion(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 621, in _literal_coercion
    return self._text_coercion(element, argname, **kw)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 614, in _text_coercion
    return _no_text_coercion(element, argname)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 584, in _no_text_coercion
    raise exc_cls(
sqlalchemy.exc.ArgumentError: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
2025-02-26 07:32:40,823 - ERROR - Database management error: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 1095, in main
    result = session.execute("SELECT * FROM reports")
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2149, in _execute_internal
    statement = coercions.expect(roles.StatementRole, statement)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 395, in expect
    resolved = impl._literal_coercion(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 621, in _literal_coercion
    return self._text_coercion(element, argname, **kw)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 614, in _text_coercion
    return _no_text_coercion(element, argname)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 584, in _no_text_coercion
    raise exc_cls(
sqlalchemy.exc.ArgumentError: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
2025-02-26 07:42:21,864 - ERROR - Database schema update error: Not an executable object: "\n                SELECT name FROM sqlite_master \n                WHERE type='table' AND name='reports'\n            "
2025-02-26 07:42:21,865 - INFO - Database initialized successfully
2025-02-26 07:42:21,964 - ERROR - Analytics error: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 864, in main
    result = session.execute("SELECT * FROM reports")
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2149, in _execute_internal
    statement = coercions.expect(roles.StatementRole, statement)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 395, in expect
    resolved = impl._literal_coercion(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 621, in _literal_coercion
    return self._text_coercion(element, argname, **kw)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 614, in _text_coercion
    return _no_text_coercion(element, argname)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 584, in _no_text_coercion
    raise exc_cls(
sqlalchemy.exc.ArgumentError: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
2025-02-26 07:42:21,990 - ERROR - Database management error: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 1095, in main
    result = session.execute("SELECT * FROM reports")
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2149, in _execute_internal
    statement = coercions.expect(roles.StatementRole, statement)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 395, in expect
    resolved = impl._literal_coercion(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 621, in _literal_coercion
    return self._text_coercion(element, argname, **kw)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 614, in _text_coercion
    return _no_text_coercion(element, argname)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 584, in _no_text_coercion
    raise exc_cls(
sqlalchemy.exc.ArgumentError: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
2025-02-26 07:42:24,707 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.doc_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.doc_metadata AS reports_doc_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('0a7c42ea769013e0424931c95b81c7caec3e9862fad9a3f8ed6ae64fd831c1d5', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 07:42:25,054 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 07:42:26,674 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 07:42:26,834 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 07:42:28,004 - INFO - Extracted text from page 2 using OCR fallback
2025-02-26 07:42:28,004 - INFO - Combined text length: 1585 characters
2025-02-26 07:42:28,004 - INFO - Text sample: PROTECTED B CFHS/SSFC Patient: Scan-Mammo DIAGNOSTIC Document Date: 2023-05-05 05/11/2023 12:07PM 5063677051 HIGGS PAGE 03/04 May 05 2023, MAMMO - Diagnostic oF | HEALTH L and Upper. River Valley Area...
2025-02-26 07:42:28,004 - INFO - Document is deidentified, using standard patient name
2025-02-26 07:42:28,034 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 07:42:28,034 - INFO - Updated birads_score from fallback: BIRADS 1-2
2025-02-26 07:42:28,034 - INFO - Extraction results: {"birads_score": "BIRADS 1-2", "document_date": "2023-05-05", "document_type": "Mammo", "electronically_signed_by": "Cynthia Theriault, FRCPC", "exam_date": "2023-05-11", "impression_result": "Stable mammogram. nagative for malignancy. Cynthia Theriault, FRCPC eee THIS IS AN. REPORT 05/05/2023 4:43 PM: Theriault, MD, Date Dictated: pm, Date Transcribed: 05-May-2033 4:43: pm   PAGE 1 Higga May contain confidential info Page 1 of 2 RID cot 15 lime May. 11, 2023 1:09PM No. 8783 ; . . Page: 22 Printed on: 2024- 08 01 14:17 PROTEGE B g Printed by: Natalie Paille", "mammogram_results": "breasts were imaged with standard and pushed back viewa. The parenchyma danse, category C. No of architectural clusters of suspicious or abnormal, are identified. impression: Stable mammogram. nagative for malignancy. Cynthia Theriault, FRCPC eee THIS IS AN. REPORT 05/05/2023 4:43 PM: Theriault, MD, Date Dictated: pm, Date Transcribed: 05-May-2033 4:43: pm   PAGE 1 Higga May contain confidential info Page 1 of 2 RID cot 15 lime May. 11, 2023 1:09PM No. 8783 ; . . Page: 22 Printed on: 2024- 08 01 14:17 PROTEGE B g Printed by: Natalie Paille", "patient_history": "Not Available", "patient_name": "Higgs Riggs, Jillian", "recommendation": "Not Available", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}, "requesting_doctor": "Higgs Riggs, Jillian"}
2025-02-26 07:42:28,034 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.doc_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.doc_metadata AS reports_doc_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('0a7c42ea769013e0424931c95b81c7caec3e9862fad9a3f8ed6ae64fd831c1d5',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 07:42:28,034 - INFO - Extraction complete for Eng Example 1.pdf
2025-02-26 07:42:28,034 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores', 'requesting_doctor']
2025-02-26 07:42:28,034 - INFO - Patient name: Higgs Riggs, Jillian
2025-02-26 07:42:28,034 - INFO - Exam date: 2023-05-11
2025-02-26 07:42:28,034 - INFO - BIRADS score: BIRADS 1-2
2025-02-26 07:42:28,042 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.doc_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.doc_metadata AS reports_doc_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('c08f8370a5d692579c1a41d137cbe5358c8ea3803d53543919686b7973c0e4a4', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 07:42:28,194 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 07:42:31,387 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 07:42:31,530 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 07:42:33,114 - INFO - Extracted text from page 2 using OCR fallback
2025-02-26 07:42:33,114 - INFO - Combined text length: 2010 characters
2025-02-26 07:42:33,114 - INFO - Text sample: PROTECTED B CFHS/SSFC Patient: Scan-Mammo (B) Diagnostic Document Date: 2021-12-23 MIC Medical Imaging Te 97808734 184 9974241 Page 2 MEDICAL IMAGING NP Patricia Malott CFB - Edmonton PO BOX 10500 STN...
2025-02-26 07:42:33,114 - INFO - Document is deidentified, using standard patient name
2025-02-26 07:42:33,494 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 07:42:33,494 - INFO - Updated birads_score from fallback: BIRADS 1-2
2025-02-26 07:42:33,494 - INFO - Extraction results: {"birads_score": "BIRADS 1-2", "document_date": "2021-12-23", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "23", "impression_result": "No mammographic or sonographic evidence of malignancy. No worrisome to account for the patient's concerns. BI-RADS: 1: Negative. Recommendation(s): Screening mammography recommended in 1 year. Electronically Signed: Dr. Hector Aguilar, FRCPC 12/23/2021 3:33 PM MST Page 1 of 2 Printed on: 2022-09-09 07:51 Printed by: Natalie Paille PROTEGE B Page: 17", "mammogram_results": "Not Available", "patient_history": "Intermittent pain in right breast. History augmentation BILATERAL DIAGNOSTIC MAMMOGRAPHY WITH TOMOSYNTHESIS - IMPLANTS ULTRASOUND RIGHT BREAST History: The patient describes intermittent pain in the right breast approximately 9 o'clock the last six months. No or family history of breast cancer. Mammogram: This is a baseline study. The background breast parenchyma is almost entirely fat replaced (ACR category A). Bilateral retropectoral silicone implants are seen. These appear intact with a normal contour. No suspicious mass, architectural distortion, or suspicious microcalcifications in either breast. Ultrasound: Ultrasound of the area of pain demonstrates normal breast tissue with no suspicious abnormality. IMPRESSION: No mammographic or sonographic evidence of malignancy. No worrisome to account for the patient's concerns. BI-RADS: 1: Negative. Recommendation(s): Screening mammography recommended in 1 year. Electronically Signed: Dr. Hector Aguilar, FRCPC 12/23/2021 3:33 PM MST Page 1 of 2 Printed on: 2022-09-09 07:51 Printed by: Natalie Paille PROTEGE B Page: 17", "patient_name": "Deidentified Patient", "recommendation": "(s): Screening mammography recommended in 1 year. Electronically Signed: Dr. Hector Aguilar, FRCPC 12/23/2021 3:33 PM MST Page 1 of 2 Printed on: 2022-09-09 07:51 Printed by: Natalie Paille PROTEGE B Page: 17", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-26 07:42:33,516 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.doc_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.doc_metadata AS reports_doc_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('c08f8370a5d692579c1a41d137cbe5358c8ea3803d53543919686b7973c0e4a4',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 07:42:33,516 - INFO - Extraction complete for Eng Example 2.pdf
2025-02-26 07:42:33,518 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores']
2025-02-26 07:42:33,518 - INFO - Patient name: Deidentified Patient
2025-02-26 07:42:33,518 - INFO - Exam date: 23
2025-02-26 07:42:33,518 - INFO - BIRADS score: BIRADS 1-2
2025-02-26 07:42:33,524 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.doc_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.doc_metadata AS reports_doc_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('bdc1571aa41f7e75a31d204a3e715c0a4f915679769485d604fdb95f9219d4e6', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 07:42:33,684 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 07:42:35,194 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 07:42:35,194 - INFO - Combined text length: 1254 characters
2025-02-26 07:42:35,194 - INFO - Text sample: PROTECTED B CFHS/SSFC Scan-Mammo B Screening Document Date: 2023-07-19 To: Page: 1 of 1 2023-07-19 13:31:10 EDT (780}450-9551 From: MIC Medica! Imaging 2023-07-19 Wed 11:30 Medical Imaging Consultants...
2025-02-26 07:42:35,194 - INFO - Document is deidentified, using standard patient name
2025-02-26 07:42:35,202 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 07:42:35,202 - INFO - Updated birads_score from fallback: BIRADS 4-5
2025-02-26 07:42:35,202 - INFO - Extraction results: {"birads_score": "BIRADS 4-5", "document_date": "2023-07-19", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "19", "impression_result": "Na mammographic evidence of malignancy. Screening mammography recommended in 1-2 years. Upcoming ABUS will be reported separately Recommendation: Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "mammogram_results": "Density: ACR C: The breasts are heterogeneously dense, which may obscure small masses. Bilateral retropectoral silicone implants without complication. No conceming mass, architectural distortion or suspicious microcalcifications IMPRESSION: Na mammographic evidence of malignancy. Screening mammography recommended in 1-2 years. Upcoming ABUS will be reported separately Recommendation: Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "patient_history": "Breast cancer screening, no symptoms. Family history breast ca, aunt. Breast augmentation 2013, last mammogram 2018. Compared to previous exams there has been no adverse interval change. FINDINGS: Density: ACR C: The breasts are heterogeneously dense, which may obscure small masses. Bilateral retropectoral silicone implants without complication. No conceming mass, architectural distortion or suspicious microcalcifications IMPRESSION: Na mammographic evidence of malignancy. Screening mammography recommended in 1-2 years. Upcoming ABUS will be reported separately Recommendation: Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "patient_name": "Deidentified Patient", "recommendation": "Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-26 07:42:35,202 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.doc_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.doc_metadata AS reports_doc_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('bdc1571aa41f7e75a31d204a3e715c0a4f915679769485d604fdb95f9219d4e6',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 07:42:35,202 - INFO - Extraction complete for Eng Example 3.pdf
2025-02-26 07:42:35,204 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores']
2025-02-26 07:42:35,204 - INFO - Patient name: Deidentified Patient
2025-02-26 07:42:35,204 - INFO - Exam date: 19
2025-02-26 07:42:35,204 - INFO - BIRADS score: BIRADS 4-5
2025-02-26 07:42:35,204 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.doc_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.doc_metadata AS reports_doc_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('f2380bad50e7184e91eef3da0feb3e4512e6226ccd4dcbb7570d90026ec09389', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 07:42:35,374 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 07:42:36,620 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 07:42:36,620 - INFO - Combined text length: 1499 characters
2025-02-26 07:42:36,620 - INFO - Text sample: Patient: Scan-Mammo Bilat Screen w/ Tomosynthesis Ta: Printed on: Printed by: PROTECTED B Page: 1 of 1 2023-10-25 16:00:16 EDT {780}450-9551 From: MIC Medical Imaging 2023-10-25 Wed 13:58 Medical Imag...
2025-02-26 07:42:36,620 - INFO - Document is deidentified, using standard patient name
2025-02-26 07:42:36,624 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 07:42:36,624 - INFO - Updated birads_score from fallback: BIRADS mentioned
2025-02-26 07:42:36,626 - INFO - Extraction results: {"birads_score": "BIRADS mentioned", "document_date": "2023-10-25", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "25", "impression_result": "No mammographic evidence of malignancy. Annual screening is recommended for patients of this age once mammography has begun Recommendation: Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "mammogram_results": "Density: ACR Category B: There are scattered areas of fibroglandular density. No mass, architectural distortion or microcalcifications IMPRESSION: No mammographic evidence of malignancy. Annual screening is recommended for patients of this age once mammography has begun Recommendation: Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "patient_history": "Screening. Aunt diagnosed with postmenopausal breast cancer. COMPARISON: None. Baseline. FINDINGS: Density: ACR Category B: There are scattered areas of fibroglandular density. No mass, architectural distortion or microcalcifications IMPRESSION: No mammographic evidence of malignancy. Annual screening is recommended for patients of this age once mammography has begun Recommendation: Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "patient_name": "Deidentified Patient", "recommendation": "Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-26 07:42:36,626 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.doc_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.doc_metadata AS reports_doc_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('f2380bad50e7184e91eef3da0feb3e4512e6226ccd4dcbb7570d90026ec09389',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 07:42:36,626 - INFO - Extraction complete for Eng Example 4.pdf
2025-02-26 07:42:36,626 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores']
2025-02-26 07:42:36,626 - INFO - Patient name: Deidentified Patient
2025-02-26 07:42:36,626 - INFO - Exam date: 25
2025-02-26 07:42:36,626 - INFO - BIRADS score: BIRADS mentioned
2025-02-26 07:42:37,325 - ERROR - Database schema update error: Not an executable object: "\n                SELECT name FROM sqlite_master \n                WHERE type='table' AND name='reports'\n            "
2025-02-26 07:42:37,325 - INFO - Database initialized successfully
2025-02-26 07:42:37,325 - ERROR - Analytics error: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 864, in main
    result = session.execute("SELECT * FROM reports")
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2149, in _execute_internal
    statement = coercions.expect(roles.StatementRole, statement)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 395, in expect
    resolved = impl._literal_coercion(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 621, in _literal_coercion
    return self._text_coercion(element, argname, **kw)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 614, in _text_coercion
    return _no_text_coercion(element, argname)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 584, in _no_text_coercion
    raise exc_cls(
sqlalchemy.exc.ArgumentError: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
2025-02-26 07:42:37,344 - ERROR - Database management error: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 1095, in main
    result = session.execute("SELECT * FROM reports")
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2149, in _execute_internal
    statement = coercions.expect(roles.StatementRole, statement)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 395, in expect
    resolved = impl._literal_coercion(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 621, in _literal_coercion
    return self._text_coercion(element, argname, **kw)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 614, in _text_coercion
    return _no_text_coercion(element, argname)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 584, in _no_text_coercion
    raise exc_cls(
sqlalchemy.exc.ArgumentError: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
2025-02-26 07:57:56,199 - ERROR - Database schema update error: Not an executable object: "\n                SELECT name FROM sqlite_master \n                WHERE type='table' AND name='reports'\n            "
2025-02-26 07:57:56,205 - INFO - Database initialized successfully
2025-02-26 07:57:56,327 - ERROR - Analytics error: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 861, in main
    result = session.execute("SELECT * FROM reports")
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2149, in _execute_internal
    statement = coercions.expect(roles.StatementRole, statement)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 395, in expect
    resolved = impl._literal_coercion(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 621, in _literal_coercion
    return self._text_coercion(element, argname, **kw)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 614, in _text_coercion
    return _no_text_coercion(element, argname)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 584, in _no_text_coercion
    raise exc_cls(
sqlalchemy.exc.ArgumentError: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
2025-02-26 07:57:56,356 - ERROR - Database management error: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 1092, in main
    result = session.execute("SELECT * FROM reports")
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2149, in _execute_internal
    statement = coercions.expect(roles.StatementRole, statement)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 395, in expect
    resolved = impl._literal_coercion(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 621, in _literal_coercion
    return self._text_coercion(element, argname, **kw)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 614, in _text_coercion
    return _no_text_coercion(element, argname)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 584, in _no_text_coercion
    raise exc_cls(
sqlalchemy.exc.ArgumentError: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
2025-02-26 07:58:15,615 - ERROR - Database schema update error: Not an executable object: "\n                SELECT name FROM sqlite_master \n                WHERE type='table' AND name='reports'\n            "
2025-02-26 07:58:15,615 - INFO - Database initialized successfully
2025-02-26 07:58:15,625 - ERROR - Analytics error: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 861, in main
    result = session.execute("SELECT * FROM reports")
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2149, in _execute_internal
    statement = coercions.expect(roles.StatementRole, statement)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 395, in expect
    resolved = impl._literal_coercion(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 621, in _literal_coercion
    return self._text_coercion(element, argname, **kw)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 614, in _text_coercion
    return _no_text_coercion(element, argname)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 584, in _no_text_coercion
    raise exc_cls(
sqlalchemy.exc.ArgumentError: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
2025-02-26 07:58:15,635 - ERROR - Database management error: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 1092, in main
    result = session.execute("SELECT * FROM reports")
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2149, in _execute_internal
    statement = coercions.expect(roles.StatementRole, statement)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 395, in expect
    resolved = impl._literal_coercion(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 621, in _literal_coercion
    return self._text_coercion(element, argname, **kw)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 614, in _text_coercion
    return _no_text_coercion(element, argname)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 584, in _no_text_coercion
    raise exc_cls(
sqlalchemy.exc.ArgumentError: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
2025-02-26 07:58:31,195 - ERROR - Database schema update error: Not an executable object: "\n                SELECT name FROM sqlite_master \n                WHERE type='table' AND name='reports'\n            "
2025-02-26 07:58:31,195 - INFO - Database initialized successfully
2025-02-26 07:58:31,205 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.doc_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.doc_metadata AS reports_doc_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('bdc1571aa41f7e75a31d204a3e715c0a4f915679769485d604fdb95f9219d4e6', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 07:58:31,526 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 07:58:32,885 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 07:58:32,885 - INFO - Combined text length: 1254 characters
2025-02-26 07:58:32,885 - INFO - Text sample: PROTECTED B CFHS/SSFC Scan-Mammo B Screening Document Date: 2023-07-19 To: Page: 1 of 1 2023-07-19 13:31:10 EDT (780}450-9551 From: MIC Medica! Imaging 2023-07-19 Wed 11:30 Medical Imaging Consultants...
2025-02-26 07:58:32,885 - INFO - Document is deidentified, using standard patient name
2025-02-26 07:58:32,916 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 07:58:32,923 - INFO - Updated birads_score from fallback: BIRADS 4-5
2025-02-26 07:58:32,923 - INFO - Extraction results: {"birads_score": "BIRADS 4-5", "document_date": "2023-07-19", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "19", "impression_result": "Na mammographic evidence of malignancy. Screening mammography recommended in 1-2 years. Upcoming ABUS will be reported separately Recommendation: Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "mammogram_results": "Density: ACR C: The breasts are heterogeneously dense, which may obscure small masses. Bilateral retropectoral silicone implants without complication. No conceming mass, architectural distortion or suspicious microcalcifications IMPRESSION: Na mammographic evidence of malignancy. Screening mammography recommended in 1-2 years. Upcoming ABUS will be reported separately Recommendation: Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "patient_history": "Breast cancer screening, no symptoms. Family history breast ca, aunt. Breast augmentation 2013, last mammogram 2018. Compared to previous exams there has been no adverse interval change. FINDINGS: Density: ACR C: The breasts are heterogeneously dense, which may obscure small masses. Bilateral retropectoral silicone implants without complication. No conceming mass, architectural distortion or suspicious microcalcifications IMPRESSION: Na mammographic evidence of malignancy. Screening mammography recommended in 1-2 years. Upcoming ABUS will be reported separately Recommendation: Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "patient_name": "Deidentified Patient", "recommendation": "Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-26 07:58:32,926 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.doc_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.doc_metadata AS reports_doc_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('bdc1571aa41f7e75a31d204a3e715c0a4f915679769485d604fdb95f9219d4e6',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 07:58:32,926 - INFO - Extraction complete for Eng Example 3.pdf
2025-02-26 07:58:32,926 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores']
2025-02-26 07:58:32,926 - INFO - Patient name: Deidentified Patient
2025-02-26 07:58:32,926 - INFO - Exam date: 19
2025-02-26 07:58:32,926 - INFO - BIRADS score: BIRADS 4-5
2025-02-26 07:58:32,926 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.doc_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.doc_metadata AS reports_doc_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('f2380bad50e7184e91eef3da0feb3e4512e6226ccd4dcbb7570d90026ec09389', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 07:58:33,115 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 07:58:34,315 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 07:58:34,321 - INFO - Combined text length: 1499 characters
2025-02-26 07:58:34,321 - INFO - Text sample: Patient: Scan-Mammo Bilat Screen w/ Tomosynthesis Ta: Printed on: Printed by: PROTECTED B Page: 1 of 1 2023-10-25 16:00:16 EDT {780}450-9551 From: MIC Medical Imaging 2023-10-25 Wed 13:58 Medical Imag...
2025-02-26 07:58:34,321 - INFO - Document is deidentified, using standard patient name
2025-02-26 07:58:34,323 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 07:58:34,323 - INFO - Updated birads_score from fallback: BIRADS mentioned
2025-02-26 07:58:34,326 - INFO - Extraction results: {"birads_score": "BIRADS mentioned", "document_date": "2023-10-25", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "25", "impression_result": "No mammographic evidence of malignancy. Annual screening is recommended for patients of this age once mammography has begun Recommendation: Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "mammogram_results": "Density: ACR Category B: There are scattered areas of fibroglandular density. No mass, architectural distortion or microcalcifications IMPRESSION: No mammographic evidence of malignancy. Annual screening is recommended for patients of this age once mammography has begun Recommendation: Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "patient_history": "Screening. Aunt diagnosed with postmenopausal breast cancer. COMPARISON: None. Baseline. FINDINGS: Density: ACR Category B: There are scattered areas of fibroglandular density. No mass, architectural distortion or microcalcifications IMPRESSION: No mammographic evidence of malignancy. Annual screening is recommended for patients of this age once mammography has begun Recommendation: Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "patient_name": "Deidentified Patient", "recommendation": "Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-26 07:58:34,326 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.doc_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.doc_metadata AS reports_doc_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('f2380bad50e7184e91eef3da0feb3e4512e6226ccd4dcbb7570d90026ec09389',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 07:58:34,326 - INFO - Extraction complete for Eng Example 4.pdf
2025-02-26 07:58:34,326 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores']
2025-02-26 07:58:34,326 - INFO - Patient name: Deidentified Patient
2025-02-26 07:58:34,326 - INFO - Exam date: 25
2025-02-26 07:58:34,326 - INFO - BIRADS score: BIRADS mentioned
2025-02-26 07:58:34,326 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.doc_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.doc_metadata AS reports_doc_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('0a7c42ea769013e0424931c95b81c7caec3e9862fad9a3f8ed6ae64fd831c1d5', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 07:58:34,505 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 07:58:35,805 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 07:58:35,965 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 07:58:37,133 - INFO - Extracted text from page 2 using OCR fallback
2025-02-26 07:58:37,133 - INFO - Combined text length: 1585 characters
2025-02-26 07:58:37,133 - INFO - Text sample: PROTECTED B CFHS/SSFC Patient: Scan-Mammo DIAGNOSTIC Document Date: 2023-05-05 05/11/2023 12:07PM 5063677051 HIGGS PAGE 03/04 May 05 2023, MAMMO - Diagnostic oF | HEALTH L and Upper. River Valley Area...
2025-02-26 07:58:37,133 - INFO - Document is deidentified, using standard patient name
2025-02-26 07:58:37,137 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 07:58:37,137 - INFO - Updated birads_score from fallback: BIRADS 1-2
2025-02-26 07:58:37,137 - INFO - Extraction results: {"birads_score": "BIRADS 1-2", "document_date": "2023-05-05", "document_type": "Mammo", "electronically_signed_by": "Cynthia Theriault, FRCPC", "exam_date": "2023-05-11", "impression_result": "Stable mammogram. nagative for malignancy. Cynthia Theriault, FRCPC eee THIS IS AN. REPORT 05/05/2023 4:43 PM: Theriault, MD, Date Dictated: pm, Date Transcribed: 05-May-2033 4:43: pm   PAGE 1 Higga May contain confidential info Page 1 of 2 RID cot 15 lime May. 11, 2023 1:09PM No. 8783 ; . . Page: 22 Printed on: 2024- 08 01 14:17 PROTEGE B g Printed by: Natalie Paille", "mammogram_results": "breasts were imaged with standard and pushed back viewa. The parenchyma danse, category C. No of architectural clusters of suspicious or abnormal, are identified. impression: Stable mammogram. nagative for malignancy. Cynthia Theriault, FRCPC eee THIS IS AN. REPORT 05/05/2023 4:43 PM: Theriault, MD, Date Dictated: pm, Date Transcribed: 05-May-2033 4:43: pm   PAGE 1 Higga May contain confidential info Page 1 of 2 RID cot 15 lime May. 11, 2023 1:09PM No. 8783 ; . . Page: 22 Printed on: 2024- 08 01 14:17 PROTEGE B g Printed by: Natalie Paille", "patient_history": "Not Available", "patient_name": "Higgs Riggs, Jillian", "recommendation": "Not Available", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}, "requesting_doctor": "Higgs Riggs, Jillian"}
2025-02-26 07:58:37,139 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.doc_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.doc_metadata AS reports_doc_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('0a7c42ea769013e0424931c95b81c7caec3e9862fad9a3f8ed6ae64fd831c1d5',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 07:58:37,139 - INFO - Extraction complete for Eng Example 1.pdf
2025-02-26 07:58:37,139 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores', 'requesting_doctor']
2025-02-26 07:58:37,139 - INFO - Patient name: Higgs Riggs, Jillian
2025-02-26 07:58:37,139 - INFO - Exam date: 2023-05-11
2025-02-26 07:58:37,139 - INFO - BIRADS score: BIRADS 1-2
2025-02-26 07:58:37,141 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.doc_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.doc_metadata AS reports_doc_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('c08f8370a5d692579c1a41d137cbe5358c8ea3803d53543919686b7973c0e4a4', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 07:58:37,309 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 07:58:38,598 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 07:58:38,755 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 07:58:39,506 - INFO - Extracted text from page 2 using OCR fallback
2025-02-26 07:58:39,506 - INFO - Combined text length: 2010 characters
2025-02-26 07:58:39,506 - INFO - Text sample: PROTECTED B CFHS/SSFC Patient: Scan-Mammo (B) Diagnostic Document Date: 2021-12-23 MIC Medical Imaging Te 97808734 184 9974241 Page 2 MEDICAL IMAGING NP Patricia Malott CFB - Edmonton PO BOX 10500 STN...
2025-02-26 07:58:39,506 - INFO - Document is deidentified, using standard patient name
2025-02-26 07:58:39,516 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 07:58:39,516 - INFO - Updated birads_score from fallback: BIRADS 1-2
2025-02-26 07:58:39,518 - INFO - Extraction results: {"birads_score": "BIRADS 1-2", "document_date": "2021-12-23", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "23", "impression_result": "No mammographic or sonographic evidence of malignancy. No worrisome to account for the patient's concerns. BI-RADS: 1: Negative. Recommendation(s): Screening mammography recommended in 1 year. Electronically Signed: Dr. Hector Aguilar, FRCPC 12/23/2021 3:33 PM MST Page 1 of 2 Printed on: 2022-09-09 07:51 Printed by: Natalie Paille PROTEGE B Page: 17", "mammogram_results": "Not Available", "patient_history": "Intermittent pain in right breast. History augmentation BILATERAL DIAGNOSTIC MAMMOGRAPHY WITH TOMOSYNTHESIS - IMPLANTS ULTRASOUND RIGHT BREAST History: The patient describes intermittent pain in the right breast approximately 9 o'clock the last six months. No or family history of breast cancer. Mammogram: This is a baseline study. The background breast parenchyma is almost entirely fat replaced (ACR category A). Bilateral retropectoral silicone implants are seen. These appear intact with a normal contour. No suspicious mass, architectural distortion, or suspicious microcalcifications in either breast. Ultrasound: Ultrasound of the area of pain demonstrates normal breast tissue with no suspicious abnormality. IMPRESSION: No mammographic or sonographic evidence of malignancy. No worrisome to account for the patient's concerns. BI-RADS: 1: Negative. Recommendation(s): Screening mammography recommended in 1 year. Electronically Signed: Dr. Hector Aguilar, FRCPC 12/23/2021 3:33 PM MST Page 1 of 2 Printed on: 2022-09-09 07:51 Printed by: Natalie Paille PROTEGE B Page: 17", "patient_name": "Deidentified Patient", "recommendation": "(s): Screening mammography recommended in 1 year. Electronically Signed: Dr. Hector Aguilar, FRCPC 12/23/2021 3:33 PM MST Page 1 of 2 Printed on: 2022-09-09 07:51 Printed by: Natalie Paille PROTEGE B Page: 17", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-26 07:58:39,518 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.doc_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.doc_metadata AS reports_doc_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('c08f8370a5d692579c1a41d137cbe5358c8ea3803d53543919686b7973c0e4a4',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 07:58:39,518 - INFO - Extraction complete for Eng Example 2.pdf
2025-02-26 07:58:39,518 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores']
2025-02-26 07:58:39,518 - INFO - Patient name: Deidentified Patient
2025-02-26 07:58:39,518 - INFO - Exam date: 23
2025-02-26 07:58:39,518 - INFO - BIRADS score: BIRADS 1-2
2025-02-26 07:58:39,605 - ERROR - Analytics error: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 861, in main
    result = session.execute("SELECT * FROM reports")
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2149, in _execute_internal
    statement = coercions.expect(roles.StatementRole, statement)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 395, in expect
    resolved = impl._literal_coercion(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 621, in _literal_coercion
    return self._text_coercion(element, argname, **kw)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 614, in _text_coercion
    return _no_text_coercion(element, argname)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 584, in _no_text_coercion
    raise exc_cls(
sqlalchemy.exc.ArgumentError: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
2025-02-26 07:58:39,605 - ERROR - Database management error: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 1092, in main
    result = session.execute("SELECT * FROM reports")
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2149, in _execute_internal
    statement = coercions.expect(roles.StatementRole, statement)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 395, in expect
    resolved = impl._literal_coercion(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 621, in _literal_coercion
    return self._text_coercion(element, argname, **kw)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 614, in _text_coercion
    return _no_text_coercion(element, argname)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 584, in _no_text_coercion
    raise exc_cls(
sqlalchemy.exc.ArgumentError: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
2025-02-26 08:00:53,668 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.doc_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.doc_metadata AS reports_doc_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('bdc1571aa41f7e75a31d204a3e715c0a4f915679769485d604fdb95f9219d4e6', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 08:00:53,851 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 08:00:55,066 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 08:00:55,066 - INFO - Combined text length: 1254 characters
2025-02-26 08:00:55,066 - INFO - Text sample: PROTECTED B CFHS/SSFC Scan-Mammo B Screening Document Date: 2023-07-19 To: Page: 1 of 1 2023-07-19 13:31:10 EDT (780}450-9551 From: MIC Medica! Imaging 2023-07-19 Wed 11:30 Medical Imaging Consultants...
2025-02-26 08:00:55,076 - INFO - Document is deidentified, using standard patient name
2025-02-26 08:00:55,077 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 08:00:55,077 - INFO - Updated birads_score from fallback: BIRADS 4-5
2025-02-26 08:00:55,077 - INFO - Extraction results: {"birads_score": "BIRADS 4-5", "document_date": "2023-07-19", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "19", "impression_result": "Na mammographic evidence of malignancy. Screening mammography recommended in 1-2 years. Upcoming ABUS will be reported separately Recommendation: Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "mammogram_results": "Density: ACR C: The breasts are heterogeneously dense, which may obscure small masses. Bilateral retropectoral silicone implants without complication. No conceming mass, architectural distortion or suspicious microcalcifications IMPRESSION: Na mammographic evidence of malignancy. Screening mammography recommended in 1-2 years. Upcoming ABUS will be reported separately Recommendation: Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "patient_history": "Breast cancer screening, no symptoms. Family history breast ca, aunt. Breast augmentation 2013, last mammogram 2018. Compared to previous exams there has been no adverse interval change. FINDINGS: Density: ACR C: The breasts are heterogeneously dense, which may obscure small masses. Bilateral retropectoral silicone implants without complication. No conceming mass, architectural distortion or suspicious microcalcifications IMPRESSION: Na mammographic evidence of malignancy. Screening mammography recommended in 1-2 years. Upcoming ABUS will be reported separately Recommendation: Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "patient_name": "Deidentified Patient", "recommendation": "Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-26 08:00:55,077 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.doc_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.doc_metadata AS reports_doc_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('bdc1571aa41f7e75a31d204a3e715c0a4f915679769485d604fdb95f9219d4e6',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 08:00:55,077 - INFO - Extraction complete for Eng Example 3.pdf
2025-02-26 08:00:55,077 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores']
2025-02-26 08:00:55,077 - INFO - Patient name: Deidentified Patient
2025-02-26 08:00:55,077 - INFO - Exam date: 19
2025-02-26 08:00:55,077 - INFO - BIRADS score: BIRADS 4-5
2025-02-26 08:00:55,086 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.doc_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.doc_metadata AS reports_doc_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('f2380bad50e7184e91eef3da0feb3e4512e6226ccd4dcbb7570d90026ec09389', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 08:00:55,256 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 08:00:56,476 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 08:00:56,476 - INFO - Combined text length: 1499 characters
2025-02-26 08:00:56,476 - INFO - Text sample: Patient: Scan-Mammo Bilat Screen w/ Tomosynthesis Ta: Printed on: Printed by: PROTECTED B Page: 1 of 1 2023-10-25 16:00:16 EDT {780}450-9551 From: MIC Medical Imaging 2023-10-25 Wed 13:58 Medical Imag...
2025-02-26 08:00:56,476 - INFO - Document is deidentified, using standard patient name
2025-02-26 08:00:56,486 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 08:00:56,488 - INFO - Updated birads_score from fallback: BIRADS mentioned
2025-02-26 08:00:56,488 - INFO - Extraction results: {"birads_score": "BIRADS mentioned", "document_date": "2023-10-25", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "25", "impression_result": "No mammographic evidence of malignancy. Annual screening is recommended for patients of this age once mammography has begun Recommendation: Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "mammogram_results": "Density: ACR Category B: There are scattered areas of fibroglandular density. No mass, architectural distortion or microcalcifications IMPRESSION: No mammographic evidence of malignancy. Annual screening is recommended for patients of this age once mammography has begun Recommendation: Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "patient_history": "Screening. Aunt diagnosed with postmenopausal breast cancer. COMPARISON: None. Baseline. FINDINGS: Density: ACR Category B: There are scattered areas of fibroglandular density. No mass, architectural distortion or microcalcifications IMPRESSION: No mammographic evidence of malignancy. Annual screening is recommended for patients of this age once mammography has begun Recommendation: Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "patient_name": "Deidentified Patient", "recommendation": "Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-26 08:00:56,488 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.doc_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.doc_metadata AS reports_doc_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('f2380bad50e7184e91eef3da0feb3e4512e6226ccd4dcbb7570d90026ec09389',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 08:00:56,488 - INFO - Extraction complete for Eng Example 4.pdf
2025-02-26 08:00:56,488 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores']
2025-02-26 08:00:56,488 - INFO - Patient name: Deidentified Patient
2025-02-26 08:00:56,488 - INFO - Exam date: 25
2025-02-26 08:00:56,488 - INFO - BIRADS score: BIRADS mentioned
2025-02-26 08:00:56,488 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.doc_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.doc_metadata AS reports_doc_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('0a7c42ea769013e0424931c95b81c7caec3e9862fad9a3f8ed6ae64fd831c1d5', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 08:00:56,656 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 08:00:57,973 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 08:00:58,126 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 08:00:59,296 - INFO - Extracted text from page 2 using OCR fallback
2025-02-26 08:00:59,296 - INFO - Combined text length: 1585 characters
2025-02-26 08:00:59,296 - INFO - Text sample: PROTECTED B CFHS/SSFC Patient: Scan-Mammo DIAGNOSTIC Document Date: 2023-05-05 05/11/2023 12:07PM 5063677051 HIGGS PAGE 03/04 May 05 2023, MAMMO - Diagnostic oF | HEALTH L and Upper. River Valley Area...
2025-02-26 08:00:59,296 - INFO - Document is deidentified, using standard patient name
2025-02-26 08:00:59,308 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 08:00:59,308 - INFO - Updated birads_score from fallback: BIRADS 1-2
2025-02-26 08:00:59,308 - INFO - Extraction results: {"birads_score": "BIRADS 1-2", "document_date": "2023-05-05", "document_type": "Mammo", "electronically_signed_by": "Cynthia Theriault, FRCPC", "exam_date": "2023-05-11", "impression_result": "Stable mammogram. nagative for malignancy. Cynthia Theriault, FRCPC eee THIS IS AN. REPORT 05/05/2023 4:43 PM: Theriault, MD, Date Dictated: pm, Date Transcribed: 05-May-2033 4:43: pm   PAGE 1 Higga May contain confidential info Page 1 of 2 RID cot 15 lime May. 11, 2023 1:09PM No. 8783 ; . . Page: 22 Printed on: 2024- 08 01 14:17 PROTEGE B g Printed by: Natalie Paille", "mammogram_results": "breasts were imaged with standard and pushed back viewa. The parenchyma danse, category C. No of architectural clusters of suspicious or abnormal, are identified. impression: Stable mammogram. nagative for malignancy. Cynthia Theriault, FRCPC eee THIS IS AN. REPORT 05/05/2023 4:43 PM: Theriault, MD, Date Dictated: pm, Date Transcribed: 05-May-2033 4:43: pm   PAGE 1 Higga May contain confidential info Page 1 of 2 RID cot 15 lime May. 11, 2023 1:09PM No. 8783 ; . . Page: 22 Printed on: 2024- 08 01 14:17 PROTEGE B g Printed by: Natalie Paille", "patient_history": "Not Available", "patient_name": "Higgs Riggs, Jillian", "recommendation": "Not Available", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}, "requesting_doctor": "Higgs Riggs, Jillian"}
2025-02-26 08:00:59,308 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.doc_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.doc_metadata AS reports_doc_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('0a7c42ea769013e0424931c95b81c7caec3e9862fad9a3f8ed6ae64fd831c1d5',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 08:00:59,308 - INFO - Extraction complete for Eng Example 1.pdf
2025-02-26 08:00:59,308 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores', 'requesting_doctor']
2025-02-26 08:00:59,308 - INFO - Patient name: Higgs Riggs, Jillian
2025-02-26 08:00:59,308 - INFO - Exam date: 2023-05-11
2025-02-26 08:00:59,308 - INFO - BIRADS score: BIRADS 1-2
2025-02-26 08:00:59,316 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.doc_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.doc_metadata AS reports_doc_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('c08f8370a5d692579c1a41d137cbe5358c8ea3803d53543919686b7973c0e4a4', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 08:00:59,611 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 08:01:00,846 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 08:01:00,996 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 08:01:01,740 - INFO - Extracted text from page 2 using OCR fallback
2025-02-26 08:01:01,740 - INFO - Combined text length: 2010 characters
2025-02-26 08:01:01,740 - INFO - Text sample: PROTECTED B CFHS/SSFC Patient: Scan-Mammo (B) Diagnostic Document Date: 2021-12-23 MIC Medical Imaging Te 97808734 184 9974241 Page 2 MEDICAL IMAGING NP Patricia Malott CFB - Edmonton PO BOX 10500 STN...
2025-02-26 08:01:01,740 - INFO - Document is deidentified, using standard patient name
2025-02-26 08:01:01,743 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 08:01:01,743 - INFO - Updated birads_score from fallback: BIRADS 1-2
2025-02-26 08:01:01,743 - INFO - Extraction results: {"birads_score": "BIRADS 1-2", "document_date": "2021-12-23", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "23", "impression_result": "No mammographic or sonographic evidence of malignancy. No worrisome to account for the patient's concerns. BI-RADS: 1: Negative. Recommendation(s): Screening mammography recommended in 1 year. Electronically Signed: Dr. Hector Aguilar, FRCPC 12/23/2021 3:33 PM MST Page 1 of 2 Printed on: 2022-09-09 07:51 Printed by: Natalie Paille PROTEGE B Page: 17", "mammogram_results": "Not Available", "patient_history": "Intermittent pain in right breast. History augmentation BILATERAL DIAGNOSTIC MAMMOGRAPHY WITH TOMOSYNTHESIS - IMPLANTS ULTRASOUND RIGHT BREAST History: The patient describes intermittent pain in the right breast approximately 9 o'clock the last six months. No or family history of breast cancer. Mammogram: This is a baseline study. The background breast parenchyma is almost entirely fat replaced (ACR category A). Bilateral retropectoral silicone implants are seen. These appear intact with a normal contour. No suspicious mass, architectural distortion, or suspicious microcalcifications in either breast. Ultrasound: Ultrasound of the area of pain demonstrates normal breast tissue with no suspicious abnormality. IMPRESSION: No mammographic or sonographic evidence of malignancy. No worrisome to account for the patient's concerns. BI-RADS: 1: Negative. Recommendation(s): Screening mammography recommended in 1 year. Electronically Signed: Dr. Hector Aguilar, FRCPC 12/23/2021 3:33 PM MST Page 1 of 2 Printed on: 2022-09-09 07:51 Printed by: Natalie Paille PROTEGE B Page: 17", "patient_name": "Deidentified Patient", "recommendation": "(s): Screening mammography recommended in 1 year. Electronically Signed: Dr. Hector Aguilar, FRCPC 12/23/2021 3:33 PM MST Page 1 of 2 Printed on: 2022-09-09 07:51 Printed by: Natalie Paille PROTEGE B Page: 17", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-26 08:01:01,743 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.doc_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.doc_metadata AS reports_doc_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('c08f8370a5d692579c1a41d137cbe5358c8ea3803d53543919686b7973c0e4a4',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 08:01:01,746 - INFO - Extraction complete for Eng Example 2.pdf
2025-02-26 08:01:01,746 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores']
2025-02-26 08:01:01,746 - INFO - Patient name: Deidentified Patient
2025-02-26 08:01:01,746 - INFO - Exam date: 23
2025-02-26 08:01:01,746 - INFO - BIRADS score: BIRADS 1-2
2025-02-26 08:01:02,436 - ERROR - Database schema update error: Not an executable object: "\n                SELECT name FROM sqlite_master \n                WHERE type='table' AND name='reports'\n            "
2025-02-26 08:01:02,436 - INFO - Database initialized successfully
2025-02-26 08:01:02,446 - ERROR - Analytics error: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 861, in main
    result = session.execute("SELECT * FROM reports")
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2149, in _execute_internal
    statement = coercions.expect(roles.StatementRole, statement)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 395, in expect
    resolved = impl._literal_coercion(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 621, in _literal_coercion
    return self._text_coercion(element, argname, **kw)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 614, in _text_coercion
    return _no_text_coercion(element, argname)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 584, in _no_text_coercion
    raise exc_cls(
sqlalchemy.exc.ArgumentError: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
2025-02-26 08:01:02,449 - ERROR - Database management error: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 1092, in main
    result = session.execute("SELECT * FROM reports")
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2149, in _execute_internal
    statement = coercions.expect(roles.StatementRole, statement)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 395, in expect
    resolved = impl._literal_coercion(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 621, in _literal_coercion
    return self._text_coercion(element, argname, **kw)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 614, in _text_coercion
    return _no_text_coercion(element, argname)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 584, in _no_text_coercion
    raise exc_cls(
sqlalchemy.exc.ArgumentError: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
2025-02-26 15:29:20,497 - INFO - Using cached results for Eng Example 2.pdf
2025-02-26 15:31:19,966 - INFO - Using cached results for Eng Example 3.pdf
2025-02-26 15:36:14,362 - INFO - Using cached results for Eng Example 3.pdf
2025-02-26 15:40:39,536 - ERROR - Database schema update error: Not an executable object: "\n                SELECT name FROM sqlite_master \n                WHERE type='table' AND name='reports'\n            "
2025-02-26 15:40:39,546 - INFO - Database initialized successfully
2025-02-26 15:40:39,887 - ERROR - Analytics error: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 867, in main
    result = session.execute("SELECT * FROM reports")
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2149, in _execute_internal
    statement = coercions.expect(roles.StatementRole, statement)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 395, in expect
    resolved = impl._literal_coercion(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 621, in _literal_coercion
    return self._text_coercion(element, argname, **kw)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 614, in _text_coercion
    return _no_text_coercion(element, argname)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 584, in _no_text_coercion
    raise exc_cls(
sqlalchemy.exc.ArgumentError: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
2025-02-26 15:40:39,951 - ERROR - Database management error: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 1098, in main
    result = session.execute("SELECT * FROM reports")
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2149, in _execute_internal
    statement = coercions.expect(roles.StatementRole, statement)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 395, in expect
    resolved = impl._literal_coercion(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 621, in _literal_coercion
    return self._text_coercion(element, argname, **kw)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 614, in _text_coercion
    return _no_text_coercion(element, argname)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 584, in _no_text_coercion
    raise exc_cls(
sqlalchemy.exc.ArgumentError: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
2025-02-26 15:40:56,068 - INFO - Using cached results for Eng Example 3.pdf
2025-02-26 15:40:56,076 - INFO - Using cached results for Eng Example 4.pdf
2025-02-26 15:40:56,076 - INFO - Using cached results for Eng Example 1.pdf
2025-02-26 15:40:56,086 - INFO - Using cached results for Eng Example 2.pdf
2025-02-26 15:40:57,717 - ERROR - Database schema update error: Not an executable object: "\n                SELECT name FROM sqlite_master \n                WHERE type='table' AND name='reports'\n            "
2025-02-26 15:40:57,717 - INFO - Database initialized successfully
2025-02-26 15:40:57,733 - ERROR - Analytics error: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 867, in main
    result = session.execute("SELECT * FROM reports")
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2149, in _execute_internal
    statement = coercions.expect(roles.StatementRole, statement)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 395, in expect
    resolved = impl._literal_coercion(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 621, in _literal_coercion
    return self._text_coercion(element, argname, **kw)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 614, in _text_coercion
    return _no_text_coercion(element, argname)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 584, in _no_text_coercion
    raise exc_cls(
sqlalchemy.exc.ArgumentError: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
2025-02-26 15:40:57,736 - ERROR - Database management error: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 1098, in main
    result = session.execute("SELECT * FROM reports")
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2149, in _execute_internal
    statement = coercions.expect(roles.StatementRole, statement)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 395, in expect
    resolved = impl._literal_coercion(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 621, in _literal_coercion
    return self._text_coercion(element, argname, **kw)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 614, in _text_coercion
    return _no_text_coercion(element, argname)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 584, in _no_text_coercion
    raise exc_cls(
sqlalchemy.exc.ArgumentError: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
2025-02-26 17:07:16,217 - ERROR - Database schema update error: Not an executable object: "\n                SELECT name FROM sqlite_master \n                WHERE type='table' AND name='reports'\n            "
2025-02-26 17:07:16,222 - INFO - Database initialized successfully
2025-02-26 17:07:16,457 - ERROR - Analytics error: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 868, in main
    result = session.execute("SELECT * FROM reports")
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2149, in _execute_internal
    statement = coercions.expect(roles.StatementRole, statement)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 395, in expect
    resolved = impl._literal_coercion(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 621, in _literal_coercion
    return self._text_coercion(element, argname, **kw)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 614, in _text_coercion
    return _no_text_coercion(element, argname)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 584, in _no_text_coercion
    raise exc_cls(
sqlalchemy.exc.ArgumentError: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
2025-02-26 17:07:16,507 - ERROR - Database management error: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 1099, in main
    result = session.execute("SELECT * FROM reports")
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2149, in _execute_internal
    statement = coercions.expect(roles.StatementRole, statement)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 395, in expect
    resolved = impl._literal_coercion(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 621, in _literal_coercion
    return self._text_coercion(element, argname, **kw)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 614, in _text_coercion
    return _no_text_coercion(element, argname)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 584, in _no_text_coercion
    raise exc_cls(
sqlalchemy.exc.ArgumentError: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
2025-02-26 17:14:55,775 - INFO - Using cached results for Eng Example 3.pdf
2025-02-26 17:14:55,777 - INFO - Using cached results for Eng Example 4.pdf
2025-02-26 17:14:55,777 - INFO - Using cached results for Eng Example 1.pdf
2025-02-26 17:14:55,777 - INFO - Using cached results for Eng Example 2.pdf
2025-02-26 17:14:56,583 - ERROR - Database schema update error: Not an executable object: "\n                SELECT name FROM sqlite_master \n                WHERE type='table' AND name='reports'\n            "
2025-02-26 17:14:56,583 - INFO - Database initialized successfully
2025-02-26 17:14:56,587 - ERROR - Analytics error: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 868, in main
    result = session.execute("SELECT * FROM reports")
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2149, in _execute_internal
    statement = coercions.expect(roles.StatementRole, statement)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 395, in expect
    resolved = impl._literal_coercion(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 621, in _literal_coercion
    return self._text_coercion(element, argname, **kw)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 614, in _text_coercion
    return _no_text_coercion(element, argname)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 584, in _no_text_coercion
    raise exc_cls(
sqlalchemy.exc.ArgumentError: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
2025-02-26 17:14:56,587 - ERROR - Database management error: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 1099, in main
    result = session.execute("SELECT * FROM reports")
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2149, in _execute_internal
    statement = coercions.expect(roles.StatementRole, statement)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 395, in expect
    resolved = impl._literal_coercion(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 621, in _literal_coercion
    return self._text_coercion(element, argname, **kw)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 614, in _text_coercion
    return _no_text_coercion(element, argname)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 584, in _no_text_coercion
    raise exc_cls(
sqlalchemy.exc.ArgumentError: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
2025-02-26 17:15:14,219 - INFO - Using cached results for Eng Example 3.pdf
2025-02-26 17:15:14,223 - INFO - Using cached results for Eng Example 4.pdf
2025-02-26 17:15:14,227 - INFO - Using cached results for Eng Example 1.pdf
2025-02-26 17:15:14,230 - INFO - Using cached results for Eng Example 2.pdf
2025-02-26 17:15:14,445 - ERROR - Database schema update error: Not an executable object: "\n                SELECT name FROM sqlite_master \n                WHERE type='table' AND name='reports'\n            "
2025-02-26 17:15:14,445 - INFO - Database initialized successfully
2025-02-26 17:15:14,457 - ERROR - Analytics error: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 868, in main
    result = session.execute("SELECT * FROM reports")
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2149, in _execute_internal
    statement = coercions.expect(roles.StatementRole, statement)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 395, in expect
    resolved = impl._literal_coercion(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 621, in _literal_coercion
    return self._text_coercion(element, argname, **kw)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 614, in _text_coercion
    return _no_text_coercion(element, argname)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 584, in _no_text_coercion
    raise exc_cls(
sqlalchemy.exc.ArgumentError: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
2025-02-26 17:15:14,462 - ERROR - Database management error: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 1099, in main
    result = session.execute("SELECT * FROM reports")
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2149, in _execute_internal
    statement = coercions.expect(roles.StatementRole, statement)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 395, in expect
    resolved = impl._literal_coercion(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 621, in _literal_coercion
    return self._text_coercion(element, argname, **kw)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 614, in _text_coercion
    return _no_text_coercion(element, argname)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 584, in _no_text_coercion
    raise exc_cls(
sqlalchemy.exc.ArgumentError: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
2025-02-26 17:15:15,667 - INFO - Using cached results for Eng Example 3.pdf
2025-02-26 17:15:15,667 - INFO - Using cached results for Eng Example 4.pdf
2025-02-26 17:15:15,667 - INFO - Using cached results for Eng Example 1.pdf
2025-02-26 17:15:15,678 - INFO - Using cached results for Eng Example 2.pdf
2025-02-26 17:15:15,917 - ERROR - Database schema update error: Not an executable object: "\n                SELECT name FROM sqlite_master \n                WHERE type='table' AND name='reports'\n            "
2025-02-26 17:15:15,917 - INFO - Database initialized successfully
2025-02-26 17:15:15,931 - INFO - Using cached results for Eng Example 3.pdf
2025-02-26 17:15:15,937 - INFO - Using cached results for Eng Example 4.pdf
2025-02-26 17:15:15,937 - INFO - Using cached results for Eng Example 1.pdf
2025-02-26 17:15:15,937 - INFO - Using cached results for Eng Example 2.pdf
2025-02-26 17:15:15,957 - ERROR - Analytics error: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 868, in main
    result = session.execute("SELECT * FROM reports")
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2149, in _execute_internal
    statement = coercions.expect(roles.StatementRole, statement)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 395, in expect
    resolved = impl._literal_coercion(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 621, in _literal_coercion
    return self._text_coercion(element, argname, **kw)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 614, in _text_coercion
    return _no_text_coercion(element, argname)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 584, in _no_text_coercion
    raise exc_cls(
sqlalchemy.exc.ArgumentError: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
2025-02-26 17:15:15,961 - ERROR - Database management error: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 1099, in main
    result = session.execute("SELECT * FROM reports")
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2365, in execute
    return self._execute_internal(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\orm\session.py", line 2149, in _execute_internal
    statement = coercions.expect(roles.StatementRole, statement)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 395, in expect
    resolved = impl._literal_coercion(
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 621, in _literal_coercion
    return self._text_coercion(element, argname, **kw)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 614, in _text_coercion
    return _no_text_coercion(element, argname)
  File "C:\Users\ybada\anaconda3\envs\mammo_ai\lib\site-packages\sqlalchemy\sql\coercions.py", line 584, in _no_text_coercion
    raise exc_cls(
sqlalchemy.exc.ArgumentError: Textual SQL expression 'SELECT * FROM reports' should be explicitly declared as text('SELECT * FROM reports')
2025-02-26 17:20:35,643 - INFO - Using cached results for Eng Example 2.pdf
2025-02-26 17:34:25,787 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('c08f8370a5d692579c1a41d137cbe5358c8ea3803d53543919686b7973c0e4a4', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 17:34:26,826 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 17:34:30,775 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 17:34:34,089 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 17:34:37,091 - INFO - Extracted text from page 2 using OCR fallback
2025-02-26 17:34:37,097 - INFO - Combined text length: 2010 characters
2025-02-26 17:34:37,097 - INFO - Text sample: PROTECTED B CFHS/SSFC Patient: Scan-Mammo (B) Diagnostic Document Date: 2021-12-23 MIC Medical Imaging Te 97808734 184 9974241 Page 2 MEDICAL IMAGING NP Patricia Malott CFB - Edmonton PO BOX 10500 STN...
2025-02-26 17:34:37,097 - INFO - Document is deidentified, using standard patient name
2025-02-26 17:34:37,358 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 17:34:37,365 - INFO - Updated birads_score from fallback: BIRADS 1-2
2025-02-26 17:34:37,365 - INFO - Extraction results: {"birads_score": "BIRADS 1-2", "document_date": "2021-12-23", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "23", "impression_result": "No mammographic or sonographic evidence of malignancy. No worrisome to account for the patient's concerns. BI-RADS: 1: Negative. Recommendation(s): Screening mammography recommended in 1 year. Electronically Signed: Dr. Hector Aguilar, FRCPC 12/23/2021 3:33 PM MST Page 1 of 2 Printed on: 2022-09-09 07:51 Printed by: Natalie Paille PROTEGE B Page: 17", "mammogram_results": "Not Available", "patient_history": "Intermittent pain in right breast. History augmentation BILATERAL DIAGNOSTIC MAMMOGRAPHY WITH TOMOSYNTHESIS - IMPLANTS ULTRASOUND RIGHT BREAST History: The patient describes intermittent pain in the right breast approximately 9 o'clock the last six months. No or family history of breast cancer. Mammogram: This is a baseline study. The background breast parenchyma is almost entirely fat replaced (ACR category A). Bilateral retropectoral silicone implants are seen. These appear intact with a normal contour. No suspicious mass, architectural distortion, or suspicious microcalcifications in either breast. Ultrasound: Ultrasound of the area of pain demonstrates normal breast tissue with no suspicious abnormality. IMPRESSION: No mammographic or sonographic evidence of malignancy. No worrisome to account for the patient's concerns. BI-RADS: 1: Negative. Recommendation(s): Screening mammography recommended in 1 year. Electronically Signed: Dr. Hector Aguilar, FRCPC 12/23/2021 3:33 PM MST Page 1 of 2 Printed on: 2022-09-09 07:51 Printed by: Natalie Paille PROTEGE B Page: 17", "patient_name": "Deidentified Patient", "recommendation": "(s): Screening mammography recommended in 1 year. Electronically Signed: Dr. Hector Aguilar, FRCPC 12/23/2021 3:33 PM MST Page 1 of 2 Printed on: 2022-09-09 07:51 Printed by: Natalie Paille PROTEGE B Page: 17", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-26 17:34:37,411 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('c08f8370a5d692579c1a41d137cbe5358c8ea3803d53543919686b7973c0e4a4',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 17:34:37,411 - INFO - Extraction complete for Eng Example 2.pdf
2025-02-26 17:34:37,411 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores']
2025-02-26 17:34:37,411 - INFO - Patient name: Deidentified Patient
2025-02-26 17:34:37,411 - INFO - Exam date: 23
2025-02-26 17:34:37,411 - INFO - BIRADS score: BIRADS 1-2
2025-02-26 17:34:37,502 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('bdc1571aa41f7e75a31d204a3e715c0a4f915679769485d604fdb95f9219d4e6', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 17:34:39,330 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 17:34:43,723 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 17:34:43,736 - INFO - Combined text length: 1254 characters
2025-02-26 17:34:43,736 - INFO - Text sample: PROTECTED B CFHS/SSFC Scan-Mammo B Screening Document Date: 2023-07-19 To: Page: 1 of 1 2023-07-19 13:31:10 EDT (780}450-9551 From: MIC Medica! Imaging 2023-07-19 Wed 11:30 Medical Imaging Consultants...
2025-02-26 17:34:43,738 - INFO - Document is deidentified, using standard patient name
2025-02-26 17:34:43,798 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 17:34:43,827 - INFO - Updated birads_score from fallback: BIRADS 4-5
2025-02-26 17:34:43,827 - INFO - Extraction results: {"birads_score": "BIRADS 4-5", "document_date": "2023-07-19", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "19", "impression_result": "Na mammographic evidence of malignancy. Screening mammography recommended in 1-2 years. Upcoming ABUS will be reported separately Recommendation: Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "mammogram_results": "Density: ACR C: The breasts are heterogeneously dense, which may obscure small masses. Bilateral retropectoral silicone implants without complication. No conceming mass, architectural distortion or suspicious microcalcifications IMPRESSION: Na mammographic evidence of malignancy. Screening mammography recommended in 1-2 years. Upcoming ABUS will be reported separately Recommendation: Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "patient_history": "Breast cancer screening, no symptoms. Family history breast ca, aunt. Breast augmentation 2013, last mammogram 2018. Compared to previous exams there has been no adverse interval change. FINDINGS: Density: ACR C: The breasts are heterogeneously dense, which may obscure small masses. Bilateral retropectoral silicone implants without complication. No conceming mass, architectural distortion or suspicious microcalcifications IMPRESSION: Na mammographic evidence of malignancy. Screening mammography recommended in 1-2 years. Upcoming ABUS will be reported separately Recommendation: Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "patient_name": "Deidentified Patient", "recommendation": "Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-26 17:34:43,889 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('bdc1571aa41f7e75a31d204a3e715c0a4f915679769485d604fdb95f9219d4e6',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 17:34:43,907 - INFO - Extraction complete for Eng Example 3.pdf
2025-02-26 17:34:43,907 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores']
2025-02-26 17:34:43,907 - INFO - Patient name: Deidentified Patient
2025-02-26 17:34:43,907 - INFO - Exam date: 19
2025-02-26 17:34:43,907 - INFO - BIRADS score: BIRADS 4-5
2025-02-26 17:34:43,945 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('f2380bad50e7184e91eef3da0feb3e4512e6226ccd4dcbb7570d90026ec09389', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 17:34:46,847 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 17:34:56,399 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 17:34:56,410 - INFO - Combined text length: 1499 characters
2025-02-26 17:34:56,411 - INFO - Text sample: Patient: Scan-Mammo Bilat Screen w/ Tomosynthesis Ta: Printed on: Printed by: PROTECTED B Page: 1 of 1 2023-10-25 16:00:16 EDT {780}450-9551 From: MIC Medical Imaging 2023-10-25 Wed 13:58 Medical Imag...
2025-02-26 17:34:56,413 - INFO - Document is deidentified, using standard patient name
2025-02-26 17:34:56,477 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 17:34:56,480 - INFO - Updated birads_score from fallback: BIRADS mentioned
2025-02-26 17:34:56,485 - INFO - Extraction results: {"birads_score": "BIRADS mentioned", "document_date": "2023-10-25", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "25", "impression_result": "No mammographic evidence of malignancy. Annual screening is recommended for patients of this age once mammography has begun Recommendation: Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "mammogram_results": "Density: ACR Category B: There are scattered areas of fibroglandular density. No mass, architectural distortion or microcalcifications IMPRESSION: No mammographic evidence of malignancy. Annual screening is recommended for patients of this age once mammography has begun Recommendation: Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "patient_history": "Screening. Aunt diagnosed with postmenopausal breast cancer. COMPARISON: None. Baseline. FINDINGS: Density: ACR Category B: There are scattered areas of fibroglandular density. No mass, architectural distortion or microcalcifications IMPRESSION: No mammographic evidence of malignancy. Annual screening is recommended for patients of this age once mammography has begun Recommendation: Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "patient_name": "Deidentified Patient", "recommendation": "Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-26 17:34:56,567 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('f2380bad50e7184e91eef3da0feb3e4512e6226ccd4dcbb7570d90026ec09389',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 17:34:56,572 - INFO - Extraction complete for Eng Example 4.pdf
2025-02-26 17:34:56,574 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores']
2025-02-26 17:34:56,574 - INFO - Patient name: Deidentified Patient
2025-02-26 17:34:56,574 - INFO - Exam date: 25
2025-02-26 17:34:56,574 - INFO - BIRADS score: BIRADS mentioned
2025-02-26 17:34:56,829 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('0a7c42ea769013e0424931c95b81c7caec3e9862fad9a3f8ed6ae64fd831c1d5', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 17:34:58,515 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 17:35:10,941 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 17:35:11,310 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 17:35:13,827 - INFO - Extracted text from page 2 using OCR fallback
2025-02-26 17:35:13,830 - INFO - Combined text length: 1585 characters
2025-02-26 17:35:13,831 - INFO - Text sample: PROTECTED B CFHS/SSFC Patient: Scan-Mammo DIAGNOSTIC Document Date: 2023-05-05 05/11/2023 12:07PM 5063677051 HIGGS PAGE 03/04 May 05 2023, MAMMO - Diagnostic oF | HEALTH L and Upper. River Valley Area...
2025-02-26 17:35:13,831 - INFO - Document is deidentified, using standard patient name
2025-02-26 17:35:13,857 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 17:35:13,857 - INFO - Updated birads_score from fallback: BIRADS 1-2
2025-02-26 17:35:13,857 - INFO - Extraction results: {"birads_score": "BIRADS 1-2", "document_date": "2023-05-05", "document_type": "Mammo", "electronically_signed_by": "Cynthia Theriault, FRCPC", "exam_date": "2023-05-11", "impression_result": "Stable mammogram. nagative for malignancy. Cynthia Theriault, FRCPC eee THIS IS AN. REPORT 05/05/2023 4:43 PM: Theriault, MD, Date Dictated: pm, Date Transcribed: 05-May-2033 4:43: pm   PAGE 1 Higga May contain confidential info Page 1 of 2 RID cot 15 lime May. 11, 2023 1:09PM No. 8783 ; . . Page: 22 Printed on: 2024- 08 01 14:17 PROTEGE B g Printed by: Natalie Paille", "mammogram_results": "breasts were imaged with standard and pushed back viewa. The parenchyma danse, category C. No of architectural clusters of suspicious or abnormal, are identified. impression: Stable mammogram. nagative for malignancy. Cynthia Theriault, FRCPC eee THIS IS AN. REPORT 05/05/2023 4:43 PM: Theriault, MD, Date Dictated: pm, Date Transcribed: 05-May-2033 4:43: pm   PAGE 1 Higga May contain confidential info Page 1 of 2 RID cot 15 lime May. 11, 2023 1:09PM No. 8783 ; . . Page: 22 Printed on: 2024- 08 01 14:17 PROTEGE B g Printed by: Natalie Paille", "patient_history": "Not Available", "patient_name": "Higgs Riggs, Jillian", "recommendation": "Not Available", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}, "requesting_doctor": "Higgs Riggs, Jillian"}
2025-02-26 17:35:13,877 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('0a7c42ea769013e0424931c95b81c7caec3e9862fad9a3f8ed6ae64fd831c1d5',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 17:35:13,877 - INFO - Extraction complete for Eng Example 1.pdf
2025-02-26 17:35:13,877 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores', 'requesting_doctor']
2025-02-26 17:35:13,877 - INFO - Patient name: Higgs Riggs, Jillian
2025-02-26 17:35:13,877 - INFO - Exam date: 2023-05-11
2025-02-26 17:35:13,877 - INFO - BIRADS score: BIRADS 1-2
2025-02-26 17:43:37,434 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 17:43:37,887 - INFO - Database initialized successfully
2025-02-26 17:45:16,360 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('bdc1571aa41f7e75a31d204a3e715c0a4f915679769485d604fdb95f9219d4e6', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 17:45:16,709 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 17:45:18,583 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 17:45:18,583 - INFO - Combined text length: 1254 characters
2025-02-26 17:45:18,583 - INFO - Text sample: PROTECTED B CFHS/SSFC Scan-Mammo B Screening Document Date: 2023-07-19 To: Page: 1 of 1 2023-07-19 13:31:10 EDT (780}450-9551 From: MIC Medica! Imaging 2023-07-19 Wed 11:30 Medical Imaging Consultants...
2025-02-26 17:45:18,583 - INFO - Document is deidentified, using standard patient name
2025-02-26 17:45:18,617 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 17:45:18,621 - INFO - Updated birads_score from fallback: BIRADS 4-5
2025-02-26 17:45:18,621 - INFO - Extraction results: {"birads_score": "BIRADS 4-5", "document_date": "2023-07-19", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "19", "impression_result": "Na mammographic evidence of malignancy. Screening mammography recommended in 1-2 years. Upcoming ABUS will be reported separately Recommendation: Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "mammogram_results": "Density: ACR C: The breasts are heterogeneously dense, which may obscure small masses. Bilateral retropectoral silicone implants without complication. No conceming mass, architectural distortion or suspicious microcalcifications IMPRESSION: Na mammographic evidence of malignancy. Screening mammography recommended in 1-2 years. Upcoming ABUS will be reported separately Recommendation: Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "patient_history": "Breast cancer screening, no symptoms. Family history breast ca, aunt. Breast augmentation 2013, last mammogram 2018. Compared to previous exams there has been no adverse interval change. FINDINGS: Density: ACR C: The breasts are heterogeneously dense, which may obscure small masses. Bilateral retropectoral silicone implants without complication. No conceming mass, architectural distortion or suspicious microcalcifications IMPRESSION: Na mammographic evidence of malignancy. Screening mammography recommended in 1-2 years. Upcoming ABUS will be reported separately Recommendation: Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "patient_name": "Deidentified Patient", "recommendation": "Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-26 17:45:18,627 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('bdc1571aa41f7e75a31d204a3e715c0a4f915679769485d604fdb95f9219d4e6',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 17:45:18,627 - INFO - Extraction complete for Eng Example 3.pdf
2025-02-26 17:45:18,627 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores']
2025-02-26 17:45:18,627 - INFO - Patient name: Deidentified Patient
2025-02-26 17:45:18,627 - INFO - Exam date: 19
2025-02-26 17:45:18,627 - INFO - BIRADS score: BIRADS 4-5
2025-02-26 17:45:18,637 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('f2380bad50e7184e91eef3da0feb3e4512e6226ccd4dcbb7570d90026ec09389', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 17:45:18,847 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 17:45:20,497 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 17:45:20,497 - INFO - Combined text length: 1499 characters
2025-02-26 17:45:20,497 - INFO - Text sample: Patient: Scan-Mammo Bilat Screen w/ Tomosynthesis Ta: Printed on: Printed by: PROTECTED B Page: 1 of 1 2023-10-25 16:00:16 EDT {780}450-9551 From: MIC Medical Imaging 2023-10-25 Wed 13:58 Medical Imag...
2025-02-26 17:45:20,497 - INFO - Document is deidentified, using standard patient name
2025-02-26 17:45:20,497 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 17:45:20,497 - INFO - Updated birads_score from fallback: BIRADS mentioned
2025-02-26 17:45:20,497 - INFO - Extraction results: {"birads_score": "BIRADS mentioned", "document_date": "2023-10-25", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "25", "impression_result": "No mammographic evidence of malignancy. Annual screening is recommended for patients of this age once mammography has begun Recommendation: Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "mammogram_results": "Density: ACR Category B: There are scattered areas of fibroglandular density. No mass, architectural distortion or microcalcifications IMPRESSION: No mammographic evidence of malignancy. Annual screening is recommended for patients of this age once mammography has begun Recommendation: Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "patient_history": "Screening. Aunt diagnosed with postmenopausal breast cancer. COMPARISON: None. Baseline. FINDINGS: Density: ACR Category B: There are scattered areas of fibroglandular density. No mass, architectural distortion or microcalcifications IMPRESSION: No mammographic evidence of malignancy. Annual screening is recommended for patients of this age once mammography has begun Recommendation: Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "patient_name": "Deidentified Patient", "recommendation": "Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-26 17:45:20,507 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('f2380bad50e7184e91eef3da0feb3e4512e6226ccd4dcbb7570d90026ec09389',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 17:45:20,507 - INFO - Extraction complete for Eng Example 4.pdf
2025-02-26 17:45:20,507 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores']
2025-02-26 17:45:20,507 - INFO - Patient name: Deidentified Patient
2025-02-26 17:45:20,507 - INFO - Exam date: 25
2025-02-26 17:45:20,507 - INFO - BIRADS score: BIRADS mentioned
2025-02-26 17:45:20,511 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('0a7c42ea769013e0424931c95b81c7caec3e9862fad9a3f8ed6ae64fd831c1d5', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 17:45:20,727 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 17:45:22,623 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 17:45:22,814 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 17:45:24,217 - INFO - Extracted text from page 2 using OCR fallback
2025-02-26 17:45:24,217 - INFO - Combined text length: 1585 characters
2025-02-26 17:45:24,217 - INFO - Text sample: PROTECTED B CFHS/SSFC Patient: Scan-Mammo DIAGNOSTIC Document Date: 2023-05-05 05/11/2023 12:07PM 5063677051 HIGGS PAGE 03/04 May 05 2023, MAMMO - Diagnostic oF | HEALTH L and Upper. River Valley Area...
2025-02-26 17:45:24,217 - INFO - Document is deidentified, using standard patient name
2025-02-26 17:45:24,227 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 17:45:24,227 - INFO - Updated birads_score from fallback: BIRADS 1-2
2025-02-26 17:45:24,227 - INFO - Extraction results: {"birads_score": "BIRADS 1-2", "document_date": "2023-05-05", "document_type": "Mammo", "electronically_signed_by": "Cynthia Theriault, FRCPC", "exam_date": "2023-05-11", "impression_result": "Stable mammogram. nagative for malignancy. Cynthia Theriault, FRCPC eee THIS IS AN. REPORT 05/05/2023 4:43 PM: Theriault, MD, Date Dictated: pm, Date Transcribed: 05-May-2033 4:43: pm   PAGE 1 Higga May contain confidential info Page 1 of 2 RID cot 15 lime May. 11, 2023 1:09PM No. 8783 ; . . Page: 22 Printed on: 2024- 08 01 14:17 PROTEGE B g Printed by: Natalie Paille", "mammogram_results": "breasts were imaged with standard and pushed back viewa. The parenchyma danse, category C. No of architectural clusters of suspicious or abnormal, are identified. impression: Stable mammogram. nagative for malignancy. Cynthia Theriault, FRCPC eee THIS IS AN. REPORT 05/05/2023 4:43 PM: Theriault, MD, Date Dictated: pm, Date Transcribed: 05-May-2033 4:43: pm   PAGE 1 Higga May contain confidential info Page 1 of 2 RID cot 15 lime May. 11, 2023 1:09PM No. 8783 ; . . Page: 22 Printed on: 2024- 08 01 14:17 PROTEGE B g Printed by: Natalie Paille", "patient_history": "Not Available", "patient_name": "Higgs Riggs, Jillian", "recommendation": "Not Available", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}, "requesting_doctor": "Higgs Riggs, Jillian"}
2025-02-26 17:45:24,227 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('0a7c42ea769013e0424931c95b81c7caec3e9862fad9a3f8ed6ae64fd831c1d5',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 17:45:24,227 - INFO - Extraction complete for Eng Example 1.pdf
2025-02-26 17:45:24,227 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores', 'requesting_doctor']
2025-02-26 17:45:24,227 - INFO - Patient name: Higgs Riggs, Jillian
2025-02-26 17:45:24,227 - INFO - Exam date: 2023-05-11
2025-02-26 17:45:24,227 - INFO - BIRADS score: BIRADS 1-2
2025-02-26 17:45:24,227 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('c08f8370a5d692579c1a41d137cbe5358c8ea3803d53543919686b7973c0e4a4', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 17:45:24,407 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 17:45:25,788 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 17:45:25,963 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 17:45:26,837 - INFO - Extracted text from page 2 using OCR fallback
2025-02-26 17:45:26,837 - INFO - Combined text length: 2010 characters
2025-02-26 17:45:26,847 - INFO - Text sample: PROTECTED B CFHS/SSFC Patient: Scan-Mammo (B) Diagnostic Document Date: 2021-12-23 MIC Medical Imaging Te 97808734 184 9974241 Page 2 MEDICAL IMAGING NP Patricia Malott CFB - Edmonton PO BOX 10500 STN...
2025-02-26 17:45:26,847 - INFO - Document is deidentified, using standard patient name
2025-02-26 17:45:26,847 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 17:45:26,847 - INFO - Updated birads_score from fallback: BIRADS 1-2
2025-02-26 17:45:26,847 - INFO - Extraction results: {"birads_score": "BIRADS 1-2", "document_date": "2021-12-23", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "23", "impression_result": "No mammographic or sonographic evidence of malignancy. No worrisome to account for the patient's concerns. BI-RADS: 1: Negative. Recommendation(s): Screening mammography recommended in 1 year. Electronically Signed: Dr. Hector Aguilar, FRCPC 12/23/2021 3:33 PM MST Page 1 of 2 Printed on: 2022-09-09 07:51 Printed by: Natalie Paille PROTEGE B Page: 17", "mammogram_results": "Not Available", "patient_history": "Intermittent pain in right breast. History augmentation BILATERAL DIAGNOSTIC MAMMOGRAPHY WITH TOMOSYNTHESIS - IMPLANTS ULTRASOUND RIGHT BREAST History: The patient describes intermittent pain in the right breast approximately 9 o'clock the last six months. No or family history of breast cancer. Mammogram: This is a baseline study. The background breast parenchyma is almost entirely fat replaced (ACR category A). Bilateral retropectoral silicone implants are seen. These appear intact with a normal contour. No suspicious mass, architectural distortion, or suspicious microcalcifications in either breast. Ultrasound: Ultrasound of the area of pain demonstrates normal breast tissue with no suspicious abnormality. IMPRESSION: No mammographic or sonographic evidence of malignancy. No worrisome to account for the patient's concerns. BI-RADS: 1: Negative. Recommendation(s): Screening mammography recommended in 1 year. Electronically Signed: Dr. Hector Aguilar, FRCPC 12/23/2021 3:33 PM MST Page 1 of 2 Printed on: 2022-09-09 07:51 Printed by: Natalie Paille PROTEGE B Page: 17", "patient_name": "Deidentified Patient", "recommendation": "(s): Screening mammography recommended in 1 year. Electronically Signed: Dr. Hector Aguilar, FRCPC 12/23/2021 3:33 PM MST Page 1 of 2 Printed on: 2022-09-09 07:51 Printed by: Natalie Paille PROTEGE B Page: 17", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-26 17:45:26,847 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('c08f8370a5d692579c1a41d137cbe5358c8ea3803d53543919686b7973c0e4a4',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 17:45:26,847 - INFO - Extraction complete for Eng Example 2.pdf
2025-02-26 17:45:26,847 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores']
2025-02-26 17:45:26,847 - INFO - Patient name: Deidentified Patient
2025-02-26 17:45:26,847 - INFO - Exam date: 23
2025-02-26 17:45:26,847 - INFO - BIRADS score: BIRADS 1-2
2025-02-26 17:45:27,727 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 17:45:42,533 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('bdc1571aa41f7e75a31d204a3e715c0a4f915679769485d604fdb95f9219d4e6', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 17:45:42,747 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 17:45:44,499 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 17:45:44,499 - INFO - Combined text length: 1254 characters
2025-02-26 17:45:44,499 - INFO - Text sample: PROTECTED B CFHS/SSFC Scan-Mammo B Screening Document Date: 2023-07-19 To: Page: 1 of 1 2023-07-19 13:31:10 EDT (780}450-9551 From: MIC Medica! Imaging 2023-07-19 Wed 11:30 Medical Imaging Consultants...
2025-02-26 17:45:44,499 - INFO - Document is deidentified, using standard patient name
2025-02-26 17:45:44,499 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 17:45:44,499 - INFO - Updated birads_score from fallback: BIRADS 4-5
2025-02-26 17:45:44,499 - INFO - Extraction results: {"birads_score": "BIRADS 4-5", "document_date": "2023-07-19", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "19", "impression_result": "Na mammographic evidence of malignancy. Screening mammography recommended in 1-2 years. Upcoming ABUS will be reported separately Recommendation: Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "mammogram_results": "Density: ACR C: The breasts are heterogeneously dense, which may obscure small masses. Bilateral retropectoral silicone implants without complication. No conceming mass, architectural distortion or suspicious microcalcifications IMPRESSION: Na mammographic evidence of malignancy. Screening mammography recommended in 1-2 years. Upcoming ABUS will be reported separately Recommendation: Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "patient_history": "Breast cancer screening, no symptoms. Family history breast ca, aunt. Breast augmentation 2013, last mammogram 2018. Compared to previous exams there has been no adverse interval change. FINDINGS: Density: ACR C: The breasts are heterogeneously dense, which may obscure small masses. Bilateral retropectoral silicone implants without complication. No conceming mass, architectural distortion or suspicious microcalcifications IMPRESSION: Na mammographic evidence of malignancy. Screening mammography recommended in 1-2 years. Upcoming ABUS will be reported separately Recommendation: Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "patient_name": "Deidentified Patient", "recommendation": "Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-26 17:45:44,507 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('bdc1571aa41f7e75a31d204a3e715c0a4f915679769485d604fdb95f9219d4e6',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 17:45:44,507 - INFO - Extraction complete for Eng Example 3.pdf
2025-02-26 17:45:44,507 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores']
2025-02-26 17:45:44,507 - INFO - Patient name: Deidentified Patient
2025-02-26 17:45:44,507 - INFO - Exam date: 19
2025-02-26 17:45:44,507 - INFO - BIRADS score: BIRADS 4-5
2025-02-26 17:45:44,507 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('f2380bad50e7184e91eef3da0feb3e4512e6226ccd4dcbb7570d90026ec09389', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 17:45:44,727 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 17:45:46,297 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 17:45:46,307 - INFO - Combined text length: 1499 characters
2025-02-26 17:45:46,307 - INFO - Text sample: Patient: Scan-Mammo Bilat Screen w/ Tomosynthesis Ta: Printed on: Printed by: PROTECTED B Page: 1 of 1 2023-10-25 16:00:16 EDT {780}450-9551 From: MIC Medical Imaging 2023-10-25 Wed 13:58 Medical Imag...
2025-02-26 17:45:46,307 - INFO - Document is deidentified, using standard patient name
2025-02-26 17:45:46,309 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 17:45:46,309 - INFO - Updated birads_score from fallback: BIRADS mentioned
2025-02-26 17:45:46,309 - INFO - Extraction results: {"birads_score": "BIRADS mentioned", "document_date": "2023-10-25", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "25", "impression_result": "No mammographic evidence of malignancy. Annual screening is recommended for patients of this age once mammography has begun Recommendation: Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "mammogram_results": "Density: ACR Category B: There are scattered areas of fibroglandular density. No mass, architectural distortion or microcalcifications IMPRESSION: No mammographic evidence of malignancy. Annual screening is recommended for patients of this age once mammography has begun Recommendation: Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "patient_history": "Screening. Aunt diagnosed with postmenopausal breast cancer. COMPARISON: None. Baseline. FINDINGS: Density: ACR Category B: There are scattered areas of fibroglandular density. No mass, architectural distortion or microcalcifications IMPRESSION: No mammographic evidence of malignancy. Annual screening is recommended for patients of this age once mammography has begun Recommendation: Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "patient_name": "Deidentified Patient", "recommendation": "Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-26 17:45:46,313 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('f2380bad50e7184e91eef3da0feb3e4512e6226ccd4dcbb7570d90026ec09389',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 17:45:46,313 - INFO - Extraction complete for Eng Example 4.pdf
2025-02-26 17:45:46,313 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores']
2025-02-26 17:45:46,313 - INFO - Patient name: Deidentified Patient
2025-02-26 17:45:46,313 - INFO - Exam date: 25
2025-02-26 17:45:46,313 - INFO - BIRADS score: BIRADS mentioned
2025-02-26 17:45:46,317 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('0a7c42ea769013e0424931c95b81c7caec3e9862fad9a3f8ed6ae64fd831c1d5', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 17:45:46,530 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 17:45:48,347 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 17:45:48,549 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 17:45:49,577 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('bdc1571aa41f7e75a31d204a3e715c0a4f915679769485d604fdb95f9219d4e6', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 17:45:49,837 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 17:45:50,189 - INFO - Extracted text from page 2 using OCR fallback
2025-02-26 17:45:50,191 - INFO - Combined text length: 1585 characters
2025-02-26 17:45:50,191 - INFO - Text sample: PROTECTED B CFHS/SSFC Patient: Scan-Mammo DIAGNOSTIC Document Date: 2023-05-05 05/11/2023 12:07PM 5063677051 HIGGS PAGE 03/04 May 05 2023, MAMMO - Diagnostic oF | HEALTH L and Upper. River Valley Area...
2025-02-26 17:45:50,192 - INFO - Document is deidentified, using standard patient name
2025-02-26 17:45:50,197 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 17:45:50,197 - INFO - Updated birads_score from fallback: BIRADS 1-2
2025-02-26 17:45:50,197 - INFO - Extraction results: {"birads_score": "BIRADS 1-2", "document_date": "2023-05-05", "document_type": "Mammo", "electronically_signed_by": "Cynthia Theriault, FRCPC", "exam_date": "2023-05-11", "impression_result": "Stable mammogram. nagative for malignancy. Cynthia Theriault, FRCPC eee THIS IS AN. REPORT 05/05/2023 4:43 PM: Theriault, MD, Date Dictated: pm, Date Transcribed: 05-May-2033 4:43: pm   PAGE 1 Higga May contain confidential info Page 1 of 2 RID cot 15 lime May. 11, 2023 1:09PM No. 8783 ; . . Page: 22 Printed on: 2024- 08 01 14:17 PROTEGE B g Printed by: Natalie Paille", "mammogram_results": "breasts were imaged with standard and pushed back viewa. The parenchyma danse, category C. No of architectural clusters of suspicious or abnormal, are identified. impression: Stable mammogram. nagative for malignancy. Cynthia Theriault, FRCPC eee THIS IS AN. REPORT 05/05/2023 4:43 PM: Theriault, MD, Date Dictated: pm, Date Transcribed: 05-May-2033 4:43: pm   PAGE 1 Higga May contain confidential info Page 1 of 2 RID cot 15 lime May. 11, 2023 1:09PM No. 8783 ; . . Page: 22 Printed on: 2024- 08 01 14:17 PROTEGE B g Printed by: Natalie Paille", "patient_history": "Not Available", "patient_name": "Higgs Riggs, Jillian", "recommendation": "Not Available", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}, "requesting_doctor": "Higgs Riggs, Jillian"}
2025-02-26 17:45:50,199 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('0a7c42ea769013e0424931c95b81c7caec3e9862fad9a3f8ed6ae64fd831c1d5',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 17:45:50,199 - INFO - Extraction complete for Eng Example 1.pdf
2025-02-26 17:45:50,199 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores', 'requesting_doctor']
2025-02-26 17:45:50,199 - INFO - Patient name: Higgs Riggs, Jillian
2025-02-26 17:45:50,199 - INFO - Exam date: 2023-05-11
2025-02-26 17:45:50,199 - INFO - BIRADS score: BIRADS 1-2
2025-02-26 17:45:51,537 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 17:45:51,537 - INFO - Combined text length: 1254 characters
2025-02-26 17:45:51,537 - INFO - Text sample: PROTECTED B CFHS/SSFC Scan-Mammo B Screening Document Date: 2023-07-19 To: Page: 1 of 1 2023-07-19 13:31:10 EDT (780}450-9551 From: MIC Medica! Imaging 2023-07-19 Wed 11:30 Medical Imaging Consultants...
2025-02-26 17:45:51,537 - INFO - Document is deidentified, using standard patient name
2025-02-26 17:45:51,537 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 17:45:51,537 - INFO - Updated birads_score from fallback: BIRADS 4-5
2025-02-26 17:45:51,537 - INFO - Extraction results: {"birads_score": "BIRADS 4-5", "document_date": "2023-07-19", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "19", "impression_result": "Na mammographic evidence of malignancy. Screening mammography recommended in 1-2 years. Upcoming ABUS will be reported separately Recommendation: Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "mammogram_results": "Density: ACR C: The breasts are heterogeneously dense, which may obscure small masses. Bilateral retropectoral silicone implants without complication. No conceming mass, architectural distortion or suspicious microcalcifications IMPRESSION: Na mammographic evidence of malignancy. Screening mammography recommended in 1-2 years. Upcoming ABUS will be reported separately Recommendation: Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "patient_history": "Breast cancer screening, no symptoms. Family history breast ca, aunt. Breast augmentation 2013, last mammogram 2018. Compared to previous exams there has been no adverse interval change. FINDINGS: Density: ACR C: The breasts are heterogeneously dense, which may obscure small masses. Bilateral retropectoral silicone implants without complication. No conceming mass, architectural distortion or suspicious microcalcifications IMPRESSION: Na mammographic evidence of malignancy. Screening mammography recommended in 1-2 years. Upcoming ABUS will be reported separately Recommendation: Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "patient_name": "Deidentified Patient", "recommendation": "Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-26 17:45:51,547 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('bdc1571aa41f7e75a31d204a3e715c0a4f915679769485d604fdb95f9219d4e6',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 17:45:51,547 - INFO - Extraction complete for Eng Example 3.pdf
2025-02-26 17:45:51,547 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores']
2025-02-26 17:45:51,547 - INFO - Patient name: Deidentified Patient
2025-02-26 17:45:51,547 - INFO - Exam date: 19
2025-02-26 17:45:51,547 - INFO - BIRADS score: BIRADS 4-5
2025-02-26 17:45:51,547 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('f2380bad50e7184e91eef3da0feb3e4512e6226ccd4dcbb7570d90026ec09389', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 17:45:51,767 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 17:45:53,347 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 17:45:53,347 - INFO - Combined text length: 1499 characters
2025-02-26 17:45:53,347 - INFO - Text sample: Patient: Scan-Mammo Bilat Screen w/ Tomosynthesis Ta: Printed on: Printed by: PROTECTED B Page: 1 of 1 2023-10-25 16:00:16 EDT {780}450-9551 From: MIC Medical Imaging 2023-10-25 Wed 13:58 Medical Imag...
2025-02-26 17:45:53,347 - INFO - Document is deidentified, using standard patient name
2025-02-26 17:45:53,347 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 17:45:53,347 - INFO - Updated birads_score from fallback: BIRADS mentioned
2025-02-26 17:45:53,347 - INFO - Extraction results: {"birads_score": "BIRADS mentioned", "document_date": "2023-10-25", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "25", "impression_result": "No mammographic evidence of malignancy. Annual screening is recommended for patients of this age once mammography has begun Recommendation: Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "mammogram_results": "Density: ACR Category B: There are scattered areas of fibroglandular density. No mass, architectural distortion or microcalcifications IMPRESSION: No mammographic evidence of malignancy. Annual screening is recommended for patients of this age once mammography has begun Recommendation: Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "patient_history": "Screening. Aunt diagnosed with postmenopausal breast cancer. COMPARISON: None. Baseline. FINDINGS: Density: ACR Category B: There are scattered areas of fibroglandular density. No mass, architectural distortion or microcalcifications IMPRESSION: No mammographic evidence of malignancy. Annual screening is recommended for patients of this age once mammography has begun Recommendation: Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "patient_name": "Deidentified Patient", "recommendation": "Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-26 17:45:53,347 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('f2380bad50e7184e91eef3da0feb3e4512e6226ccd4dcbb7570d90026ec09389',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 17:45:53,347 - INFO - Extraction complete for Eng Example 4.pdf
2025-02-26 17:45:53,347 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores']
2025-02-26 17:45:53,357 - INFO - Patient name: Deidentified Patient
2025-02-26 17:45:53,357 - INFO - Exam date: 25
2025-02-26 17:45:53,357 - INFO - BIRADS score: BIRADS mentioned
2025-02-26 17:45:53,359 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('0a7c42ea769013e0424931c95b81c7caec3e9862fad9a3f8ed6ae64fd831c1d5', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 17:45:53,567 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 17:45:55,251 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 17:45:55,427 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 17:45:56,878 - INFO - Extracted text from page 2 using OCR fallback
2025-02-26 17:45:56,878 - INFO - Combined text length: 1585 characters
2025-02-26 17:45:56,878 - INFO - Text sample: PROTECTED B CFHS/SSFC Patient: Scan-Mammo DIAGNOSTIC Document Date: 2023-05-05 05/11/2023 12:07PM 5063677051 HIGGS PAGE 03/04 May 05 2023, MAMMO - Diagnostic oF | HEALTH L and Upper. River Valley Area...
2025-02-26 17:45:56,878 - INFO - Document is deidentified, using standard patient name
2025-02-26 17:45:56,878 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 17:45:56,878 - INFO - Updated birads_score from fallback: BIRADS 1-2
2025-02-26 17:45:56,878 - INFO - Extraction results: {"birads_score": "BIRADS 1-2", "document_date": "2023-05-05", "document_type": "Mammo", "electronically_signed_by": "Cynthia Theriault, FRCPC", "exam_date": "2023-05-11", "impression_result": "Stable mammogram. nagative for malignancy. Cynthia Theriault, FRCPC eee THIS IS AN. REPORT 05/05/2023 4:43 PM: Theriault, MD, Date Dictated: pm, Date Transcribed: 05-May-2033 4:43: pm   PAGE 1 Higga May contain confidential info Page 1 of 2 RID cot 15 lime May. 11, 2023 1:09PM No. 8783 ; . . Page: 22 Printed on: 2024- 08 01 14:17 PROTEGE B g Printed by: Natalie Paille", "mammogram_results": "breasts were imaged with standard and pushed back viewa. The parenchyma danse, category C. No of architectural clusters of suspicious or abnormal, are identified. impression: Stable mammogram. nagative for malignancy. Cynthia Theriault, FRCPC eee THIS IS AN. REPORT 05/05/2023 4:43 PM: Theriault, MD, Date Dictated: pm, Date Transcribed: 05-May-2033 4:43: pm   PAGE 1 Higga May contain confidential info Page 1 of 2 RID cot 15 lime May. 11, 2023 1:09PM No. 8783 ; . . Page: 22 Printed on: 2024- 08 01 14:17 PROTEGE B g Printed by: Natalie Paille", "patient_history": "Not Available", "patient_name": "Higgs Riggs, Jillian", "recommendation": "Not Available", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}, "requesting_doctor": "Higgs Riggs, Jillian"}
2025-02-26 17:45:56,887 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('0a7c42ea769013e0424931c95b81c7caec3e9862fad9a3f8ed6ae64fd831c1d5',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 17:45:56,887 - INFO - Extraction complete for Eng Example 1.pdf
2025-02-26 17:45:56,887 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores', 'requesting_doctor']
2025-02-26 17:45:56,887 - INFO - Patient name: Higgs Riggs, Jillian
2025-02-26 17:45:56,887 - INFO - Exam date: 2023-05-11
2025-02-26 17:45:56,887 - INFO - BIRADS score: BIRADS 1-2
2025-02-26 17:45:56,894 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('c08f8370a5d692579c1a41d137cbe5358c8ea3803d53543919686b7973c0e4a4', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 17:45:57,099 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 17:45:58,709 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 17:45:58,892 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 17:45:59,897 - INFO - Extracted text from page 2 using OCR fallback
2025-02-26 17:45:59,897 - INFO - Combined text length: 2010 characters
2025-02-26 17:45:59,897 - INFO - Text sample: PROTECTED B CFHS/SSFC Patient: Scan-Mammo (B) Diagnostic Document Date: 2021-12-23 MIC Medical Imaging Te 97808734 184 9974241 Page 2 MEDICAL IMAGING NP Patricia Malott CFB - Edmonton PO BOX 10500 STN...
2025-02-26 17:45:59,897 - INFO - Document is deidentified, using standard patient name
2025-02-26 17:45:59,907 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 17:45:59,909 - INFO - Updated birads_score from fallback: BIRADS 1-2
2025-02-26 17:45:59,909 - INFO - Extraction results: {"birads_score": "BIRADS 1-2", "document_date": "2021-12-23", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "23", "impression_result": "No mammographic or sonographic evidence of malignancy. No worrisome to account for the patient's concerns. BI-RADS: 1: Negative. Recommendation(s): Screening mammography recommended in 1 year. Electronically Signed: Dr. Hector Aguilar, FRCPC 12/23/2021 3:33 PM MST Page 1 of 2 Printed on: 2022-09-09 07:51 Printed by: Natalie Paille PROTEGE B Page: 17", "mammogram_results": "Not Available", "patient_history": "Intermittent pain in right breast. History augmentation BILATERAL DIAGNOSTIC MAMMOGRAPHY WITH TOMOSYNTHESIS - IMPLANTS ULTRASOUND RIGHT BREAST History: The patient describes intermittent pain in the right breast approximately 9 o'clock the last six months. No or family history of breast cancer. Mammogram: This is a baseline study. The background breast parenchyma is almost entirely fat replaced (ACR category A). Bilateral retropectoral silicone implants are seen. These appear intact with a normal contour. No suspicious mass, architectural distortion, or suspicious microcalcifications in either breast. Ultrasound: Ultrasound of the area of pain demonstrates normal breast tissue with no suspicious abnormality. IMPRESSION: No mammographic or sonographic evidence of malignancy. No worrisome to account for the patient's concerns. BI-RADS: 1: Negative. Recommendation(s): Screening mammography recommended in 1 year. Electronically Signed: Dr. Hector Aguilar, FRCPC 12/23/2021 3:33 PM MST Page 1 of 2 Printed on: 2022-09-09 07:51 Printed by: Natalie Paille PROTEGE B Page: 17", "patient_name": "Deidentified Patient", "recommendation": "(s): Screening mammography recommended in 1 year. Electronically Signed: Dr. Hector Aguilar, FRCPC 12/23/2021 3:33 PM MST Page 1 of 2 Printed on: 2022-09-09 07:51 Printed by: Natalie Paille PROTEGE B Page: 17", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-26 17:45:59,909 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('c08f8370a5d692579c1a41d137cbe5358c8ea3803d53543919686b7973c0e4a4',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 17:45:59,909 - INFO - Extraction complete for Eng Example 2.pdf
2025-02-26 17:45:59,909 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores']
2025-02-26 17:45:59,909 - INFO - Patient name: Deidentified Patient
2025-02-26 17:45:59,909 - INFO - Exam date: 23
2025-02-26 17:45:59,909 - INFO - BIRADS score: BIRADS 1-2
2025-02-26 17:46:00,167 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('bdc1571aa41f7e75a31d204a3e715c0a4f915679769485d604fdb95f9219d4e6', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 17:46:00,387 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 17:46:02,027 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 17:46:02,027 - INFO - Combined text length: 1254 characters
2025-02-26 17:46:02,027 - INFO - Text sample: PROTECTED B CFHS/SSFC Scan-Mammo B Screening Document Date: 2023-07-19 To: Page: 1 of 1 2023-07-19 13:31:10 EDT (780}450-9551 From: MIC Medica! Imaging 2023-07-19 Wed 11:30 Medical Imaging Consultants...
2025-02-26 17:46:02,027 - INFO - Document is deidentified, using standard patient name
2025-02-26 17:46:02,027 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 17:46:02,027 - INFO - Updated birads_score from fallback: BIRADS 4-5
2025-02-26 17:46:02,027 - INFO - Extraction results: {"birads_score": "BIRADS 4-5", "document_date": "2023-07-19", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "19", "impression_result": "Na mammographic evidence of malignancy. Screening mammography recommended in 1-2 years. Upcoming ABUS will be reported separately Recommendation: Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "mammogram_results": "Density: ACR C: The breasts are heterogeneously dense, which may obscure small masses. Bilateral retropectoral silicone implants without complication. No conceming mass, architectural distortion or suspicious microcalcifications IMPRESSION: Na mammographic evidence of malignancy. Screening mammography recommended in 1-2 years. Upcoming ABUS will be reported separately Recommendation: Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "patient_history": "Breast cancer screening, no symptoms. Family history breast ca, aunt. Breast augmentation 2013, last mammogram 2018. Compared to previous exams there has been no adverse interval change. FINDINGS: Density: ACR C: The breasts are heterogeneously dense, which may obscure small masses. Bilateral retropectoral silicone implants without complication. No conceming mass, architectural distortion or suspicious microcalcifications IMPRESSION: Na mammographic evidence of malignancy. Screening mammography recommended in 1-2 years. Upcoming ABUS will be reported separately Recommendation: Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "patient_name": "Deidentified Patient", "recommendation": "Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-26 17:46:02,037 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('bdc1571aa41f7e75a31d204a3e715c0a4f915679769485d604fdb95f9219d4e6',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 17:46:02,037 - INFO - Extraction complete for Eng Example 3.pdf
2025-02-26 17:46:02,037 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores']
2025-02-26 17:46:02,037 - INFO - Patient name: Deidentified Patient
2025-02-26 17:46:02,037 - INFO - Exam date: 19
2025-02-26 17:46:02,038 - INFO - BIRADS score: BIRADS 4-5
2025-02-26 17:50:09,296 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('c08f8370a5d692579c1a41d137cbe5358c8ea3803d53543919686b7973c0e4a4', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 17:50:09,808 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 17:50:12,755 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 17:50:13,337 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 17:50:15,603 - INFO - Extracted text from page 2 using OCR fallback
2025-02-26 17:50:15,604 - INFO - Combined text length: 2010 characters
2025-02-26 17:50:15,606 - INFO - Text sample: PROTECTED B CFHS/SSFC Patient: Scan-Mammo (B) Diagnostic Document Date: 2021-12-23 MIC Medical Imaging Te 97808734 184 9974241 Page 2 MEDICAL IMAGING NP Patricia Malott CFB - Edmonton PO BOX 10500 STN...
2025-02-26 17:50:15,608 - INFO - Document is deidentified, using standard patient name
2025-02-26 17:50:15,677 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 17:50:15,677 - INFO - Updated birads_score from fallback: BIRADS 1-2
2025-02-26 17:50:15,677 - INFO - Extraction results: {"birads_score": "BIRADS 1-2", "document_date": "2021-12-23", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "23", "impression_result": "No mammographic or sonographic evidence of malignancy. No worrisome to account for the patient's concerns. BI-RADS: 1: Negative. Recommendation(s): Screening mammography recommended in 1 year. Electronically Signed: Dr. Hector Aguilar, FRCPC 12/23/2021 3:33 PM MST Page 1 of 2 Printed on: 2022-09-09 07:51 Printed by: Natalie Paille PROTEGE B Page: 17", "mammogram_results": "Not Available", "patient_history": "Intermittent pain in right breast. History augmentation BILATERAL DIAGNOSTIC MAMMOGRAPHY WITH TOMOSYNTHESIS - IMPLANTS ULTRASOUND RIGHT BREAST History: The patient describes intermittent pain in the right breast approximately 9 o'clock the last six months. No or family history of breast cancer. Mammogram: This is a baseline study. The background breast parenchyma is almost entirely fat replaced (ACR category A). Bilateral retropectoral silicone implants are seen. These appear intact with a normal contour. No suspicious mass, architectural distortion, or suspicious microcalcifications in either breast. Ultrasound: Ultrasound of the area of pain demonstrates normal breast tissue with no suspicious abnormality. IMPRESSION: No mammographic or sonographic evidence of malignancy. No worrisome to account for the patient's concerns. BI-RADS: 1: Negative. Recommendation(s): Screening mammography recommended in 1 year. Electronically Signed: Dr. Hector Aguilar, FRCPC 12/23/2021 3:33 PM MST Page 1 of 2 Printed on: 2022-09-09 07:51 Printed by: Natalie Paille PROTEGE B Page: 17", "patient_name": "Deidentified Patient", "recommendation": "(s): Screening mammography recommended in 1 year. Electronically Signed: Dr. Hector Aguilar, FRCPC 12/23/2021 3:33 PM MST Page 1 of 2 Printed on: 2022-09-09 07:51 Printed by: Natalie Paille PROTEGE B Page: 17", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-26 17:50:15,720 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('c08f8370a5d692579c1a41d137cbe5358c8ea3803d53543919686b7973c0e4a4',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 17:50:15,720 - INFO - Extraction complete for Eng Example 2.pdf
2025-02-26 17:50:15,720 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores']
2025-02-26 17:50:15,720 - INFO - Patient name: Deidentified Patient
2025-02-26 17:50:15,720 - INFO - Exam date: 23
2025-02-26 17:50:15,720 - INFO - BIRADS score: BIRADS 1-2
2025-02-26 17:50:15,757 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('bdc1571aa41f7e75a31d204a3e715c0a4f915679769485d604fdb95f9219d4e6', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 17:50:16,445 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 17:50:20,213 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 17:50:20,215 - INFO - Combined text length: 1254 characters
2025-02-26 17:50:20,215 - INFO - Text sample: PROTECTED B CFHS/SSFC Scan-Mammo B Screening Document Date: 2023-07-19 To: Page: 1 of 1 2023-07-19 13:31:10 EDT (780}450-9551 From: MIC Medica! Imaging 2023-07-19 Wed 11:30 Medical Imaging Consultants...
2025-02-26 17:50:20,215 - INFO - Document is deidentified, using standard patient name
2025-02-26 17:50:20,225 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 17:50:20,229 - INFO - Updated birads_score from fallback: BIRADS 4-5
2025-02-26 17:50:20,229 - INFO - Extraction results: {"birads_score": "BIRADS 4-5", "document_date": "2023-07-19", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "19", "impression_result": "Na mammographic evidence of malignancy. Screening mammography recommended in 1-2 years. Upcoming ABUS will be reported separately Recommendation: Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "mammogram_results": "Density: ACR C: The breasts are heterogeneously dense, which may obscure small masses. Bilateral retropectoral silicone implants without complication. No conceming mass, architectural distortion or suspicious microcalcifications IMPRESSION: Na mammographic evidence of malignancy. Screening mammography recommended in 1-2 years. Upcoming ABUS will be reported separately Recommendation: Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "patient_history": "Breast cancer screening, no symptoms. Family history breast ca, aunt. Breast augmentation 2013, last mammogram 2018. Compared to previous exams there has been no adverse interval change. FINDINGS: Density: ACR C: The breasts are heterogeneously dense, which may obscure small masses. Bilateral retropectoral silicone implants without complication. No conceming mass, architectural distortion or suspicious microcalcifications IMPRESSION: Na mammographic evidence of malignancy. Screening mammography recommended in 1-2 years. Upcoming ABUS will be reported separately Recommendation: Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "patient_name": "Deidentified Patient", "recommendation": "Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-26 17:50:20,233 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('bdc1571aa41f7e75a31d204a3e715c0a4f915679769485d604fdb95f9219d4e6',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 17:50:20,233 - INFO - Extraction complete for Eng Example 3.pdf
2025-02-26 17:50:20,235 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores']
2025-02-26 17:50:20,235 - INFO - Patient name: Deidentified Patient
2025-02-26 17:50:20,235 - INFO - Exam date: 19
2025-02-26 17:50:20,235 - INFO - BIRADS score: BIRADS 4-5
2025-02-26 17:50:20,241 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('f2380bad50e7184e91eef3da0feb3e4512e6226ccd4dcbb7570d90026ec09389', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 17:50:20,948 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 17:50:26,619 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 17:50:26,627 - INFO - Combined text length: 1499 characters
2025-02-26 17:50:26,629 - INFO - Text sample: Patient: Scan-Mammo Bilat Screen w/ Tomosynthesis Ta: Printed on: Printed by: PROTECTED B Page: 1 of 1 2023-10-25 16:00:16 EDT {780}450-9551 From: MIC Medical Imaging 2023-10-25 Wed 13:58 Medical Imag...
2025-02-26 17:50:26,629 - INFO - Document is deidentified, using standard patient name
2025-02-26 17:50:26,679 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 17:50:26,687 - INFO - Updated birads_score from fallback: BIRADS mentioned
2025-02-26 17:50:26,687 - INFO - Extraction results: {"birads_score": "BIRADS mentioned", "document_date": "2023-10-25", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "25", "impression_result": "No mammographic evidence of malignancy. Annual screening is recommended for patients of this age once mammography has begun Recommendation: Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "mammogram_results": "Density: ACR Category B: There are scattered areas of fibroglandular density. No mass, architectural distortion or microcalcifications IMPRESSION: No mammographic evidence of malignancy. Annual screening is recommended for patients of this age once mammography has begun Recommendation: Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "patient_history": "Screening. Aunt diagnosed with postmenopausal breast cancer. COMPARISON: None. Baseline. FINDINGS: Density: ACR Category B: There are scattered areas of fibroglandular density. No mass, architectural distortion or microcalcifications IMPRESSION: No mammographic evidence of malignancy. Annual screening is recommended for patients of this age once mammography has begun Recommendation: Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "patient_name": "Deidentified Patient", "recommendation": "Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-26 17:50:26,725 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('f2380bad50e7184e91eef3da0feb3e4512e6226ccd4dcbb7570d90026ec09389',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 17:50:26,727 - INFO - Extraction complete for Eng Example 4.pdf
2025-02-26 17:50:26,727 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores']
2025-02-26 17:50:26,727 - INFO - Patient name: Deidentified Patient
2025-02-26 17:50:26,727 - INFO - Exam date: 25
2025-02-26 17:50:26,727 - INFO - BIRADS score: BIRADS mentioned
2025-02-26 17:50:26,771 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('0a7c42ea769013e0424931c95b81c7caec3e9862fad9a3f8ed6ae64fd831c1d5', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 17:50:27,967 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 17:50:34,675 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 17:50:41,667 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 17:50:48,243 - INFO - Extracted text from page 2 using OCR fallback
2025-02-26 17:50:48,245 - INFO - Combined text length: 1585 characters
2025-02-26 17:50:48,245 - INFO - Text sample: PROTECTED B CFHS/SSFC Patient: Scan-Mammo DIAGNOSTIC Document Date: 2023-05-05 05/11/2023 12:07PM 5063677051 HIGGS PAGE 03/04 May 05 2023, MAMMO - Diagnostic oF | HEALTH L and Upper. River Valley Area...
2025-02-26 17:50:48,247 - INFO - Document is deidentified, using standard patient name
2025-02-26 17:50:48,279 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 17:50:48,284 - INFO - Updated birads_score from fallback: BIRADS 1-2
2025-02-26 17:50:48,284 - INFO - Extraction results: {"birads_score": "BIRADS 1-2", "document_date": "2023-05-05", "document_type": "Mammo", "electronically_signed_by": "Cynthia Theriault, FRCPC", "exam_date": "2023-05-11", "impression_result": "Stable mammogram. nagative for malignancy. Cynthia Theriault, FRCPC eee THIS IS AN. REPORT 05/05/2023 4:43 PM: Theriault, MD, Date Dictated: pm, Date Transcribed: 05-May-2033 4:43: pm   PAGE 1 Higga May contain confidential info Page 1 of 2 RID cot 15 lime May. 11, 2023 1:09PM No. 8783 ; . . Page: 22 Printed on: 2024- 08 01 14:17 PROTEGE B g Printed by: Natalie Paille", "mammogram_results": "breasts were imaged with standard and pushed back viewa. The parenchyma danse, category C. No of architectural clusters of suspicious or abnormal, are identified. impression: Stable mammogram. nagative for malignancy. Cynthia Theriault, FRCPC eee THIS IS AN. REPORT 05/05/2023 4:43 PM: Theriault, MD, Date Dictated: pm, Date Transcribed: 05-May-2033 4:43: pm   PAGE 1 Higga May contain confidential info Page 1 of 2 RID cot 15 lime May. 11, 2023 1:09PM No. 8783 ; . . Page: 22 Printed on: 2024- 08 01 14:17 PROTEGE B g Printed by: Natalie Paille", "patient_history": "Not Available", "patient_name": "Higgs Riggs, Jillian", "recommendation": "Not Available", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}, "requesting_doctor": "Higgs Riggs, Jillian"}
2025-02-26 17:50:48,307 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('0a7c42ea769013e0424931c95b81c7caec3e9862fad9a3f8ed6ae64fd831c1d5',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 17:50:48,307 - INFO - Extraction complete for Eng Example 1.pdf
2025-02-26 17:50:48,317 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores', 'requesting_doctor']
2025-02-26 17:50:48,317 - INFO - Patient name: Higgs Riggs, Jillian
2025-02-26 17:50:48,317 - INFO - Exam date: 2023-05-11
2025-02-26 17:50:48,317 - INFO - BIRADS score: BIRADS 1-2
2025-02-26 17:51:26,885 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 17:56:55,701 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 17:56:56,086 - INFO - Database initialized successfully
2025-02-26 17:57:08,609 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 17:57:08,640 - INFO - Database initialized successfully
2025-02-26 17:57:10,654 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('bdc1571aa41f7e75a31d204a3e715c0a4f915679769485d604fdb95f9219d4e6', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 17:57:11,007 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 17:57:13,217 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 17:57:13,217 - INFO - Combined text length: 1254 characters
2025-02-26 17:57:13,217 - INFO - Text sample: PROTECTED B CFHS/SSFC Scan-Mammo B Screening Document Date: 2023-07-19 To: Page: 1 of 1 2023-07-19 13:31:10 EDT (780}450-9551 From: MIC Medica! Imaging 2023-07-19 Wed 11:30 Medical Imaging Consultants...
2025-02-26 17:57:13,217 - INFO - Document is deidentified, using standard patient name
2025-02-26 17:57:13,269 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 17:57:13,275 - INFO - Updated birads_score from fallback: BIRADS 4-5
2025-02-26 17:57:13,277 - INFO - Extraction results: {"birads_score": "BIRADS 4-5", "document_date": "2023-07-19", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "19", "impression_result": "Na mammographic evidence of malignancy. Screening mammography recommended in 1-2 years. Upcoming ABUS will be reported separately Recommendation: Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "mammogram_results": "Density: ACR C: The breasts are heterogeneously dense, which may obscure small masses. Bilateral retropectoral silicone implants without complication. No conceming mass, architectural distortion or suspicious microcalcifications IMPRESSION: Na mammographic evidence of malignancy. Screening mammography recommended in 1-2 years. Upcoming ABUS will be reported separately Recommendation: Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "patient_history": "Breast cancer screening, no symptoms. Family history breast ca, aunt. Breast augmentation 2013, last mammogram 2018. Compared to previous exams there has been no adverse interval change. FINDINGS: Density: ACR C: The breasts are heterogeneously dense, which may obscure small masses. Bilateral retropectoral silicone implants without complication. No conceming mass, architectural distortion or suspicious microcalcifications IMPRESSION: Na mammographic evidence of malignancy. Screening mammography recommended in 1-2 years. Upcoming ABUS will be reported separately Recommendation: Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "patient_name": "Deidentified Patient", "recommendation": "Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-26 17:57:13,283 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('bdc1571aa41f7e75a31d204a3e715c0a4f915679769485d604fdb95f9219d4e6',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 17:57:13,283 - INFO - Extraction complete for Eng Example 3.pdf
2025-02-26 17:57:13,283 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores']
2025-02-26 17:57:13,283 - INFO - Patient name: Deidentified Patient
2025-02-26 17:57:13,283 - INFO - Exam date: 19
2025-02-26 17:57:13,283 - INFO - BIRADS score: BIRADS 4-5
2025-02-26 17:57:13,289 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('f2380bad50e7184e91eef3da0feb3e4512e6226ccd4dcbb7570d90026ec09389', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 17:57:13,531 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 17:57:16,647 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 17:57:16,647 - INFO - Combined text length: 1499 characters
2025-02-26 17:57:16,647 - INFO - Text sample: Patient: Scan-Mammo Bilat Screen w/ Tomosynthesis Ta: Printed on: Printed by: PROTECTED B Page: 1 of 1 2023-10-25 16:00:16 EDT {780}450-9551 From: MIC Medical Imaging 2023-10-25 Wed 13:58 Medical Imag...
2025-02-26 17:57:16,647 - INFO - Document is deidentified, using standard patient name
2025-02-26 17:57:16,647 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 17:57:16,647 - INFO - Updated birads_score from fallback: BIRADS mentioned
2025-02-26 17:57:16,647 - INFO - Extraction results: {"birads_score": "BIRADS mentioned", "document_date": "2023-10-25", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "25", "impression_result": "No mammographic evidence of malignancy. Annual screening is recommended for patients of this age once mammography has begun Recommendation: Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "mammogram_results": "Density: ACR Category B: There are scattered areas of fibroglandular density. No mass, architectural distortion or microcalcifications IMPRESSION: No mammographic evidence of malignancy. Annual screening is recommended for patients of this age once mammography has begun Recommendation: Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "patient_history": "Screening. Aunt diagnosed with postmenopausal breast cancer. COMPARISON: None. Baseline. FINDINGS: Density: ACR Category B: There are scattered areas of fibroglandular density. No mass, architectural distortion or microcalcifications IMPRESSION: No mammographic evidence of malignancy. Annual screening is recommended for patients of this age once mammography has begun Recommendation: Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "patient_name": "Deidentified Patient", "recommendation": "Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-26 17:57:16,657 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('f2380bad50e7184e91eef3da0feb3e4512e6226ccd4dcbb7570d90026ec09389',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 17:57:16,657 - INFO - Extraction complete for Eng Example 4.pdf
2025-02-26 17:57:16,657 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores']
2025-02-26 17:57:16,657 - INFO - Patient name: Deidentified Patient
2025-02-26 17:57:16,657 - INFO - Exam date: 25
2025-02-26 17:57:16,657 - INFO - BIRADS score: BIRADS mentioned
2025-02-26 17:57:16,660 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('0a7c42ea769013e0424931c95b81c7caec3e9862fad9a3f8ed6ae64fd831c1d5', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 17:57:16,851 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 17:57:19,651 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 17:57:19,867 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 17:57:22,037 - INFO - Extracted text from page 2 using OCR fallback
2025-02-26 17:57:22,037 - INFO - Combined text length: 1585 characters
2025-02-26 17:57:22,037 - INFO - Text sample: PROTECTED B CFHS/SSFC Patient: Scan-Mammo DIAGNOSTIC Document Date: 2023-05-05 05/11/2023 12:07PM 5063677051 HIGGS PAGE 03/04 May 05 2023, MAMMO - Diagnostic oF | HEALTH L and Upper. River Valley Area...
2025-02-26 17:57:22,037 - INFO - Document is deidentified, using standard patient name
2025-02-26 17:57:22,040 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 17:57:22,040 - INFO - Updated birads_score from fallback: BIRADS 1-2
2025-02-26 17:57:22,040 - INFO - Extraction results: {"birads_score": "BIRADS 1-2", "document_date": "2023-05-05", "document_type": "Mammo", "electronically_signed_by": "Cynthia Theriault, FRCPC", "exam_date": "2023-05-11", "impression_result": "Stable mammogram. nagative for malignancy. Cynthia Theriault, FRCPC eee THIS IS AN. REPORT 05/05/2023 4:43 PM: Theriault, MD, Date Dictated: pm, Date Transcribed: 05-May-2033 4:43: pm   PAGE 1 Higga May contain confidential info Page 1 of 2 RID cot 15 lime May. 11, 2023 1:09PM No. 8783 ; . . Page: 22 Printed on: 2024- 08 01 14:17 PROTEGE B g Printed by: Natalie Paille", "mammogram_results": "breasts were imaged with standard and pushed back viewa. The parenchyma danse, category C. No of architectural clusters of suspicious or abnormal, are identified. impression: Stable mammogram. nagative for malignancy. Cynthia Theriault, FRCPC eee THIS IS AN. REPORT 05/05/2023 4:43 PM: Theriault, MD, Date Dictated: pm, Date Transcribed: 05-May-2033 4:43: pm   PAGE 1 Higga May contain confidential info Page 1 of 2 RID cot 15 lime May. 11, 2023 1:09PM No. 8783 ; . . Page: 22 Printed on: 2024- 08 01 14:17 PROTEGE B g Printed by: Natalie Paille", "patient_history": "Not Available", "patient_name": "Higgs Riggs, Jillian", "recommendation": "Not Available", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}, "requesting_doctor": "Higgs Riggs, Jillian"}
2025-02-26 17:57:22,047 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('0a7c42ea769013e0424931c95b81c7caec3e9862fad9a3f8ed6ae64fd831c1d5',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 17:57:22,047 - INFO - Extraction complete for Eng Example 1.pdf
2025-02-26 17:57:22,047 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores', 'requesting_doctor']
2025-02-26 17:57:22,047 - INFO - Patient name: Higgs Riggs, Jillian
2025-02-26 17:57:22,047 - INFO - Exam date: 2023-05-11
2025-02-26 17:57:22,047 - INFO - BIRADS score: BIRADS 1-2
2025-02-26 17:57:22,047 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('c08f8370a5d692579c1a41d137cbe5358c8ea3803d53543919686b7973c0e4a4', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 17:57:22,388 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 17:57:24,617 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 17:57:24,887 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 17:57:26,157 - INFO - Extracted text from page 2 using OCR fallback
2025-02-26 17:57:26,157 - INFO - Combined text length: 2010 characters
2025-02-26 17:57:26,157 - INFO - Text sample: PROTECTED B CFHS/SSFC Patient: Scan-Mammo (B) Diagnostic Document Date: 2021-12-23 MIC Medical Imaging Te 97808734 184 9974241 Page 2 MEDICAL IMAGING NP Patricia Malott CFB - Edmonton PO BOX 10500 STN...
2025-02-26 17:57:26,157 - INFO - Document is deidentified, using standard patient name
2025-02-26 17:57:26,167 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 17:57:26,167 - INFO - Updated birads_score from fallback: BIRADS 1-2
2025-02-26 17:57:26,167 - INFO - Extraction results: {"birads_score": "BIRADS 1-2", "document_date": "2021-12-23", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "23", "impression_result": "No mammographic or sonographic evidence of malignancy. No worrisome to account for the patient's concerns. BI-RADS: 1: Negative. Recommendation(s): Screening mammography recommended in 1 year. Electronically Signed: Dr. Hector Aguilar, FRCPC 12/23/2021 3:33 PM MST Page 1 of 2 Printed on: 2022-09-09 07:51 Printed by: Natalie Paille PROTEGE B Page: 17", "mammogram_results": "Not Available", "patient_history": "Intermittent pain in right breast. History augmentation BILATERAL DIAGNOSTIC MAMMOGRAPHY WITH TOMOSYNTHESIS - IMPLANTS ULTRASOUND RIGHT BREAST History: The patient describes intermittent pain in the right breast approximately 9 o'clock the last six months. No or family history of breast cancer. Mammogram: This is a baseline study. The background breast parenchyma is almost entirely fat replaced (ACR category A). Bilateral retropectoral silicone implants are seen. These appear intact with a normal contour. No suspicious mass, architectural distortion, or suspicious microcalcifications in either breast. Ultrasound: Ultrasound of the area of pain demonstrates normal breast tissue with no suspicious abnormality. IMPRESSION: No mammographic or sonographic evidence of malignancy. No worrisome to account for the patient's concerns. BI-RADS: 1: Negative. Recommendation(s): Screening mammography recommended in 1 year. Electronically Signed: Dr. Hector Aguilar, FRCPC 12/23/2021 3:33 PM MST Page 1 of 2 Printed on: 2022-09-09 07:51 Printed by: Natalie Paille PROTEGE B Page: 17", "patient_name": "Deidentified Patient", "recommendation": "(s): Screening mammography recommended in 1 year. Electronically Signed: Dr. Hector Aguilar, FRCPC 12/23/2021 3:33 PM MST Page 1 of 2 Printed on: 2022-09-09 07:51 Printed by: Natalie Paille PROTEGE B Page: 17", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-26 17:57:26,167 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('c08f8370a5d692579c1a41d137cbe5358c8ea3803d53543919686b7973c0e4a4',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 17:57:26,167 - INFO - Extraction complete for Eng Example 2.pdf
2025-02-26 17:57:26,167 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores']
2025-02-26 17:57:26,167 - INFO - Patient name: Deidentified Patient
2025-02-26 17:57:26,167 - INFO - Exam date: 23
2025-02-26 17:57:26,167 - INFO - BIRADS score: BIRADS 1-2
2025-02-26 17:57:26,879 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 18:03:07,497 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 18:03:07,687 - INFO - Database initialized successfully
2025-02-26 18:04:13,830 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 18:04:13,847 - INFO - Database initialized successfully
2025-02-26 18:04:18,482 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('c08f8370a5d692579c1a41d137cbe5358c8ea3803d53543919686b7973c0e4a4', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 18:04:18,777 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 18:04:20,839 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 18:04:21,117 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 18:04:22,507 - INFO - Extracted text from page 2 using OCR fallback
2025-02-26 18:04:22,507 - INFO - Combined text length: 2010 characters
2025-02-26 18:04:22,507 - INFO - Text sample: PROTECTED B CFHS/SSFC Patient: Scan-Mammo (B) Diagnostic Document Date: 2021-12-23 MIC Medical Imaging Te 97808734 184 9974241 Page 2 MEDICAL IMAGING NP Patricia Malott CFB - Edmonton PO BOX 10500 STN...
2025-02-26 18:04:22,507 - INFO - Document is deidentified, using standard patient name
2025-02-26 18:04:22,553 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 18:04:22,557 - INFO - Updated birads_score from fallback: BIRADS 1-2
2025-02-26 18:04:22,557 - INFO - Provider and signature fields match, increasing confidence
2025-02-26 18:04:22,560 - WARNING - Could not parse date: 23
2025-02-26 18:04:22,560 - INFO - Extraction results: {"birads_score": "BIRADS 1", "document_date": "2021-12-23", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "Not Available", "impression_result": "No mammographic or sonographic evidence of malignancy. No worrisome to account for the patient's concerns. BI-RADS: 1: Negative. Recommendation(s): Screening mammography recommended in 1 year. Electronically Signed: Dr. Hector Aguilar, FRCPC 12/23/2021 3:33 PM MST Page 1 of 2 Printed on: 2022-09-09 07:51 Printed by: Natalie Paille PROTEGE B Page: 17", "mammogram_results": "Not Available", "patient_history": "Intermittent pain in right breast. History augmentation BILATERAL DIAGNOSTIC MAMMOGRAPHY WITH TOMOSYNTHESIS - IMPLANTS ULTRASOUND RIGHT BREAST History: The patient describes intermittent pain in the right breast approximately 9 o'clock the last six months. No or family history of breast cancer. Mammogram: This is a baseline study. The background breast parenchyma is almost entirely fat replaced (ACR category A). Bilateral retropectoral silicone implants are seen. These appear intact with a normal contour. No suspicious mass, architectural distortion, or suspicious microcalcifications in either breast. Ultrasound: Ultrasound of the area of pain demonstrates normal breast tissue with no suspicious abnormality. IMPRESSION: No mammographic or sonographic evidence of malignancy. No worrisome to account for the patient's concerns. BI-RADS: 1: Negative. Recommendation(s): Screening mammography recommended in 1 year. Electronically Signed: Dr. Hector Aguilar, FRCPC 12/23/2021 3:33 PM MST Page 1 of 2 Printed on: 2022-09-09 07:51 Printed by: Natalie Paille PROTEGE B Page: 17", "patient_name": "Deidentified", "recommendation": "(s): Screening mammography recommended in 1 year. Electronically Signed: Dr. Hector Aguilar, FRCPC 12/23/2021 3:33 PM MST Page 1 of 2 Printed on: 2022-09-09 07:51 Printed by: Natalie Paille PROTEGE B Page: 17", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-26 18:04:22,567 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('c08f8370a5d692579c1a41d137cbe5358c8ea3803d53543919686b7973c0e4a4',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 18:04:22,567 - INFO - Extraction complete for Eng Example 2.pdf
2025-02-26 18:04:22,567 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores']
2025-02-26 18:04:22,567 - INFO - Patient name: Deidentified
2025-02-26 18:04:22,567 - INFO - Exam date: Not Available
2025-02-26 18:04:22,567 - INFO - BIRADS score: BIRADS 1
2025-02-26 18:04:22,567 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('bdc1571aa41f7e75a31d204a3e715c0a4f915679769485d604fdb95f9219d4e6', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 18:04:22,827 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 18:04:24,524 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 18:04:24,524 - INFO - Combined text length: 1254 characters
2025-02-26 18:04:24,524 - INFO - Text sample: PROTECTED B CFHS/SSFC Scan-Mammo B Screening Document Date: 2023-07-19 To: Page: 1 of 1 2023-07-19 13:31:10 EDT (780}450-9551 From: MIC Medica! Imaging 2023-07-19 Wed 11:30 Medical Imaging Consultants...
2025-02-26 18:04:24,525 - INFO - Document is deidentified, using standard patient name
2025-02-26 18:04:24,529 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 18:04:24,529 - INFO - Updated birads_score from fallback: BIRADS 4-5
2025-02-26 18:04:24,529 - INFO - Provider and signature fields match, increasing confidence
2025-02-26 18:04:24,531 - WARNING - Could not parse date: 19
2025-02-26 18:04:24,531 - INFO - Extraction results: {"birads_score": "BIRADS 4", "document_date": "2023-07-19", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "Not Available", "impression_result": "Na mammographic evidence of malignancy. Screening mammography recommended in 1-2 years. Upcoming ABUS will be reported separately Recommendation: Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "mammogram_results": "Density: ACR C: The breasts are heterogeneously dense, which may obscure small masses. Bilateral retropectoral silicone implants without complication. No conceming mass, architectural distortion or suspicious microcalcifications IMPRESSION: Na mammographic evidence of malignancy. Screening mammography recommended in 1-2 years. Upcoming ABUS will be reported separately Recommendation: Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "patient_history": "Breast cancer screening, no symptoms. Family history breast ca, aunt. Breast augmentation 2013, last mammogram 2018. Compared to previous exams there has been no adverse interval change. FINDINGS: Density: ACR C: The breasts are heterogeneously dense, which may obscure small masses. Bilateral retropectoral silicone implants without complication. No conceming mass, architectural distortion or suspicious microcalcifications IMPRESSION: Na mammographic evidence of malignancy. Screening mammography recommended in 1-2 years. Upcoming ABUS will be reported separately Recommendation: Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "patient_name": "Deidentified", "recommendation": "Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-26 18:04:24,533 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('bdc1571aa41f7e75a31d204a3e715c0a4f915679769485d604fdb95f9219d4e6',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 18:04:24,534 - INFO - Extraction complete for Eng Example 3.pdf
2025-02-26 18:04:24,534 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores']
2025-02-26 18:04:24,534 - INFO - Patient name: Deidentified
2025-02-26 18:04:24,534 - INFO - Exam date: Not Available
2025-02-26 18:04:24,534 - INFO - BIRADS score: BIRADS 4
2025-02-26 18:04:24,537 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('f2380bad50e7184e91eef3da0feb3e4512e6226ccd4dcbb7570d90026ec09389', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 18:04:24,732 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 18:04:26,377 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 18:04:26,377 - INFO - Combined text length: 1499 characters
2025-02-26 18:04:26,377 - INFO - Text sample: Patient: Scan-Mammo Bilat Screen w/ Tomosynthesis Ta: Printed on: Printed by: PROTECTED B Page: 1 of 1 2023-10-25 16:00:16 EDT {780}450-9551 From: MIC Medical Imaging 2023-10-25 Wed 13:58 Medical Imag...
2025-02-26 18:04:26,377 - INFO - Document is deidentified, using standard patient name
2025-02-26 18:04:26,387 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 18:04:26,387 - INFO - Updated birads_score from fallback: BIRADS mentioned
2025-02-26 18:04:26,387 - INFO - Provider and signature fields match, increasing confidence
2025-02-26 18:04:26,387 - WARNING - Could not parse date: 25
2025-02-26 18:04:26,387 - INFO - Extraction results: {"birads_score": "Not Available", "document_date": "2023-10-25", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "Not Available", "impression_result": "No mammographic evidence of malignancy. Annual screening is recommended for patients of this age once mammography has begun Recommendation: Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "mammogram_results": "Density: ACR Category B: There are scattered areas of fibroglandular density. No mass, architectural distortion or microcalcifications IMPRESSION: No mammographic evidence of malignancy. Annual screening is recommended for patients of this age once mammography has begun Recommendation: Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "patient_history": "Screening. Aunt diagnosed with postmenopausal breast cancer. COMPARISON: None. Baseline. FINDINGS: Density: ACR Category B: There are scattered areas of fibroglandular density. No mass, architectural distortion or microcalcifications IMPRESSION: No mammographic evidence of malignancy. Annual screening is recommended for patients of this age once mammography has begun Recommendation: Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "patient_name": "Deidentified", "recommendation": "Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-26 18:04:26,391 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('f2380bad50e7184e91eef3da0feb3e4512e6226ccd4dcbb7570d90026ec09389',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 18:04:26,391 - INFO - Extraction complete for Eng Example 4.pdf
2025-02-26 18:04:26,391 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores']
2025-02-26 18:04:26,391 - INFO - Patient name: Deidentified
2025-02-26 18:04:26,391 - INFO - Exam date: Not Available
2025-02-26 18:04:26,391 - INFO - BIRADS score: Not Available
2025-02-26 18:04:26,391 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('0a7c42ea769013e0424931c95b81c7caec3e9862fad9a3f8ed6ae64fd831c1d5', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 18:04:26,605 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 18:04:28,657 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 18:04:28,873 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 18:04:30,517 - INFO - Extracted text from page 2 using OCR fallback
2025-02-26 18:04:30,517 - INFO - Combined text length: 1585 characters
2025-02-26 18:04:30,517 - INFO - Text sample: PROTECTED B CFHS/SSFC Patient: Scan-Mammo DIAGNOSTIC Document Date: 2023-05-05 05/11/2023 12:07PM 5063677051 HIGGS PAGE 03/04 May 05 2023, MAMMO - Diagnostic oF | HEALTH L and Upper. River Valley Area...
2025-02-26 18:04:30,517 - INFO - Document is deidentified, using standard patient name
2025-02-26 18:04:30,525 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 18:04:30,525 - INFO - Updated birads_score from fallback: BIRADS 1-2
2025-02-26 18:04:30,527 - INFO - Extraction results: {"birads_score": "BIRADS 1", "document_date": "2023-05-05", "document_type": "Mammo", "electronically_signed_by": "Cynthia Theriault, FRCPC", "exam_date": "2023-05-11", "impression_result": "Stable mammogram. nagative for malignancy. Cynthia Theriault, FRCPC eee THIS IS AN. REPORT 05/05/2023 4:43 PM: Theriault, MD, Date Dictated: pm, Date Transcribed: 05-May-2033 4:43: pm   PAGE 1 Higga May contain confidential info Page 1 of 2 RID cot 15 lime May. 11, 2023 1:09PM No. 8783 ; . . Page: 22 Printed on: 2024- 08 01 14:17 PROTEGE B g Printed by: Natalie Paille", "mammogram_results": "breasts were imaged with standard and pushed back viewa. The parenchyma danse, category C. No of architectural clusters of suspicious or abnormal, are identified. impression: Stable mammogram. nagative for malignancy. Cynthia Theriault, FRCPC eee THIS IS AN. REPORT 05/05/2023 4:43 PM: Theriault, MD, Date Dictated: pm, Date Transcribed: 05-May-2033 4:43: pm   PAGE 1 Higga May contain confidential info Page 1 of 2 RID cot 15 lime May. 11, 2023 1:09PM No. 8783 ; . . Page: 22 Printed on: 2024- 08 01 14:17 PROTEGE B g Printed by: Natalie Paille", "patient_history": "Not Available", "patient_name": "Higgs Riggs, Jillian", "recommendation": "Not Available", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}, "requesting_doctor": "Higgs Riggs, Jillian"}
2025-02-26 18:04:30,527 - ERROR - Database error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?]
[parameters: ('0a7c42ea769013e0424931c95b81c7caec3e9862fad9a3f8ed6ae64fd831c1d5',)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 18:04:30,527 - INFO - Extraction complete for Eng Example 1.pdf
2025-02-26 18:04:30,527 - INFO - Fields extracted: ['raw_ocr_text', 'birads_score', 'document_date', 'document_type', 'electronically_signed_by', 'exam_date', 'impression_result', 'mammogram_results', 'patient_history', 'patient_name', 'recommendation', 'testing_provider', 'ultrasound_results', 'additional_information', 'is_deidentified', 'confidence_scores', 'requesting_doctor']
2025-02-26 18:04:30,527 - INFO - Patient name: Higgs Riggs, Jillian
2025-02-26 18:04:30,527 - INFO - Exam date: 2023-05-11
2025-02-26 18:04:30,527 - INFO - BIRADS score: BIRADS 1
2025-02-26 18:04:31,257 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 18:04:31,893 - WARNING - Failed to parse findings JSON: Expecting value: line 1 column 1 (char 0)
2025-02-26 18:04:31,893 - WARNING - Failed to parse findings JSON: Expecting value: line 1 column 1 (char 0)
2025-02-26 18:04:31,893 - WARNING - Failed to parse findings JSON: Expecting value: line 1 column 1 (char 0)
2025-02-26 18:04:31,893 - WARNING - Failed to parse findings JSON: Expecting value: line 1 column 1 (char 0)
2025-02-26 18:04:33,808 - INFO - Database initialized successfully
2025-02-26 18:05:14,977 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 18:05:15,157 - WARNING - Failed to parse findings JSON: Expecting value: line 1 column 1 (char 0)
2025-02-26 18:05:15,157 - WARNING - Failed to parse findings JSON: Expecting value: line 1 column 1 (char 0)
2025-02-26 18:05:15,157 - WARNING - Failed to parse findings JSON: Expecting value: line 1 column 1 (char 0)
2025-02-26 18:05:15,157 - WARNING - Failed to parse findings JSON: Expecting value: line 1 column 1 (char 0)
2025-02-26 18:05:16,192 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 18:05:16,493 - WARNING - Failed to parse findings JSON: Expecting value: line 1 column 1 (char 0)
2025-02-26 18:05:16,493 - WARNING - Failed to parse findings JSON: Expecting value: line 1 column 1 (char 0)
2025-02-26 18:05:16,493 - WARNING - Failed to parse findings JSON: Expecting value: line 1 column 1 (char 0)
2025-02-26 18:05:16,493 - WARNING - Failed to parse findings JSON: Expecting value: line 1 column 1 (char 0)
2025-02-26 18:05:18,062 - INFO - Database initialized successfully
2025-02-26 18:11:40,957 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 18:11:41,167 - ERROR - Database initialization error: name 'migrate_database_schema' is not defined
2025-02-26 18:12:02,707 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 18:12:02,733 - ERROR - Database initialization error: name 'migrate_database_schema' is not defined
2025-02-26 18:14:26,593 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 18:14:26,817 - INFO - Adding missing column 'report_metadata' to reports table
2025-02-26 18:14:26,817 - ERROR - Database migration error: Not an executable object: 'ALTER TABLE reports ADD COLUMN report_metadata TEXT'
2025-02-26 18:14:26,817 - INFO - Database initialized successfully
2025-02-26 18:25:20,490 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 18:25:20,497 - INFO - Adding missing column 'report_metadata' to reports table
2025-02-26 18:25:20,497 - ERROR - Database migration error: Not an executable object: 'ALTER TABLE reports ADD COLUMN report_metadata TEXT'
2025-02-26 18:25:20,497 - INFO - Database initialized successfully
2025-02-26 18:25:21,565 - INFO - Adding missing column 'report_metadata' to reports table
2025-02-26 18:25:21,565 - ERROR - Database migration error: Not an executable object: 'ALTER TABLE reports ADD COLUMN report_metadata TEXT'
2025-02-26 18:25:21,567 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('f2380bad50e7184e91eef3da0feb3e4512e6226ccd4dcbb7570d90026ec09389', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 18:25:21,827 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 18:25:23,237 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 18:25:23,237 - INFO - Combined text length: 1499 characters
2025-02-26 18:25:23,237 - INFO - Text sample: Patient: Scan-Mammo Bilat Screen w/ Tomosynthesis Ta: Printed on: Printed by: PROTECTED B Page: 1 of 1 2023-10-25 16:00:16 EDT {780}450-9551 From: MIC Medical Imaging 2023-10-25 Wed 13:58 Medical Imag...
2025-02-26 18:25:23,239 - INFO - Document is deidentified, using standard patient name
2025-02-26 18:25:23,267 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 18:25:23,270 - INFO - Updated birads_score from fallback: BIRADS mentioned
2025-02-26 18:25:23,270 - ERROR - PDF processing error: local variable 're' referenced before assignment
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 391, in process_pdf
    structured_data = validate_field_types(structured_data)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 224, in validate_field_types
    last_first_pattern = re.compile(r'^[A-Z][a-z]+\s*,\s*[A-Z][a-z]+$')
UnboundLocalError: local variable 're' referenced before assignment
2025-02-26 18:25:23,277 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('0a7c42ea769013e0424931c95b81c7caec3e9862fad9a3f8ed6ae64fd831c1d5', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 18:25:23,447 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 18:25:24,739 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 18:25:24,882 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 18:25:26,137 - INFO - Extracted text from page 2 using OCR fallback
2025-02-26 18:25:26,137 - INFO - Combined text length: 1585 characters
2025-02-26 18:25:26,147 - INFO - Text sample: PROTECTED B CFHS/SSFC Patient: Scan-Mammo DIAGNOSTIC Document Date: 2023-05-05 05/11/2023 12:07PM 5063677051 HIGGS PAGE 03/04 May 05 2023, MAMMO - Diagnostic oF | HEALTH L and Upper. River Valley Area...
2025-02-26 18:25:26,151 - INFO - Document is deidentified, using standard patient name
2025-02-26 18:25:26,151 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 18:25:26,151 - INFO - Updated birads_score from fallback: BIRADS 1-2
2025-02-26 18:25:26,151 - ERROR - PDF processing error: local variable 're' referenced before assignment
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 391, in process_pdf
    structured_data = validate_field_types(structured_data)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 224, in validate_field_types
    last_first_pattern = re.compile(r'^[A-Z][a-z]+\s*,\s*[A-Z][a-z]+$')
UnboundLocalError: local variable 're' referenced before assignment
2025-02-26 18:25:26,157 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('c08f8370a5d692579c1a41d137cbe5358c8ea3803d53543919686b7973c0e4a4', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 18:25:26,317 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 18:25:28,032 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 18:25:28,183 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 18:25:29,042 - INFO - Extracted text from page 2 using OCR fallback
2025-02-26 18:25:29,042 - INFO - Combined text length: 2010 characters
2025-02-26 18:25:29,042 - INFO - Text sample: PROTECTED B CFHS/SSFC Patient: Scan-Mammo (B) Diagnostic Document Date: 2021-12-23 MIC Medical Imaging Te 97808734 184 9974241 Page 2 MEDICAL IMAGING NP Patricia Malott CFB - Edmonton PO BOX 10500 STN...
2025-02-26 18:25:29,042 - INFO - Document is deidentified, using standard patient name
2025-02-26 18:25:29,047 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 18:25:29,047 - INFO - Updated birads_score from fallback: BIRADS 1-2
2025-02-26 18:25:29,047 - ERROR - PDF processing error: local variable 're' referenced before assignment
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 391, in process_pdf
    structured_data = validate_field_types(structured_data)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 224, in validate_field_types
    last_first_pattern = re.compile(r'^[A-Z][a-z]+\s*,\s*[A-Z][a-z]+$')
UnboundLocalError: local variable 're' referenced before assignment
2025-02-26 18:25:29,047 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('bdc1571aa41f7e75a31d204a3e715c0a4f915679769485d604fdb95f9219d4e6', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 18:25:29,217 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 18:25:30,397 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 18:25:30,397 - INFO - Combined text length: 1254 characters
2025-02-26 18:25:30,397 - INFO - Text sample: PROTECTED B CFHS/SSFC Scan-Mammo B Screening Document Date: 2023-07-19 To: Page: 1 of 1 2023-07-19 13:31:10 EDT (780}450-9551 From: MIC Medica! Imaging 2023-07-19 Wed 11:30 Medical Imaging Consultants...
2025-02-26 18:25:30,397 - INFO - Document is deidentified, using standard patient name
2025-02-26 18:25:30,397 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 18:25:30,397 - INFO - Updated birads_score from fallback: BIRADS 4-5
2025-02-26 18:25:30,397 - ERROR - PDF processing error: local variable 're' referenced before assignment
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 391, in process_pdf
    structured_data = validate_field_types(structured_data)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 224, in validate_field_types
    last_first_pattern = re.compile(r'^[A-Z][a-z]+\s*,\s*[A-Z][a-z]+$')
UnboundLocalError: local variable 're' referenced before assignment
2025-02-26 18:25:30,929 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 18:25:31,267 - WARNING - Failed to parse findings JSON: Expecting value: line 1 column 1 (char 0)
2025-02-26 18:25:31,267 - WARNING - Failed to parse findings JSON: Expecting value: line 1 column 1 (char 0)
2025-02-26 18:25:31,267 - WARNING - Failed to parse findings JSON: Expecting value: line 1 column 1 (char 0)
2025-02-26 18:25:31,267 - WARNING - Failed to parse findings JSON: Expecting value: line 1 column 1 (char 0)
2025-02-26 18:25:31,597 - INFO - Adding missing column 'report_metadata' to reports table
2025-02-26 18:25:31,597 - ERROR - Database migration error: Not an executable object: 'ALTER TABLE reports ADD COLUMN report_metadata TEXT'
2025-02-26 18:25:31,597 - INFO - Database initialized successfully
2025-02-26 18:25:39,937 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 18:25:39,947 - INFO - Adding missing column 'report_metadata' to reports table
2025-02-26 18:25:39,947 - ERROR - Database migration error: Not an executable object: 'ALTER TABLE reports ADD COLUMN report_metadata TEXT'
2025-02-26 18:25:39,947 - INFO - Database initialized successfully
2025-02-26 18:25:48,187 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 18:25:48,197 - INFO - Adding missing column 'report_metadata' to reports table
2025-02-26 18:25:48,197 - ERROR - Database migration error: Not an executable object: 'ALTER TABLE reports ADD COLUMN report_metadata TEXT'
2025-02-26 18:25:48,197 - INFO - Database initialized successfully
2025-02-26 18:25:49,047 - INFO - Adding missing column 'report_metadata' to reports table
2025-02-26 18:25:49,047 - ERROR - Database migration error: Not an executable object: 'ALTER TABLE reports ADD COLUMN report_metadata TEXT'
2025-02-26 18:25:49,058 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('f2380bad50e7184e91eef3da0feb3e4512e6226ccd4dcbb7570d90026ec09389', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 18:25:49,237 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 18:25:50,477 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 18:25:50,477 - INFO - Combined text length: 1499 characters
2025-02-26 18:25:50,477 - INFO - Text sample: Patient: Scan-Mammo Bilat Screen w/ Tomosynthesis Ta: Printed on: Printed by: PROTECTED B Page: 1 of 1 2023-10-25 16:00:16 EDT {780}450-9551 From: MIC Medical Imaging 2023-10-25 Wed 13:58 Medical Imag...
2025-02-26 18:25:50,477 - INFO - Document is deidentified, using standard patient name
2025-02-26 18:25:50,477 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 18:25:50,477 - INFO - Updated birads_score from fallback: BIRADS mentioned
2025-02-26 18:25:50,477 - ERROR - PDF processing error: local variable 're' referenced before assignment
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 391, in process_pdf
    structured_data = validate_field_types(structured_data)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 224, in validate_field_types
    last_first_pattern = re.compile(r'^[A-Z][a-z]+\s*,\s*[A-Z][a-z]+$')
UnboundLocalError: local variable 're' referenced before assignment
2025-02-26 18:25:50,492 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('c08f8370a5d692579c1a41d137cbe5358c8ea3803d53543919686b7973c0e4a4', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 18:25:50,657 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 18:25:51,829 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 18:25:51,977 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 18:25:52,717 - INFO - Extracted text from page 2 using OCR fallback
2025-02-26 18:25:52,717 - INFO - Combined text length: 2010 characters
2025-02-26 18:25:52,717 - INFO - Text sample: PROTECTED B CFHS/SSFC Patient: Scan-Mammo (B) Diagnostic Document Date: 2021-12-23 MIC Medical Imaging Te 97808734 184 9974241 Page 2 MEDICAL IMAGING NP Patricia Malott CFB - Edmonton PO BOX 10500 STN...
2025-02-26 18:25:52,717 - INFO - Document is deidentified, using standard patient name
2025-02-26 18:25:52,724 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 18:25:52,727 - INFO - Updated birads_score from fallback: BIRADS 1-2
2025-02-26 18:25:52,727 - ERROR - PDF processing error: local variable 're' referenced before assignment
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 391, in process_pdf
    structured_data = validate_field_types(structured_data)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 224, in validate_field_types
    last_first_pattern = re.compile(r'^[A-Z][a-z]+\s*,\s*[A-Z][a-z]+$')
UnboundLocalError: local variable 're' referenced before assignment
2025-02-26 18:25:52,727 - ERROR - Cache lookup error: (sqlite3.OperationalError) no such column: reports.report_metadata
[SQL: SELECT reports.md5_hash AS reports_md5_hash, reports.filename AS reports_filename, reports.processed_at AS reports_processed_at, reports.patient_name AS reports_patient_name, reports.exam_date AS reports_exam_date, reports.findings AS reports_findings, reports.report_metadata AS reports_report_metadata, reports.raw_ocr_text AS reports_raw_ocr_text 
FROM reports 
WHERE reports.md5_hash = ?
 LIMIT ? OFFSET ?]
[parameters: ('bdc1571aa41f7e75a31d204a3e715c0a4f915679769485d604fdb95f9219d4e6', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 18:25:52,877 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 18:25:53,987 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 18:25:53,987 - INFO - Combined text length: 1254 characters
2025-02-26 18:25:53,987 - INFO - Text sample: PROTECTED B CFHS/SSFC Scan-Mammo B Screening Document Date: 2023-07-19 To: Page: 1 of 1 2023-07-19 13:31:10 EDT (780}450-9551 From: MIC Medica! Imaging 2023-07-19 Wed 11:30 Medical Imaging Consultants...
2025-02-26 18:25:53,987 - INFO - Document is deidentified, using standard patient name
2025-02-26 18:25:53,994 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 18:25:53,994 - INFO - Updated birads_score from fallback: BIRADS 4-5
2025-02-26 18:25:53,994 - ERROR - PDF processing error: local variable 're' referenced before assignment
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 391, in process_pdf
    structured_data = validate_field_types(structured_data)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 224, in validate_field_types
    last_first_pattern = re.compile(r'^[A-Z][a-z]+\s*,\s*[A-Z][a-z]+$')
UnboundLocalError: local variable 're' referenced before assignment
2025-02-26 18:25:54,051 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 18:25:54,157 - WARNING - Failed to parse findings JSON: Expecting value: line 1 column 1 (char 0)
2025-02-26 18:25:54,157 - WARNING - Failed to parse findings JSON: Expecting value: line 1 column 1 (char 0)
2025-02-26 18:25:54,157 - WARNING - Failed to parse findings JSON: Expecting value: line 1 column 1 (char 0)
2025-02-26 18:25:54,457 - INFO - Adding missing column 'report_metadata' to reports table
2025-02-26 18:25:54,457 - ERROR - Database migration error: Not an executable object: 'ALTER TABLE reports ADD COLUMN report_metadata TEXT'
2025-02-26 18:25:54,457 - INFO - Database initialized successfully
2025-02-26 18:28:34,077 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 18:28:34,345 - ERROR - Database initialization error: name 'migrate_database_schema' is not defined
2025-02-26 18:28:43,032 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 18:28:43,076 - ERROR - Database initialization error: name 'migrate_database_schema' is not defined
2025-02-26 18:41:30,107 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 18:41:30,357 - INFO - Adding missing column 'report_metadata' to reports table
2025-02-26 18:41:30,377 - INFO - Successfully added 'report_metadata' column
2025-02-26 18:41:30,377 - INFO - Adding missing column 'report_metadata' to reports table
2025-02-26 18:41:30,377 - ERROR - Database migration error: (sqlite3.OperationalError) duplicate column name: report_metadata
[SQL: ALTER TABLE reports ADD COLUMN report_metadata TEXT]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-02-26 18:41:30,377 - INFO - Database initialized successfully
2025-02-26 18:41:57,387 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 18:41:57,497 - INFO - Database initialized successfully
2025-02-26 18:41:59,155 - INFO - Using cached results for Eng Example 2.pdf
2025-02-26 18:41:59,155 - ERROR - Cache lookup error: the JSON object must be str, bytes or bytearray, not NoneType
2025-02-26 18:41:59,507 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 18:42:01,564 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 18:42:01,873 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 18:42:03,152 - INFO - Extracted text from page 2 using OCR fallback
2025-02-26 18:42:03,153 - INFO - Combined text length: 2010 characters
2025-02-26 18:42:03,153 - INFO - Text sample: PROTECTED B CFHS/SSFC Patient: Scan-Mammo (B) Diagnostic Document Date: 2021-12-23 MIC Medical Imaging Te 97808734 184 9974241 Page 2 MEDICAL IMAGING NP Patricia Malott CFB - Edmonton PO BOX 10500 STN...
2025-02-26 18:42:03,154 - INFO - Document is deidentified, using standard patient name
2025-02-26 18:42:03,188 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 18:42:03,192 - INFO - Updated birads_score from fallback: BIRADS 1-2
2025-02-26 18:42:03,192 - ERROR - PDF processing error: local variable 're' referenced before assignment
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 349, in process_pdf
    structured_data = validate_field_types(structured_data)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 182, in validate_field_types
    last_first_pattern = re.compile(r'^[A-Z][a-z]+\s*,\s*[A-Z][a-z]+$')
UnboundLocalError: local variable 're' referenced before assignment
2025-02-26 18:42:03,202 - INFO - Using cached results for Eng Example 3.pdf
2025-02-26 18:42:03,202 - ERROR - Cache lookup error: the JSON object must be str, bytes or bytearray, not NoneType
2025-02-26 18:42:03,441 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 18:42:05,087 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 18:42:05,088 - INFO - Combined text length: 1254 characters
2025-02-26 18:42:05,088 - INFO - Text sample: PROTECTED B CFHS/SSFC Scan-Mammo B Screening Document Date: 2023-07-19 To: Page: 1 of 1 2023-07-19 13:31:10 EDT (780}450-9551 From: MIC Medica! Imaging 2023-07-19 Wed 11:30 Medical Imaging Consultants...
2025-02-26 18:42:05,088 - INFO - Document is deidentified, using standard patient name
2025-02-26 18:42:05,093 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 18:42:05,094 - INFO - Updated birads_score from fallback: BIRADS 4-5
2025-02-26 18:42:05,094 - ERROR - PDF processing error: local variable 're' referenced before assignment
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 349, in process_pdf
    structured_data = validate_field_types(structured_data)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 182, in validate_field_types
    last_first_pattern = re.compile(r'^[A-Z][a-z]+\s*,\s*[A-Z][a-z]+$')
UnboundLocalError: local variable 're' referenced before assignment
2025-02-26 18:42:05,102 - INFO - Using cached results for Eng Example 1.pdf
2025-02-26 18:42:05,102 - ERROR - Cache lookup error: the JSON object must be str, bytes or bytearray, not NoneType
2025-02-26 18:42:05,366 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 18:42:07,307 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 18:42:07,552 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 18:42:09,713 - INFO - Extracted text from page 2 using OCR fallback
2025-02-26 18:42:09,713 - INFO - Combined text length: 1585 characters
2025-02-26 18:42:09,714 - INFO - Text sample: PROTECTED B CFHS/SSFC Patient: Scan-Mammo DIAGNOSTIC Document Date: 2023-05-05 05/11/2023 12:07PM 5063677051 HIGGS PAGE 03/04 May 05 2023, MAMMO - Diagnostic oF | HEALTH L and Upper. River Valley Area...
2025-02-26 18:42:09,715 - INFO - Document is deidentified, using standard patient name
2025-02-26 18:42:09,720 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 18:42:09,722 - INFO - Updated birads_score from fallback: BIRADS 1-2
2025-02-26 18:42:09,722 - ERROR - PDF processing error: local variable 're' referenced before assignment
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 349, in process_pdf
    structured_data = validate_field_types(structured_data)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 182, in validate_field_types
    last_first_pattern = re.compile(r'^[A-Z][a-z]+\s*,\s*[A-Z][a-z]+$')
UnboundLocalError: local variable 're' referenced before assignment
2025-02-26 18:42:10,502 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 18:42:11,336 - WARNING - Failed to parse findings JSON: Expecting value: line 1 column 1 (char 0)
2025-02-26 18:42:11,336 - WARNING - Failed to parse findings JSON: Expecting value: line 1 column 1 (char 0)
2025-02-26 18:42:11,337 - WARNING - Failed to parse findings JSON: Expecting value: line 1 column 1 (char 0)
2025-02-26 18:42:12,053 - INFO - Database initialized successfully
2025-02-26 19:21:32,577 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 19:21:34,027 - INFO - Database initialized successfully
2025-02-26 21:25:50,079 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 21:25:50,308 - INFO - Database initialized successfully
2025-02-26 21:25:51,246 - INFO - Using cached results for Eng Example 2.pdf
2025-02-26 21:25:51,247 - ERROR - Cache lookup error: the JSON object must be str, bytes or bytearray, not NoneType
2025-02-26 21:25:51,697 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 21:25:55,722 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 21:25:55,983 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 21:25:57,462 - INFO - Extracted text from page 2 using OCR fallback
2025-02-26 21:25:57,462 - INFO - Combined text length: 2010 characters
2025-02-26 21:25:57,462 - INFO - Text sample: PROTECTED B CFHS/SSFC Patient: Scan-Mammo (B) Diagnostic Document Date: 2021-12-23 MIC Medical Imaging Te 97808734 184 9974241 Page 2 MEDICAL IMAGING NP Patricia Malott CFB - Edmonton PO BOX 10500 STN...
2025-02-26 21:25:57,462 - INFO - Document is deidentified, using standard patient name
2025-02-26 21:25:57,497 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 21:25:57,500 - INFO - Updated birads_score from fallback: BIRADS 1-2
2025-02-26 21:25:57,504 - ERROR - PDF processing error: local variable 're' referenced before assignment
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 349, in process_pdf
    structured_data = validate_field_types(structured_data)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 182, in validate_field_types
    last_first_pattern = re.compile(r'^[A-Z][a-z]+\s*,\s*[A-Z][a-z]+$')
UnboundLocalError: local variable 're' referenced before assignment
2025-02-26 21:25:57,512 - INFO - Using cached results for Eng Example 3.pdf
2025-02-26 21:25:57,512 - ERROR - Cache lookup error: the JSON object must be str, bytes or bytearray, not NoneType
2025-02-26 21:25:57,751 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 21:25:59,383 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 21:25:59,383 - INFO - Combined text length: 1254 characters
2025-02-26 21:25:59,383 - INFO - Text sample: PROTECTED B CFHS/SSFC Scan-Mammo B Screening Document Date: 2023-07-19 To: Page: 1 of 1 2023-07-19 13:31:10 EDT (780}450-9551 From: MIC Medica! Imaging 2023-07-19 Wed 11:30 Medical Imaging Consultants...
2025-02-26 21:25:59,383 - INFO - Document is deidentified, using standard patient name
2025-02-26 21:25:59,387 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 21:25:59,387 - INFO - Updated birads_score from fallback: BIRADS 4-5
2025-02-26 21:25:59,387 - ERROR - PDF processing error: local variable 're' referenced before assignment
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 349, in process_pdf
    structured_data = validate_field_types(structured_data)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 182, in validate_field_types
    last_first_pattern = re.compile(r'^[A-Z][a-z]+\s*,\s*[A-Z][a-z]+$')
UnboundLocalError: local variable 're' referenced before assignment
2025-02-26 21:25:59,395 - INFO - Using cached results for Eng Example 1.pdf
2025-02-26 21:25:59,395 - ERROR - Cache lookup error: the JSON object must be str, bytes or bytearray, not NoneType
2025-02-26 21:25:59,625 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 21:26:01,539 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 21:26:01,767 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 21:26:04,573 - INFO - Extracted text from page 2 using OCR fallback
2025-02-26 21:26:04,573 - INFO - Combined text length: 1585 characters
2025-02-26 21:26:04,577 - INFO - Text sample: PROTECTED B CFHS/SSFC Patient: Scan-Mammo DIAGNOSTIC Document Date: 2023-05-05 05/11/2023 12:07PM 5063677051 HIGGS PAGE 03/04 May 05 2023, MAMMO - Diagnostic oF | HEALTH L and Upper. River Valley Area...
2025-02-26 21:26:04,577 - INFO - Document is deidentified, using standard patient name
2025-02-26 21:26:04,591 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 21:26:04,593 - INFO - Updated birads_score from fallback: BIRADS 1-2
2025-02-26 21:26:04,593 - ERROR - PDF processing error: local variable 're' referenced before assignment
Traceback (most recent call last):
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 349, in process_pdf
    structured_data = validate_field_types(structured_data)
  File "C:\Users\ybada\OneDrive\Desktop\Chatbots\Medical\src\app.py", line 182, in validate_field_types
    last_first_pattern = re.compile(r'^[A-Z][a-z]+\s*,\s*[A-Z][a-z]+$')
UnboundLocalError: local variable 're' referenced before assignment
2025-02-26 21:26:05,299 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 21:26:05,835 - WARNING - Failed to parse findings JSON: Expecting value: line 1 column 1 (char 0)
2025-02-26 21:26:05,835 - WARNING - Failed to parse findings JSON: Expecting value: line 1 column 1 (char 0)
2025-02-26 21:26:05,835 - WARNING - Failed to parse findings JSON: Expecting value: line 1 column 1 (char 0)
2025-02-26 21:26:06,349 - INFO - Database initialized successfully
2025-02-26 21:34:04,777 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 21:34:05,357 - INFO - Database initialized successfully
2025-02-26 21:39:12,267 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 21:39:12,334 - INFO - Database initialized successfully
2025-02-26 21:39:13,807 - INFO - Using cached results for Eng Example 3.pdf
2025-02-26 21:39:13,807 - ERROR - Cache lookup error: the JSON object must be str, bytes or bytearray, not NoneType
2025-02-26 21:39:14,369 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 21:39:18,823 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 21:39:18,823 - INFO - Combined text length: 1254 characters
2025-02-26 21:39:18,823 - INFO - Text sample: PROTECTED B CFHS/SSFC Scan-Mammo B Screening Document Date: 2023-07-19 To: Page: 1 of 1 2023-07-19 13:31:10 EDT (780}450-9551 From: MIC Medica! Imaging 2023-07-19 Wed 11:30 Medical Imaging Consultants...
2025-02-26 21:39:18,823 - INFO - Document is deidentified, using standard patient name
2025-02-26 21:39:18,858 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 21:39:18,869 - INFO - Updated birads_score from fallback: BIRADS 4-5
2025-02-26 21:39:18,869 - INFO - Provider and signature fields match, increasing confidence
2025-02-26 21:39:18,873 - WARNING - Could not parse date: 19
2025-02-26 21:39:18,873 - INFO - Extraction results: {"birads_score": "BIRADS 4", "document_date": "2023-07-19", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "Not Available", "impression_result": "Na mammographic evidence of malignancy. Screening mammography recommended in 1-2 years. Upcoming ABUS will be reported separately Recommendation: Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "mammogram_results": "Density: ACR C: The breasts are heterogeneously dense, which may obscure small masses. Bilateral retropectoral silicone implants without complication. No conceming mass, architectural distortion or suspicious microcalcifications IMPRESSION: Na mammographic evidence of malignancy. Screening mammography recommended in 1-2 years. Upcoming ABUS will be reported separately Recommendation: Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "patient_history": "Breast cancer screening, no symptoms. Family history breast ca, aunt. Breast augmentation 2013, last mammogram 2018. Compared to previous exams there has been no adverse interval change. FINDINGS: Density: ACR C: The breasts are heterogeneously dense, which may obscure small masses. Bilateral retropectoral silicone implants without complication. No conceming mass, architectural distortion or suspicious microcalcifications IMPRESSION: Na mammographic evidence of malignancy. Screening mammography recommended in 1-2 years. Upcoming ABUS will be reported separately Recommendation: Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "patient_name": "Deidentified", "recommendation": "Screening with +/- ABUS in 1-2 years. BI-RADS: 2. Electronically Signed: Dr. T. Horwitz, FRCPC 7/19/2023 11:22 AM MDT Page 1 of 1 Printed on: 2023-12-05 13:22 Page: 4 PROTEGE B Printed by: James Campbell OTEG", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-26 21:39:18,901 - INFO - Saved report to database: Eng Example 3.pdf
2025-02-26 21:39:18,907 - INFO - Using cached results for Eng Example 1.pdf
2025-02-26 21:39:18,907 - ERROR - Cache lookup error: the JSON object must be str, bytes or bytearray, not NoneType
2025-02-26 21:39:19,207 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 21:39:21,961 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 21:39:22,207 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 21:39:24,107 - INFO - Extracted text from page 2 using OCR fallback
2025-02-26 21:39:24,107 - INFO - Combined text length: 1585 characters
2025-02-26 21:39:24,107 - INFO - Text sample: PROTECTED B CFHS/SSFC Patient: Scan-Mammo DIAGNOSTIC Document Date: 2023-05-05 05/11/2023 12:07PM 5063677051 HIGGS PAGE 03/04 May 05 2023, MAMMO - Diagnostic oF | HEALTH L and Upper. River Valley Area...
2025-02-26 21:39:24,107 - INFO - Document is deidentified, using standard patient name
2025-02-26 21:39:24,117 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 21:39:24,117 - INFO - Updated birads_score from fallback: BIRADS 1-2
2025-02-26 21:39:24,117 - INFO - Reclassified 'Higgs Riggs, Jillian' from patient to provider (name format)
2025-02-26 21:39:24,117 - INFO - Extraction results: {"birads_score": "BIRADS 1", "document_date": "2023-05-05", "document_type": "Mammo", "electronically_signed_by": "Cynthia Theriault, FRCPC", "exam_date": "2023-05-11", "impression_result": "Stable mammogram. nagative for malignancy. Cynthia Theriault, FRCPC eee THIS IS AN. REPORT 05/05/2023 4:43 PM: Theriault, MD, Date Dictated: pm, Date Transcribed: 05-May-2033 4:43: pm   PAGE 1 Higga May contain confidential info Page 1 of 2 RID cot 15 lime May. 11, 2023 1:09PM No. 8783 ; . . Page: 22 Printed on: 2024- 08 01 14:17 PROTEGE B g Printed by: Natalie Paille", "mammogram_results": "breasts were imaged with standard and pushed back viewa. The parenchyma danse, category C. No of architectural clusters of suspicious or abnormal, are identified. impression: Stable mammogram. nagative for malignancy. Cynthia Theriault, FRCPC eee THIS IS AN. REPORT 05/05/2023 4:43 PM: Theriault, MD, Date Dictated: pm, Date Transcribed: 05-May-2033 4:43: pm   PAGE 1 Higga May contain confidential info Page 1 of 2 RID cot 15 lime May. 11, 2023 1:09PM No. 8783 ; . . Page: 22 Printed on: 2024- 08 01 14:17 PROTEGE B g Printed by: Natalie Paille", "patient_history": "Not Available", "patient_name": "Not Available", "recommendation": "Not Available", "testing_provider": "Higgs Riggs, Jillian", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}, "requesting_doctor": "Higgs Riggs, Jillian"}
2025-02-26 21:39:24,137 - INFO - Saved report to database: Eng Example 1.pdf
2025-02-26 21:39:24,139 - INFO - Using cached results for Eng Example 2.pdf
2025-02-26 21:39:24,139 - ERROR - Cache lookup error: the JSON object must be str, bytes or bytearray, not NoneType
2025-02-26 21:39:24,447 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 21:39:26,480 - INFO - Extracted text from page 1 using OCR fallback
2025-02-26 21:39:26,757 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 21:39:28,097 - INFO - Extracted text from page 2 using OCR fallback
2025-02-26 21:39:28,097 - INFO - Combined text length: 2010 characters
2025-02-26 21:39:28,097 - INFO - Text sample: PROTECTED B CFHS/SSFC Patient: Scan-Mammo (B) Diagnostic Document Date: 2021-12-23 MIC Medical Imaging Te 97808734 184 9974241 Page 2 MEDICAL IMAGING NP Patricia Malott CFB - Edmonton PO BOX 10500 STN...
2025-02-26 21:39:28,097 - INFO - Document is deidentified, using standard patient name
2025-02-26 21:39:28,110 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-26 21:39:28,110 - INFO - Updated birads_score from fallback: BIRADS 1-2
2025-02-26 21:39:28,110 - INFO - Provider and signature fields match, increasing confidence
2025-02-26 21:39:28,110 - WARNING - Could not parse date: 23
2025-02-26 21:39:28,110 - INFO - Extraction results: {"birads_score": "BIRADS 1", "document_date": "2021-12-23", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "Not Available", "impression_result": "No mammographic or sonographic evidence of malignancy. No worrisome to account for the patient's concerns. BI-RADS: 1: Negative. Recommendation(s): Screening mammography recommended in 1 year. Electronically Signed: Dr. Hector Aguilar, FRCPC 12/23/2021 3:33 PM MST Page 1 of 2 Printed on: 2022-09-09 07:51 Printed by: Natalie Paille PROTEGE B Page: 17", "mammogram_results": "Not Available", "patient_history": "Intermittent pain in right breast. History augmentation BILATERAL DIAGNOSTIC MAMMOGRAPHY WITH TOMOSYNTHESIS - IMPLANTS ULTRASOUND RIGHT BREAST History: The patient describes intermittent pain in the right breast approximately 9 o'clock the last six months. No or family history of breast cancer. Mammogram: This is a baseline study. The background breast parenchyma is almost entirely fat replaced (ACR category A). Bilateral retropectoral silicone implants are seen. These appear intact with a normal contour. No suspicious mass, architectural distortion, or suspicious microcalcifications in either breast. Ultrasound: Ultrasound of the area of pain demonstrates normal breast tissue with no suspicious abnormality. IMPRESSION: No mammographic or sonographic evidence of malignancy. No worrisome to account for the patient's concerns. BI-RADS: 1: Negative. Recommendation(s): Screening mammography recommended in 1 year. Electronically Signed: Dr. Hector Aguilar, FRCPC 12/23/2021 3:33 PM MST Page 1 of 2 Printed on: 2022-09-09 07:51 Printed by: Natalie Paille PROTEGE B Page: 17", "patient_name": "Deidentified", "recommendation": "(s): Screening mammography recommended in 1 year. Electronically Signed: Dr. Hector Aguilar, FRCPC 12/23/2021 3:33 PM MST Page 1 of 2 Printed on: 2022-09-09 07:51 Printed by: Natalie Paille PROTEGE B Page: 17", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-26 21:39:28,127 - INFO - Saved report to database: Eng Example 2.pdf
2025-02-26 21:39:28,871 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 21:39:29,678 - WARNING - Failed to parse findings JSON: Expecting value: line 1 column 1 (char 0)
2025-02-26 21:39:29,678 - WARNING - Failed to parse findings JSON: Expecting value: line 1 column 1 (char 0)
2025-02-26 21:39:29,678 - WARNING - Failed to parse findings JSON: Expecting value: line 1 column 1 (char 0)
2025-02-26 21:39:30,597 - INFO - Database initialized successfully
2025-02-26 21:40:21,333 - INFO - Tesseract version: 5.5.0.20241111
2025-02-26 21:40:21,599 - WARNING - Failed to parse findings JSON: Expecting value: line 1 column 1 (char 0)
2025-02-26 21:40:21,599 - WARNING - Failed to parse findings JSON: Expecting value: line 1 column 1 (char 0)
2025-02-26 21:40:21,599 - WARNING - Failed to parse findings JSON: Expecting value: line 1 column 1 (char 0)
2025-02-26 21:40:22,939 - INFO - Database initialized successfully
2025-02-27 13:04:47,485 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 13:04:48,287 - INFO - Database initialized successfully
2025-02-27 13:07:08,127 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 13:07:08,159 - INFO - Database initialized successfully
2025-02-27 13:07:11,672 - INFO - Using cached results for Eng Example 3.pdf
2025-02-27 13:07:11,672 - INFO - Using cached results for Eng Example 4.pdf
2025-02-27 13:07:11,672 - ERROR - Cache lookup error: the JSON object must be str, bytes or bytearray, not NoneType
2025-02-27 13:07:11,925 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 13:07:13,273 - INFO - Extracted text from page 1 using OCR fallback
2025-02-27 13:07:13,273 - INFO - Combined text length: 1499 characters
2025-02-27 13:07:13,273 - INFO - Text sample: Patient: Scan-Mammo Bilat Screen w/ Tomosynthesis Ta: Printed on: Printed by: PROTECTED B Page: 1 of 1 2023-10-25 16:00:16 EDT {780}450-9551 From: MIC Medical Imaging 2023-10-25 Wed 13:58 Medical Imag...
2025-02-27 13:07:13,273 - INFO - Document is deidentified, using standard patient name
2025-02-27 13:07:13,311 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-27 13:07:13,311 - INFO - Updated birads_score from fallback: BIRADS mentioned
2025-02-27 13:07:13,311 - INFO - Provider and signature fields match, increasing confidence
2025-02-27 13:07:13,311 - WARNING - Could not parse date: 25
2025-02-27 13:07:13,311 - INFO - Extraction results: {"birads_score": "Not Available", "document_date": "2023-10-25", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "Not Available", "impression_result": "No mammographic evidence of malignancy. Annual screening is recommended for patients of this age once mammography has begun Recommendation: Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "mammogram_results": "Density: ACR Category B: There are scattered areas of fibroglandular density. No mass, architectural distortion or microcalcifications IMPRESSION: No mammographic evidence of malignancy. Annual screening is recommended for patients of this age once mammography has begun Recommendation: Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "patient_history": "Screening. Aunt diagnosed with postmenopausal breast cancer. COMPARISON: None. Baseline. FINDINGS: Density: ACR Category B: There are scattered areas of fibroglandular density. No mass, architectural distortion or microcalcifications IMPRESSION: No mammographic evidence of malignancy. Annual screening is recommended for patients of this age once mammography has begun Recommendation: Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "patient_name": "Deidentified", "recommendation": "Screening in 1 year. BI-RADS: 1. October is Breast Cancer Awareness month, and we wanted to bring attention to the recently changed breast cancer screening guidelines for Alberta women. Women aged 45-74 are encouraged to attend and can now self-refer for routine breast cancer screening every 1-2 years. Women aged 40-44 are encouraged to discuss breast cancer screening with their primary care physician and may request a requisition. After the first requisition, women 40-44 can self-refer annually, Electronically Signed: Jason Novak 10/25/2023 1:50 PM MDT Page 1 of 1 2024-04-10 09:17 Gail Greer PROTEGE B Document Date: 2023-10-25 CFHS/SSFC Page: 17", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-27 13:07:13,321 - INFO - Saved report to database: Eng Example 4.pdf
2025-02-27 13:07:13,337 - INFO - Using cached results for Eng Example 2.pdf
2025-02-27 13:07:13,748 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 13:07:14,239 - WARNING - Failed to parse findings JSON: Expecting value: line 1 column 1 (char 0)
2025-02-27 13:07:14,239 - WARNING - Failed to parse findings JSON: Expecting value: line 1 column 1 (char 0)
2025-02-27 13:07:14,239 - WARNING - Failed to parse findings JSON: Expecting value: line 1 column 1 (char 0)
2025-02-27 13:07:14,836 - INFO - Database initialized successfully
2025-02-27 17:42:43,416 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 17:42:44,282 - INFO - Database initialized successfully
2025-02-27 17:43:00,279 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 17:43:00,293 - INFO - Database initialized successfully
2025-02-27 17:43:01,712 - INFO - Using cached results for Eng Example 3.pdf
2025-02-27 17:43:01,717 - INFO - Using cached results for Eng Example 4.pdf
2025-02-27 17:43:01,717 - INFO - Using cached results for Eng Example 1.pdf
2025-02-27 17:43:01,717 - INFO - Using cached results for Eng Example 2.pdf
2025-02-27 17:43:03,746 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 17:43:05,561 - INFO - Database initialized successfully
2025-02-27 17:43:31,394 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 17:43:32,071 - INFO - Database initialized successfully
2025-02-27 17:48:19,161 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 17:48:23,290 - INFO - Database initialized successfully
2025-02-27 17:48:32,540 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 17:48:32,562 - INFO - Database initialized successfully
2025-02-27 17:48:33,879 - INFO - Using cached results for Eng Example 2.pdf
2025-02-27 17:48:33,883 - INFO - Using cached results for Eng Example 3.pdf
2025-02-27 17:48:33,883 - INFO - Using cached results for Eng Example 4.pdf
2025-02-27 17:48:33,887 - INFO - Using cached results for Eng Example 1.pdf
2025-02-27 17:48:34,346 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 17:48:46,810 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 18:11:23,620 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 18:11:25,003 - INFO - Database initialized successfully
2025-02-27 18:12:48,722 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 18:12:48,784 - INFO - Database initialized successfully
2025-02-27 18:12:50,025 - INFO - Using cached results for Eng Example 4.pdf
2025-02-27 18:12:50,035 - INFO - Using cached results for Eng Example 1.pdf
2025-02-27 18:12:50,048 - INFO - Using cached results for Eng Example 2.pdf
2025-02-27 18:12:50,055 - INFO - Using cached results for Eng Example 3.pdf
2025-02-27 18:12:51,468 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 18:18:52,501 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 18:18:53,900 - INFO - Database initialized successfully
2025-02-27 18:21:27,341 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 18:21:27,423 - INFO - Database initialized successfully
2025-02-27 18:21:31,566 - INFO - Using cached results for Eng Example 2.pdf
2025-02-27 18:21:31,569 - INFO - Using cached results for Eng Example 3.pdf
2025-02-27 18:21:31,571 - INFO - Using cached results for Eng Example 4.pdf
2025-02-27 18:21:31,575 - INFO - Using cached results for Eng Example 1.pdf
2025-02-27 18:21:32,014 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 18:21:33,566 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 18:30:38,008 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 18:30:38,387 - INFO - Database initialized successfully
2025-02-27 18:32:03,551 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 18:32:03,584 - INFO - Database initialized successfully
2025-02-27 18:32:04,973 - INFO - Using cached results for Eng Example 3.pdf
2025-02-27 18:32:04,979 - INFO - Using cached results for Eng Example 4.pdf
2025-02-27 18:32:04,983 - INFO - Using cached results for Eng Example 1.pdf
2025-02-27 18:32:04,983 - INFO - Using cached results for Eng Example 2.pdf
2025-02-27 18:32:05,626 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 18:32:09,478 - INFO - Database initialized successfully
2025-02-27 18:41:49,749 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 18:41:49,914 - INFO - Database initialized successfully
2025-02-27 18:47:40,818 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 18:47:40,847 - INFO - Database initialized successfully
2025-02-27 18:47:41,676 - INFO - Using cached results for Eng Example 3.pdf
2025-02-27 18:47:41,680 - INFO - Using cached results for Eng Example 4.pdf
2025-02-27 18:47:41,684 - INFO - Using cached results for Eng Example 1.pdf
2025-02-27 18:47:41,688 - INFO - Using cached results for Eng Example 2.pdf
2025-02-27 18:47:42,305 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 18:47:45,879 - INFO - Database initialized successfully
2025-02-27 18:47:52,143 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 18:47:55,012 - INFO - Database initialized successfully
2025-02-27 18:52:46,863 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 18:52:46,873 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 18:52:47,529 - INFO - Database initialized successfully
2025-02-27 18:52:47,534 - INFO - Database initialized successfully
2025-02-27 18:53:00,953 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 18:53:00,985 - INFO - Database initialized successfully
2025-02-27 18:53:02,431 - INFO - Using cached results for Eng Example 2.pdf
2025-02-27 18:53:02,434 - INFO - Using cached results for Eng Example 3.pdf
2025-02-27 18:53:02,437 - INFO - Using cached results for Eng Example 4.pdf
2025-02-27 18:53:02,440 - INFO - Using cached results for Eng Example 1.pdf
2025-02-27 18:53:03,076 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 18:53:06,298 - INFO - Database initialized successfully
2025-02-27 19:05:32,896 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 19:05:33,419 - INFO - Database initialized successfully
2025-02-27 19:13:13,416 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 19:13:13,411 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 19:13:17,178 - INFO - Database initialized successfully
2025-02-27 19:13:17,198 - INFO - Database initialized successfully
2025-02-27 19:14:04,941 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 19:14:05,030 - INFO - Database initialized successfully
2025-02-27 19:14:06,200 - INFO - Using cached results for Eng Example 2.pdf
2025-02-27 19:14:06,200 - INFO - Using cached results for Eng Example 3.pdf
2025-02-27 19:14:06,200 - INFO - Using cached results for Eng Example 4.pdf
2025-02-27 19:14:06,210 - INFO - Using cached results for Eng Example 1.pdf
2025-02-27 19:14:06,800 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 19:14:10,089 - INFO - Database initialized successfully
2025-02-27 19:14:19,879 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 19:14:21,471 - INFO - Using cached results for Eng Example 2.pdf
2025-02-27 19:14:21,476 - INFO - Using cached results for Eng Example 3.pdf
2025-02-27 19:14:21,480 - INFO - Using cached results for Eng Example 4.pdf
2025-02-27 19:14:21,485 - INFO - Using cached results for Eng Example 1.pdf
2025-02-27 19:14:21,969 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 19:14:24,240 - INFO - Extracted text from page 1 using OCR fallback
2025-02-27 19:14:24,240 - INFO - Combined text length: 1423 characters
2025-02-27 19:14:24,240 - INFO - Text sample: national Patient: PROTECTED B CFHS/SSFC Scan-Mammo MG Screening Mammo Bilateral Printed on: 2021-04-12 13:53 Printed by: Natalie Paille     Hpital Montfort Patient Name: Diagnostic Services - Imaging...
2025-02-27 19:14:24,240 - INFO - Document is deidentified, using standard patient name
2025-02-27 19:14:24,250 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-27 19:14:24,256 - INFO - Updated birads_score from fallback: BIRADS 1-3
2025-02-27 19:14:24,256 - INFO - Provider and signature fields match, increasing confidence
2025-02-27 19:14:24,260 - INFO - Extraction results: {"birads_score": "BIRADS 1", "document_date": "2020-07-09", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "2020-09-07", "impression_result": "Not Available", "mammogram_results": "Status: Signed MG Screening Mammo Bilatera! MG Screening Mammo Bilateral INDICATION: Screening. COMPARISON STUDY: January 9, 2017 and December 3, 2014. FINDINGS: Scattered fibroglandular tissue is again seen in both breasts. There is no evidence of a dominant mass lesion, distortion of tissue architecture, ar suspicious microcalcificatians within either breast to suggest presence of a malignant lesion. OPINION: No significant interval change. No mammagraphic evidence of malignancy. routine screening is planned, follow- up mammogram is recommended in 24 months time. BI-RADS 1   Reported and Electronically Signed By: Dr. Charlotte Lobo This report is generated in a voice recognition system and is considered authenticated when electronically signed by physician. cc: DND Dr. Marie | Desrosiers; Dr. Diego Garcia Brito Dictated: 09/07/20 1402 DND Or. Marie | Desrosiers S 713 ch Montreal Ottawa, ON K1K OT2 Printed: 09/07/20 1501   To: DNDDESRMAR Page 1 of 1 END OF DOCUMENT PROTEGE B Document Date: 2020-07-09 Page: 4", "patient_history": "Screening. COMPARISON STUDY: January 9, 2017 and December 3, 2014. FINDINGS: Scattered fibroglandular tissue is again seen in both breasts. There is no evidence of a dominant mass lesion, distortion of tissue architecture, ar suspicious microcalcificatians within either breast to suggest presence of a malignant lesion. OPINION: No significant interval change. No mammagraphic evidence of malignancy. routine screening is planned, follow- up mammogram is recommended in 24 months time. BI-RADS 1   Reported and Electronically Signed By: Dr. Charlotte Lobo This report is generated in a voice recognition system and is considered authenticated when electronically signed by physician. cc: DND Dr. Marie | Desrosiers; Dr. Diego Garcia Brito Dictated: 09/07/20 1402 DND Or. Marie | Desrosiers S 713 ch Montreal Ottawa, ON K1K OT2 Printed: 09/07/20 1501   To: DNDDESRMAR Page 1 of 1 END OF DOCUMENT PROTEGE B Document Date: 2020-07-09 Page: 4", "patient_name": "Deidentified", "recommendation": "mammogram is recommended in 24 months time. BI-RADS 1   Reported and Electronically Signed By: Dr. Charlotte Lobo This report is generated in a voice recognition system and is considered authenticated when electronically signed by physician. cc: DND Dr. Marie | Desrosiers; Dr. Diego Garcia Brito Dictated: 09/07/20 1402 DND Or. Marie | Desrosiers S 713 ch Montreal Ottawa, ON K1K OT2 Printed: 09/07/20 1501   To: DNDDESRMAR Page 1 of 1 END OF DOCUMENT PROTEGE B Document Date: 2020-07-09 Page: 4", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-27 19:14:24,280 - INFO - Saved report to database: Example 4.pdf
2025-02-27 19:14:24,500 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 19:14:26,652 - INFO - Extracted text from page 1 using OCR fallback
2025-02-27 19:14:26,652 - INFO - Combined text length: 1938 characters
2025-02-27 19:14:26,652 - INFO - Text sample: PROTECTED B CFHS/SSFC Scan-Mammo MG Screening Mammo Bilateral Document Date: 2020-12-09 Hpital Montfort Patient Name: | Diagnostic Services - Imaging MRN: 713 Montreal Rd | | Ottawa, ON HCN: | K1K Pa...
2025-02-27 19:14:26,652 - INFO - Document is deidentified, using standard patient name
2025-02-27 19:14:26,658 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-27 19:14:26,658 - INFO - Updated birads_score from fallback: BIRADS 1-2
2025-02-27 19:14:26,658 - INFO - Provider and signature fields match, increasing confidence
2025-02-27 19:14:26,660 - INFO - Extraction results: {"birads_score": "BIRADS 1", "document_date": "2020-12-09", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "2020-09-12", "impression_result": "Not Available", "mammogram_results": "Status: Signed MG Screening Mammo Bilateral MG Screening Mammo Bilateral INDICATION: Baseline screening mammogram with clinically palpable area of nodularity 6 o'clock position left breast for the past 2 months. COMPARISON STUDY: None FINDINGS: Breast parenchyma is predominantly fatty with minimal symmetrically distributed fibroglandular density. Immediately underlying the cutaneous marker in the approximate 6 o'clock position left inframammary fold region there is an approximate 19 mm partially demarcated fat density nodule consistent with lipoma or fat lobule. No soft tissue components. On the cranial caudal view there is a approximated to sub centimeter focal asymmetry likely representing normal glandular tissue. No mammographic evidence to suggest developing neoplasm. Follaw- up sonographic/cone compression views carrelation recommended for confirmation. OPINION: No evidence of malignancy. Questioned small palpable lipoma and regional asymmetric glandular density. Further investigation with cone compression views and ultrasound will be arranged. BI-RADS 0 Reported and Electronically Signed By: Dr. Danny Tenaschuk This report is generated in a voice recognition system and is considered authenticated when electronically signed by physician. cc: DND Dr. Sylvia Uhthoff Munro; DND Montfort site Dictated: 09/12/20 0954 DND Dr. Sylvia Uhthoff Munro FC(O) 713 Ch Montreal Ottawa, ON K1K OT2 Printed: 09/12/20 1001 To: DNDUHTHSYL Page \u20181 of 4 END OF DOCUMENT Signed by : Mrs Rosy Burns, CLERK, OT-PCS, 2020-12-09 11:34:00 Printed on: 2021-05-06 15:46 PROTEGE B Page: 1 Printed by: Sarah Holland", "patient_history": "Baseline screening mammogram with clinically palpable area of nodularity 6 o'clock position left breast for the past 2 months. COMPARISON STUDY: None FINDINGS: Breast parenchyma is predominantly fatty with minimal symmetrically distributed fibroglandular density. Immediately underlying the cutaneous marker in the approximate 6 o'clock position left inframammary fold region there is an approximate 19 mm partially demarcated fat density nodule consistent with lipoma or fat lobule. No soft tissue components. On the cranial caudal view there is a approximated to sub centimeter focal asymmetry likely representing normal glandular tissue. No mammographic evidence to suggest developing neoplasm. Follaw- up sonographic/cone compression views carrelation recommended for confirmation. OPINION: No evidence of malignancy. Questioned small palpable lipoma and regional asymmetric glandular density. Further investigation with cone compression views and ultrasound will be arranged. BI-RADS 0 Reported and Electronically Signed By: Dr. Danny Tenaschuk This report is generated in a voice recognition system and is considered authenticated when electronically signed by physician. cc: DND Dr. Sylvia Uhthoff Munro; DND Montfort site Dictated: 09/12/20 0954 DND Dr. Sylvia Uhthoff Munro FC(O) 713 Ch Montreal Ottawa, ON K1K OT2 Printed: 09/12/20 1001 To: DNDUHTHSYL Page \u20181 of 4 END OF DOCUMENT Signed by : Mrs Rosy Burns, CLERK, OT-PCS, 2020-12-09 11:34:00 Printed on: 2021-05-06 15:46 PROTEGE B Page: 1 Printed by: Sarah Holland", "patient_name": "Deidentified", "recommendation": "Not Available", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-27 19:14:26,670 - INFO - Saved report to database: Example 5.pdf
2025-02-27 19:14:26,910 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 19:14:29,500 - INFO - Extracted text from page 1 using OCR fallback
2025-02-27 19:14:29,680 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 19:14:31,512 - INFO - Extracted text from page 2 using OCR fallback
2025-02-27 19:14:31,695 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 19:14:33,701 - INFO - Extracted text from page 3 using OCR fallback
2025-02-27 19:14:33,702 - INFO - Combined text length: 5011 characters
2025-02-27 19:14:33,702 - INFO - Text sample: PROTECTED B CFHS/SSFC Patient: Scan-Mammogram Bilateral US Rt Breast Document Date: 2019-05-08 RECEIVED 15:27 Sent 05/08/2019 15:35:24, Page - 2 Name: Phys: Sex: F Acct: Loc: ZD.RAD.D Exam Date: 08/05...
2025-02-27 19:14:33,703 - INFO - Document is deidentified, using standard patient name
2025-02-27 19:14:33,709 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-27 19:14:33,710 - INFO - Updated birads_score from fallback: BIRADS 1-2
2025-02-27 19:14:33,710 - INFO - Provider and signature fields match, increasing confidence
2025-02-27 19:14:33,710 - INFO - Extraction results: {"birads_score": "BIRADS 1", "document_date": "2019-05-08", "document_type": "Mammogram", "electronically_signed_by": "Not Available", "exam_date": "2019-08-05", "impression_result": "-BILATERAL MAMMOGRAM AND RIGHT BREAST/AXILLA ULTRASOUND CLINICAL INDICATION: y/oF. Lesion noted under right breast since 2015-16; waxes and wanes in size; wonders about ripple an implant? Nontender and mobile. COMPARISON: None. FINDINGS: At the time of imaging, patient notes intermittent lump/ripple 6-7 o\u2019clock right breast, can not feel today. Breast density: Scattered areas of fibroglandular density (25-50% fibroglandular tissue). Bilateral mammogram performed including implant displaced views. No concerning breast mass, architectural torsion calcification. No mammographic abnormality in the region of clinical concern (inferior right breast). Follow-up ultrasound the region of clinical concern demonstrates no concerning abnormality. In the region patient indicates, there is slight focal undulation/ripple (2-3 mm) of the implant contour, potentially this could be the palpable abnormality. Entire breaet ultrasound demonstrates no sonographic features of implant rupture. On mammogram in the right axilla incidental note is made of a region of localized coarse calcifications spanning 2.2 x 1.6 cm. Targeted ultrasound demonstrates this probably corresponds to a 2.0 x 0.5 em lymph node with thin cortex and echogenic foci more positioned towards the hilum, in keeping with lymph node calcification. Overall appearance is favored benign. This could reflect sequela of prior remote nonspecific granulomatous disease, potentially related to prior tattooing (right arm tattoo noted), and it is difficult to exclude the possibility of silicone accumulation due to occult gel bleed type implant leak {although this would not be typical ultrasound appearance PAGE 1 Signed Report (CONTINUED) Printed on: 2024-01-09 07:50 Printed by: Gail Greer PROTEGE B Page: 18", "mammogram_results": "At the time of imaging, patient notes intermittent lump/ripple 6-7 o\u2019clock right breast, can not feel today. Breast density: Scattered areas of fibroglandular density (25-50% fibroglandular tissue). Bilateral mammogram performed including implant displaced views. No concerning breast mass, architectural torsion calcification. No mammographic abnormality in the region of clinical concern (inferior right breast). Follow-up ultrasound the region of clinical concern demonstrates no concerning abnormality. In the region patient indicates, there is slight focal undulation/ripple (2-3 mm) of the implant contour, potentially this could be the palpable abnormality. Entire breaet ultrasound demonstrates no sonographic features of implant rupture. On mammogram in the right axilla incidental note is made of a region of localized coarse calcifications spanning 2.2 x 1.6 cm. Targeted ultrasound demonstrates this probably corresponds to a 2.0 x 0.5 em lymph node with thin cortex and echogenic foci more positioned towards the hilum, in keeping with lymph node calcification. Overall appearance is favored benign. This could reflect sequela of prior remote nonspecific granulomatous disease, potentially related to prior tattooing (right arm tattoo noted), and it is difficult to exclude the possibility of silicone accumulation due to occult gel bleed type implant leak {although this would not be typical ultrasound appearance PAGE 1 Signed Report (CONTINUED) Printed on: 2024-01-09 07:50 Printed by: Gail Greer PROTEGE B Page: 18", "patient_history": "y/oF. Lesion noted under right breast since 2015-16; waxes and wanes in size; wonders about ripple an implant? Nontender and mobile. COMPARISON: None. FINDINGS: At the time of imaging, patient notes intermittent lump/ripple 6-7 o\u2019clock right breast, can not feel today. Breast density: Scattered areas of fibroglandular density (25-50% fibroglandular tissue). Bilateral mammogram performed including implant displaced views. No concerning breast mass, architectural torsion calcification. No mammographic abnormality in the region of clinical concern (inferior right breast). Follow-up ultrasound the region of clinical concern demonstrates no concerning abnormality. In the region patient indicates, there is slight focal undulation/ripple (2-3 mm) of the implant contour, potentially this could be the palpable abnormality. Entire breaet ultrasound demonstrates no sonographic features of implant rupture. On mammogram in the right axilla incidental note is made of a region of localized coarse calcifications spanning 2.2 x 1.6 cm. Targeted ultrasound demonstrates this probably corresponds to a 2.0 x 0.5 em lymph node with thin cortex and echogenic foci more positioned towards the hilum, in keeping with lymph node calcification. Overall appearance is favored benign. This could reflect sequela of prior remote nonspecific granulomatous disease, potentially related to prior tattooing (right arm tattoo noted), and it is difficult to exclude the possibility of silicone accumulation due to occult gel bleed type implant leak {although this would not be typical ultrasound appearance PAGE 1 Signed Report (CONTINUED) Printed on: 2024-01-09 07:50 Printed by: Gail Greer PROTEGE B Page: 18", "patient_name": "Deidentified", "recommendation": "ultrasound the region of clinical concern demonstrates no concerning abnormality. In the region patient indicates, there is slight focal undulation/ripple (2-3 mm) of the implant contour, potentially this could be the palpable abnormality. Entire breaet ultrasound demonstrates no sonographic features of implant rupture. On mammogram in the right axilla incidental note is made of a region of localized coarse calcifications spanning 2.2 x 1.6 cm. Targeted ultrasound demonstrates this probably corresponds to a 2.0 x 0.5 em lymph node with thin cortex and echogenic foci more positioned towards the hilum, in keeping with lymph node calcification. Overall appearance is favored benign. This could reflect sequela of prior remote nonspecific granulomatous disease, potentially related to prior tattooing (right arm tattoo noted), and it is difficult to exclude the possibility of silicone accumulation due to occult gel bleed type implant leak {although this would not be typical ultrasound appearance PAGE 1 Signed Report (CONTINUED) Printed on: 2024-01-09 07:50 Printed by: Gail Greer PROTEGE B Page: 18", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-27 19:14:33,722 - INFO - Saved report to database: Example 6.pdf
2025-02-27 19:14:33,928 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 19:14:36,033 - INFO - Extracted text from page 1 using OCR fallback
2025-02-27 19:14:36,034 - INFO - Combined text length: 1508 characters
2025-02-27 19:14:36,034 - INFO - Text sample: PROTECTED B CFHS/SSFC Scan-Mammo-Annual Document Date: 2015-03-27 32684806 BC Cancer Agency SCREENING MAMMOGRAPHY CARE & RESEARCH PROGRAM OF BC An agency of the Provincial Health Services Authority   ...
2025-02-27 19:14:36,034 - INFO - Document is deidentified, using standard patient name
2025-02-27 19:14:36,039 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-27 19:14:36,040 - INFO - Updated birads_score from fallback: BIRADS 1-2
2025-02-27 19:14:36,040 - INFO - Provider and signature fields match, increasing confidence
2025-02-27 19:14:36,040 - INFO - Extraction results: {"birads_score": "BIRADS 1", "document_date": "2015-03-27", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "2015-04-03", "impression_result": "- Bilateral Mammogram Mammogram interpreted as within normal limits RECOMMENDATION TO PRIMARY CARE PROVIDER: If asymptomatic, return for regular screening in two years. BRITISH COLUMBIA'S BREAST SCREENING POLICY Average risk Ages 40-49: Routine mammography available every two years. Ages 50-74: Routine mammograms are recommended every two years. Higher than average risk Ages 40-74 with a first degree relative with breast cancer: screening mammograms are recommended every year. some cancers cannot be detected on a mammogram due to the location of the cancer or the density of the tissue. Any new breast changes should be investigated as necessary. For more information: www.screeningbe.ca Gu have this report ih error, please notify us at: - - -92   APR 03 2015 PO Box 17000, Stn Sponsored by B.C. Medical Association, B.C. Radiolagical Society, Canadian Cancer Society (B.C. and Yukon Division), British Columbia Cancer Agency, Dept. of Radiology, Funded by British Columb:a Ministry of Page: 18 Printed by: Karen McEvoy-Perrault", "mammogram_results": "ih error, please notify us at: - - -92   APR 03 2015 PO Box 17000, Stn Sponsored by B.C. Medical Association, B.C. Radiolagical Society, Canadian Cancer Society (B.C. and Yukon Division), British Columbia Cancer Agency, Dept. of Radiology, Funded by British Columb:a Ministry of Page: 18 Printed by: Karen McEvoy-Perrault", "patient_history": "Not Available", "patient_name": "Deidentified", "recommendation": "TO PRIMARY CARE PROVIDER: If asymptomatic, return for regular screening in two years. BRITISH COLUMBIA'S BREAST SCREENING POLICY Average risk Ages 40-49: Routine mammography available every two years. Ages 50-74: Routine mammograms are recommended every two years. Higher than average risk Ages 40-74 with a first degree relative with breast cancer: screening mammograms are recommended every year. some cancers cannot be detected on a mammogram due to the location of the cancer or the density of the tissue. Any new breast changes should be investigated as necessary. For more information: www.screeningbe.ca Gu have this report ih error, please notify us at: - - -92   APR 03 2015 PO Box 17000, Stn Sponsored by B.C. Medical Association, B.C. Radiolagical Society, Canadian Cancer Society (B.C. and Yukon Division), British Columbia Cancer Agency, Dept. of Radiology, Funded by British Columb:a Ministry of Page: 18 Printed by: Karen McEvoy-Perrault", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-27 19:14:36,050 - INFO - Saved report to database: Example 3.pdf
2025-02-27 19:14:36,249 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 19:14:38,810 - INFO - Database initialized successfully
2025-02-27 19:19:32,434 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 19:19:32,438 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 19:19:32,938 - INFO - Database initialized successfully
2025-02-27 19:19:32,939 - INFO - Database initialized successfully
2025-02-27 19:21:59,123 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 19:21:59,147 - INFO - Database initialized successfully
2025-02-27 19:22:00,853 - INFO - Using cached results for Example 4.pdf
2025-02-27 19:22:00,857 - INFO - Using cached results for Example 5.pdf
2025-02-27 19:22:00,859 - INFO - Using cached results for Example 6.pdf
2025-02-27 19:22:00,860 - INFO - Using cached results for Example 3.pdf
2025-02-27 19:22:01,318 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 19:22:03,557 - INFO - Database initialized successfully
2025-02-27 19:24:40,270 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 19:24:41,036 - INFO - Database initialized successfully
2025-02-27 19:25:27,460 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 19:25:27,504 - INFO - Database initialized successfully
2025-02-27 19:25:29,844 - INFO - Using cached results for Example 4.pdf
2025-02-27 19:25:29,849 - INFO - Using cached results for Example 5.pdf
2025-02-27 19:25:29,849 - INFO - Using cached results for Example 6.pdf
2025-02-27 19:25:29,860 - INFO - Using cached results for Example 3.pdf
2025-02-27 19:25:30,598 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 19:25:34,928 - INFO - Database initialized successfully
2025-02-27 19:27:13,481 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 19:40:39,367 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 19:40:40,048 - INFO - Database initialized successfully
2025-02-27 19:42:13,576 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 19:42:13,596 - INFO - Database initialized successfully
2025-02-27 19:42:17,058 - INFO - Using cached results for Example 3.pdf
2025-02-27 19:42:17,058 - INFO - Using cached results for Example 4.pdf
2025-02-27 19:42:17,066 - INFO - Using cached results for Example 5.pdf
2025-02-27 19:42:17,066 - INFO - Using cached results for Example 6.pdf
2025-02-27 19:42:17,553 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 19:42:19,934 - INFO - Database initialized successfully
2025-02-27 19:43:23,868 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 19:44:31,976 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 19:58:17,604 - INFO - RadBERT loaded successfully with pipeline
2025-02-27 19:59:01,417 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 20:01:07,160 - INFO - RadBERT loaded successfully with pipeline
2025-02-27 20:01:58,699 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 20:04:25,066 - INFO - RadBERT loaded successfully with pipeline
2025-02-27 20:15:17,363 - INFO - RadBERT loaded successfully with pipeline
2025-02-27 20:15:17,363 - INFO - Medical chatbot loaded successfully
2025-02-27 20:15:17,406 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 20:15:26,392 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 20:15:27,912 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 20:18:08,812 - INFO - RadBERT loaded successfully with pipeline
2025-02-27 20:18:08,812 - INFO - Medical chatbot loaded successfully
2025-02-27 20:18:08,852 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 20:18:09,799 - INFO - Database initialized successfully
2025-02-27 20:18:09,802 - INFO - Debug logging initialized
2025-02-27 20:19:03,222 - INFO - RadBERT loaded successfully with pipeline
2025-02-27 20:19:03,223 - INFO - Medical chatbot loaded successfully
2025-02-27 20:19:03,287 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 20:19:03,392 - INFO - Database initialized successfully
2025-02-27 20:19:03,401 - INFO - Debug logging initialized
2025-02-27 20:19:04,287 - INFO - Claude API client initialized successfully
2025-02-27 20:19:32,782 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 20:19:32,828 - INFO - Database initialized successfully
2025-02-27 20:19:32,832 - INFO - Debug logging initialized
2025-02-27 20:19:32,857 - INFO - Claude API client initialized successfully
2025-02-27 20:19:33,591 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 20:19:33,641 - INFO - Database initialized successfully
2025-02-27 20:19:33,641 - INFO - Debug logging initialized
2025-02-27 20:19:33,671 - INFO - Claude API client initialized successfully
2025-02-27 20:19:41,975 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 20:19:42,291 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 20:19:42,614 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 20:19:42,692 - INFO - Database initialized successfully
2025-02-27 20:19:42,702 - INFO - Debug logging initialized
2025-02-27 20:19:42,741 - INFO - Claude API client initialized successfully
2025-02-27 20:23:47,651 - INFO - RadBERT loaded successfully with pipeline
2025-02-27 20:23:47,651 - INFO - Medical chatbot loaded successfully
2025-02-27 20:23:47,701 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 20:23:47,782 - INFO - Database initialized successfully
2025-02-27 20:24:08,971 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 20:24:09,028 - INFO - Database initialized successfully
2025-02-27 20:24:11,441 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 20:24:11,503 - INFO - Database initialized successfully
2025-02-27 20:24:20,363 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 20:24:20,713 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 20:24:21,137 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 20:24:21,279 - INFO - Database initialized successfully
2025-02-27 20:26:02,836 - INFO - RadBERT loaded successfully with pipeline
2025-02-27 20:26:02,836 - INFO - Medical chatbot loaded successfully
2025-02-27 20:26:56,407 - INFO - Medical chatbot loaded successfully
2025-02-27 20:26:59,121 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 20:27:00,160 - INFO - Database initialized successfully
2025-02-27 20:27:32,085 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 20:27:32,428 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 20:30:13,550 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 20:30:15,163 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 20:30:15,738 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 20:30:24,730 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 20:30:25,338 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 20:37:35,181 - INFO - RadBERT loaded successfully with pipeline
2025-02-27 20:37:35,181 - INFO - Medical chatbot loaded successfully
2025-02-27 20:38:39,359 - INFO - Medical chatbot loaded successfully
2025-02-27 20:38:40,259 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 20:38:42,659 - INFO - Database initialized successfully
2025-02-27 20:39:09,929 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 20:39:10,191 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 22:08:41,087 - INFO - RadBERT loaded successfully with pipeline
2025-02-27 22:09:34,287 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 22:10:10,937 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 22:10:12,365 - INFO - Using cached results for Example 5.pdf
2025-02-27 22:10:12,375 - INFO - Using cached results for Example 6.pdf
2025-02-27 22:10:12,377 - INFO - Using cached results for Example 3.pdf
2025-02-27 22:10:12,377 - INFO - Using cached results for Example 4.pdf
2025-02-27 22:10:13,198 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 22:11:18,182 - INFO - RadBERT loaded successfully with pipeline
2025-02-27 22:11:18,182 - INFO - Medical chatbot loaded successfully
2025-02-27 22:11:18,237 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 22:12:24,082 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 22:12:25,905 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 22:12:29,427 - INFO - Extracted text from page 1 using OCR fallback
2025-02-27 22:12:29,794 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 22:12:33,011 - INFO - Extracted text from page 2 using OCR fallback
2025-02-27 22:12:33,356 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 22:12:35,904 - INFO - Extracted text from page 3 using OCR fallback
2025-02-27 22:12:36,132 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 22:12:37,228 - INFO - Extracted text from page 4 using OCR fallback
2025-02-27 22:12:37,228 - INFO - Combined text length: 5083 characters
2025-02-27 22:12:37,228 - INFO - Text sample: PROTECTED B CFHS/SSFC Scan-US Lt Breast Document Date: 2023-11-06 To: Page: 1 of 2 2023-11-06 17:24:24 EST {780}450-9551 From: MIC imaging 2023-11-06 Mon 18:24 ID: #355167 Page 1 of 2     MEDICAL IMAG...
2025-02-27 22:12:37,228 - INFO - Document is deidentified, using standard patient name
2025-02-27 22:12:37,247 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-27 22:12:37,257 - INFO - Updated birads_score from fallback: BIRADS 1-2
2025-02-27 22:12:37,257 - INFO - Provider and signature fields match, increasing confidence
2025-02-27 22:12:37,259 - WARNING - Could not parse date: 06
2025-02-27 22:12:37,259 - INFO - Extraction results: {"birads_score": "BIRADS 1", "document_date": "2023-11-06", "document_type": "DIAGNOSTIC", "electronically_signed_by": "Not Available", "exam_date": "Not Available", "impression_result": "Not Available", "mammogram_results": "(Original report to follow) Through a quality assurance check an error was identified in this report. The error in the 2nd sentence of the 3rd paragraph. replaced with The sentence should read \"1 matemal cousin with breast carcinoma at age 42.\" Electronically Signed: Dr. S. Appavoo, FRCPC 11/6/2023 3:15 PM MST ORIGINAL REPORT History: Bilateral mammogram + 6 month FU Lt breast u/s. PRIOR: Breast imaging studies dating back to November 15, 2022. FAMILY HISTORY: Mather with breast carcinoma at age 55. 1 maternal cousin with breast breast, at age 42. IBIS lifetime risk calculation of >25%. BILATERAL MAMMOGRAM WITH TOMOSYNTHESIS: Density: ACR Category D: The breasts are extremely dense, which lowers the sensitivity of mammography. No conceming mass, architectural distortion or suspicious microcalcifications. BREAST ULTRASOUND: Again noted, there is a well-defined ovoid parallel nonshadowing nonvascular mass at the 3:00 position of the left breast, 5 cm from the nippie. This currently measures 1.1 x 0.7 x 0.4 cm, unchanged allowing for interscan measurement differances. No morphologle findings are noted. INIPRESSION: Stable benign-appearing mass at the 3:00 position of the left breast. This Is likely a benign Page 1 of 2 i : -06- : Page: 26 Printed on: 2024-06-12 07:46 PROTEGE B Printed by: Natalie Paille", "patient_history": "Bilateral mammogram + 6 month FU Lt breast u/s. PRIOR: Breast imaging studies dating back to November 15, 2022. FAMILY HISTORY: Mather with breast carcinoma at age 55. 1 maternal cousin with breast breast, at age 42. IBIS lifetime risk calculation of >25%. BILATERAL MAMMOGRAM WITH TOMOSYNTHESIS: Density: ACR Category D: The breasts are extremely dense, which lowers the sensitivity of mammography. No conceming mass, architectural distortion or suspicious microcalcifications. BREAST ULTRASOUND: Again noted, there is a well-defined ovoid parallel nonshadowing nonvascular mass at the 3:00 position of the left breast, 5 cm from the nippie. This currently measures 1.1 x 0.7 x 0.4 cm, unchanged allowing for interscan measurement differances. No morphologle findings are noted. INIPRESSION: Stable benign-appearing mass at the 3:00 position of the left breast. This Is likely a benign Page 1 of 2 i : -06- : Page: 26 Printed on: 2024-06-12 07:46 PROTEGE B Printed by: Natalie Paille", "patient_name": "Deidentified", "recommendation": "bilateral mammogram and targeted left breast ultrasound examination will be booked for one year from now. If the findings maintained stability for 2 full years, no further specific imaging follow-up is required unless there is adverse clinical change. Given the strong family history and elevated risk of breast carcinoma, this patient should be offered high risk screening protocol, including annual mammography staggered at 6 months with annual MRI screening. Recommendation: Follow-ip mammogram and ultrasound in 1 year. BLRADS 3 Electronically Signed: Dr. S. Appavoo, FRCPC 11/6/2023 2:36 PM MST Page 2 of 2 2024-06-12 07:46 PROTEGE B Natalie Paille CFHS/SSFC Page: 27", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-27 22:12:37,276 - INFO - Saved report to database: Eng Example 5.pdf
2025-02-27 22:12:37,507 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 22:12:39,309 - INFO - Extracted text from page 1 using OCR fallback
2025-02-27 22:12:39,309 - INFO - Combined text length: 1094 characters
2025-02-27 22:12:39,309 - INFO - Text sample: PROTECTED B CFHS/SSFC Scan-Mammo (B) Screening Document Date: 2023-04-14 AM Medical Imag.ng Msq 11105360 Page 1 of 4 MEDICAL IMAGING Dr. Karissa Hetland CFB - Edmonton PO BOX 10500 STN FORCES Edmonton...
2025-02-27 22:12:39,310 - INFO - Document is deidentified, using standard patient name
2025-02-27 22:12:39,315 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-27 22:12:39,315 - INFO - Updated birads_score from fallback: BIRADS 1-2
2025-02-27 22:12:39,316 - INFO - Provider and signature fields match, increasing confidence
2025-02-27 22:12:39,317 - WARNING - Could not parse date: 14
2025-02-27 22:12:39,317 - INFO - Extraction results: {"birads_score": "BIRADS 1", "document_date": "2023-04-14", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "Not Available", "impression_result": "No evidence of malignancy. No adverse change since 2015. BI-RADS: 1: Negative. Recommendation(s): Screening mammography recommended in 1-2 years. Electronically Signed: Dr. H. Aguilar, FRCPC 4/14/2023 9:40 AM MDT Page 1 of 1 Printed on: 2024-10-17 09:17 : Page: Printed by: Natalie Paille PROTEGE B", "mammogram_results": "There are scattered areas of fibroglandular density (ACR category B). No worrisome focal mass, architectural distortion or suspicious calcifications. IMPRESSION: No evidence of malignancy. No adverse change since 2015. BI-RADS: 1: Negative. Recommendation(s): Screening mammography recommended in 1-2 years. Electronically Signed: Dr. H. Aguilar, FRCPC 4/14/2023 9:40 AM MDT Page 1 of 1 Printed on: 2024-10-17 09:17 : Page: Printed by: Natalie Paille PROTEGE B", "patient_history": "51 year old female with dense breasts for routine mammogram + ABUS. MMG aug 2021- normal ( apart from dense breasts ). No new breast concerns. Please R/O interval change. BILATERAL SCREENING MAMMOGRAPHY WITH TOMOSYNTHESIS Family History: No personal or family history of breast cancer. Findings: There are scattered areas of fibroglandular density (ACR category B). No worrisome focal mass, architectural distortion or suspicious calcifications. IMPRESSION: No evidence of malignancy. No adverse change since 2015. BI-RADS: 1: Negative. Recommendation(s): Screening mammography recommended in 1-2 years. Electronically Signed: Dr. H. Aguilar, FRCPC 4/14/2023 9:40 AM MDT Page 1 of 1 Printed on: 2024-10-17 09:17 : Page: Printed by: Natalie Paille PROTEGE B", "patient_name": "Deidentified", "recommendation": "(s): Screening mammography recommended in 1-2 years. Electronically Signed: Dr. H. Aguilar, FRCPC 4/14/2023 9:40 AM MDT Page 1 of 1 Printed on: 2024-10-17 09:17 : Page: Printed by: Natalie Paille PROTEGE B", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-27 22:12:39,331 - INFO - Saved report to database: Eng Example 6.pdf
2025-02-27 22:12:39,641 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 22:12:42,030 - INFO - Extracted text from page 1 using OCR fallback
2025-02-27 22:12:42,209 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 22:12:43,354 - INFO - Extracted text from page 2 using OCR fallback
2025-02-27 22:12:43,354 - INFO - Combined text length: 2284 characters
2025-02-27 22:12:43,354 - INFO - Text sample: PROTECTED B CFHS/SSFC Scan-Mammo & US Breast Bilateral Document Date: 2016-06-10 Hpital Montfort Patient Name: Diagnostic Services - Imaging MRN: 713 Montreal Rd AGE: SEX: F Ottawa, ON HCN: CT2 H-Ph:...
2025-02-27 22:12:43,354 - INFO - Document is deidentified, using standard patient name
2025-02-27 22:12:43,357 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-27 22:12:43,360 - INFO - Updated birads_score from fallback: BIRADS 1-2
2025-02-27 22:12:43,360 - INFO - Provider and signature fields match, increasing confidence
2025-02-27 22:12:43,361 - INFO - Extraction results: {"birads_score": "BIRADS 1", "document_date": "2016-06-10", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "2016-10-06", "impression_result": "Not Available", "mammogram_results": "Status: Signed MG Diagnostic Mammo Bilateral; MG US Breast Bilateral C001319651M0M BILATERAL BREAST ULTRASOUND BILATERAL DIAGNOSTIC MAMMOGRAM Bilateral mammogram and bilateral ultrasound was performed. Clinical: patient with breast mass on ultrasound. Question duct ectasia. No change since the previous examination. There is a normal hetercgeneous parenchyma pattern bilaterally. There is ne focal abnormality, area of architectural distortion or microcalcification in either breast to suggest a malignancy. Within the right breast there is a thinly septated cyst in the 10 o'clock position measuring \u00a7.6 x 11.8 mm. in addition in the 11-12 o'clock position there are well- defined aypoechoic avascular nodules, one measuring 11 x 4.9 7.9 in the other measuring 10.8 x 11.4 mm. These would be keeping with fibroadenomas. Simple cyst in the 2 o'clock position measuring up to 8.3 mm, There is no dilated ducts. Ultrasound left breast is unremarkable with no solid or cystic lesion. Ne dilated ducts in the left breast. OPINION: No mammographic or sonographic evidence of malignancy. Findings suggestive of fibroadenomas within the right breast, A targeted ultrasound is recommended in 6 months time. A routine screening mammogram in 12 to 24 months is recommended. ~BI-RADS 3~ Printed: 10/06/16 1601   To: Page 1 of 2   Printed on: 2023-03-10 16:13 EGE Page: 30 Printed by: James Campbell PROTEGE B", "patient_history": "Not Available", "patient_name": "Deidentified", "recommendation": "Not Available", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-27 22:12:43,368 - INFO - Saved report to database: Example 1.pdf
2025-02-27 22:12:43,377 - INFO - Using cached results for Eng Example 2.pdf
2025-02-27 22:12:43,382 - INFO - Using cached results for Eng Example 3.pdf
2025-02-27 22:12:43,382 - INFO - Using cached results for Eng Example 4.pdf
2025-02-27 22:12:43,797 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 22:48:21,384 - INFO - RadBERT loaded successfully with pipeline
2025-02-27 22:48:21,384 - INFO - Medical chatbot loaded successfully
2025-02-27 22:48:21,427 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 22:48:38,252 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 22:48:38,482 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 22:48:38,722 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 22:48:52,522 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 22:48:53,912 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 22:48:55,684 - INFO - Extracted text from page 1 using OCR fallback
2025-02-27 22:48:55,892 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 22:48:57,422 - INFO - Extracted text from page 2 using OCR fallback
2025-02-27 22:48:57,422 - INFO - Combined text length: 2308 characters
2025-02-27 22:48:57,422 - INFO - Text sample: PROTECTED B Patient: Scan-Mammo Right Document Date: 2020-10-30 Printed on: Printed by:   11-02-2020 09:33 Rouge Valley Health System Ph: 416-284-8131 Page: 2 ROUGE VALLEY HEALTH SYSTEM Centenary Heal...
2025-02-27 22:48:57,422 - INFO - Document is deidentified, using standard patient name
2025-02-27 22:48:57,432 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-27 22:48:57,432 - INFO - Updated birads_score from fallback: BIRADS 1-2
2025-02-27 22:48:57,432 - INFO - Provider and signature fields match, increasing confidence
2025-02-27 22:48:57,439 - INFO - Extraction results: {"birads_score": "BIRADS 1", "document_date": "2020-10-30", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "2020-10-30", "impression_result": "Not Available", "mammogram_results": "is NOT received in 4 weeks please contact the hospital central booking office GUZMAN,ALEXIS HERNANDO Fax: (416)635-2720 32 CH H SVCS C, 1 YUKON LANE Prov: CARAL TORONTO, ON M3K 0A1 Ordering copy Page 1 of 2 2024-05-08 09:15 PROTEGE B Karen McEvoy-Perrault CFHS/SSFC Page: 7", "patient_history": "Not Available", "patient_name": "Deidentified", "recommendation": "with bilateral screening mammography is recommended in one year BI-RADS CATEGORY: 2 41. Negative 2. Benign 3. Probably benign 4. Suspicious 5. Highly suggestive of malignancy 6. Known biopsy-proven malignancy Q. Incomplete** a follow up report is NOT received in 4 weeks please contact the hospital central booking office GUZMAN,ALEXIS HERNANDO Fax: (416)635-2720 32 CH H SVCS C, 1 YUKON LANE Prov: CARAL TORONTO, ON M3K 0A1 Ordering copy Page 1 of 2 2024-05-08 09:15 PROTEGE B Karen McEvoy-Perrault CFHS/SSFC Page: 7", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-27 22:48:57,452 - INFO - Saved report to database: Example 10.pdf
2025-02-27 22:48:57,672 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 22:48:59,174 - INFO - Extracted text from page 1 using OCR fallback
2025-02-27 22:48:59,372 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 22:49:00,982 - INFO - Extracted text from page 2 using OCR fallback
2025-02-27 22:49:00,982 - INFO - Combined text length: 2345 characters
2025-02-27 22:49:00,982 - INFO - Text sample: PROTECTED B CFHS/SSFC Scan-Mammo Bilat Document Date: 2021-05-31   | 16.04.53 05-31-2021 1 Fax         5/31/2021 4:93 PM FROM: Fax TO: PAGE: 001 OF O01 CLINIQUE RADIOLOGIQUE AUDET CITE VERTE 1180, rue...
2025-02-27 22:49:00,982 - INFO - Document is deidentified, using standard patient name
2025-02-27 22:49:00,992 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-27 22:49:00,992 - INFO - Provider and signature fields match, increasing confidence
2025-02-27 22:49:00,992 - WARNING - Could not parse date: /
2025-02-27 22:49:00,992 - INFO - Extraction results: {"birads_score": "Not Available", "document_date": "2021-05-31", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "Not Available", "impression_result": "Not Available", "mammogram_results": "Not Available", "patient_history": "Not Available", "patient_name": "Deidentified", "recommendation": "Not Available", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-27 22:49:01,007 - INFO - Saved report to database: FR Example 1.pdf
2025-02-27 22:49:01,202 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 22:49:03,064 - INFO - Extracted text from page 1 using OCR fallback
2025-02-27 22:49:03,064 - INFO - Combined text length: 1739 characters
2025-02-27 22:49:03,064 - INFO - Text sample: nationale PROTECTED B CFHS/SSFC Patient: Scan-Mammo Clichs (G) Document Date: 2022-05-18   05-19-2022 1 | 18779212243 15:11:36 EDT To: 14188446671 Page: 1/1 From: Radiologix Audet Fax: 877921224     ...
2025-02-27 22:49:03,064 - INFO - Document is deidentified, using standard patient name
2025-02-27 22:49:03,068 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-27 22:49:03,068 - INFO - Provider and signature fields match, increasing confidence
2025-02-27 22:49:03,070 - INFO - Extraction results: {"birads_score": "Not Available", "document_date": "2022-05-18", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "2022-05-19", "impression_result": "Not Available", "mammogram_results": "Not Available", "patient_history": "Not Available", "patient_name": "Deidentified", "recommendation": "Not Available", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-27 22:49:03,080 - INFO - Saved report to database: FR Example 2.pdf
2025-02-27 22:49:03,282 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 22:49:05,142 - INFO - Extracted text from page 1 using OCR fallback
2025-02-27 22:49:05,146 - INFO - Combined text length: 2250 characters
2025-02-27 22:49:05,146 - INFO - Text sample: rationale PROTECTED B Patient: Scan-Mammo-Screening Document Date: 2020-11-19 11/20/2020 68:09:08 AM FAXCOM PAGE 1 OF 1 NOVA SCOTIA BREAST SCREENING PROGRAM [     Halifax Shopping Centre Tel: (902) 47...
2025-02-27 22:49:05,146 - INFO - Document is deidentified, using standard patient name
2025-02-27 22:49:05,146 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-27 22:49:05,146 - INFO - Updated birads_score from fallback: BIRADS 1-2
2025-02-27 22:49:05,146 - INFO - Provider and signature fields match, increasing confidence
2025-02-27 22:49:05,152 - INFO - Extraction results: {"birads_score": "BIRADS 1", "document_date": "2020-11-19", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "2020-11-20", "impression_result": "If you have any questions about the breast screening program, your results, or would like information, please call the Nova Scotia Breast Screening Program at 902-473-3960 or 1-800-565-0548. MCDONALD, LORI Disclaimer: Density was assessed by the Densitas densityai(tm) automated sofiware. Confidentiality notice. This document may contain privileged and/or confidential information and js intended only for the individual named. If you have received this document in error, please the sender immediately by phone and do not use, copy or disseminate this please destroy this page and any associated pages. END OF DOCUMENT Printed on: 2024-08-14 08:02 PROTEGE B Printed by: Jeyagowry Nadarajah    CFHS/SSFC Page: 39", "mammogram_results": "you as her primary care provider when she registered for the Breast I am pleased to inform you that the radiologist who examined her mammogram did not detect any significant abnormality and recommends that she return in 1 year for her next mammogram. A letter is being sent to inform her of this, The Breast Screening Program reports your patient\u2019s breast density category in her screening mammogram result letters. Her screening mammogram showed that her breast density is in Category C, which means her breasts are heterogeneously dense. She has some areas of dense tissue in her breasts. Dense breast tissue can hide cancers on Not all cancers can be seen on a mammogram. It is also important to encourage your patients to know what is normal for their breasts and to notify you right away if they notice any unusual changes in their breasts before their next screening If there are symptoms suggestive of breast cancer, then further investigation is warranted even if the most recent screening mammogram was negative. Please fax a requisition to 902-473-3959 or 1-866-470-3959 for further assessment. If you have any questions about the breast screening program, your results, or would like information, please call the Nova Scotia Breast Screening Program at 902-473-3960 or 1-800-565-0548. MCDONALD, LORI Disclaimer: Density was assessed by the Densitas densityai(tm) automated sofiware. Confidentiality notice. This document may contain privileged and/or confidential information and js intended only for the individual named. If you have received this document in error, please the sender immediately by phone and do not use, copy or disseminate this please destroy this page and any associated pages. END OF DOCUMENT Printed on: 2024-08-14 08:02 PROTEGE B Printed by: Jeyagowry Nadarajah    CFHS/SSFC Page: 39", "patient_history": "Not Available", "patient_name": "Deidentified", "recommendation": "Not Available", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-27 22:49:05,160 - INFO - Saved report to database: Example 9.pdf
2025-02-27 22:49:05,633 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 22:50:01,681 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 22:50:02,916 - INFO - Using cached results for Example 10.pdf
2025-02-27 22:50:02,921 - INFO - Using cached results for FR Example 1.pdf
2025-02-27 22:50:02,927 - INFO - Using cached results for FR Example 2.pdf
2025-02-27 22:50:02,934 - INFO - Using cached results for Example 9.pdf
2025-02-27 22:50:02,938 - INFO - Using cached results for Example 1.pdf
2025-02-27 22:50:03,426 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 22:50:05,914 - INFO - Extracted text from page 1 using OCR fallback
2025-02-27 22:50:05,914 - INFO - Combined text length: 1889 characters
2025-02-27 22:50:05,914 - INFO - Text sample: PROTECTED B Patient: Scan-Mammo Bilateral Document Date: 2018-12-12 TOH Fax Server 12/18/2018 10:27:28 PM PAGE 1/001 Fax Server Confidential Facsimile for use of recipient only. Tf received by error P...
2025-02-27 22:50:05,914 - INFO - Document is deidentified, using standard patient name
2025-02-27 22:50:05,919 - INFO - Missing fields: ['birads_score'], trying fallback extraction
2025-02-27 22:50:05,919 - INFO - Updated birads_score from fallback: BIRADS 4-5
2025-02-27 22:50:05,919 - INFO - Provider and signature fields match, increasing confidence
2025-02-27 22:50:05,919 - INFO - Extraction results: {"birads_score": "BIRADS 4", "document_date": "2018-12-12", "document_type": "Mammo", "electronically_signed_by": "Not Available", "exam_date": "2018-12-18", "impression_result": "Right breast focal asymmetry indeterminate, in the absence any previous imaging. Additional mammographic and sonographic assessment | will be arranged. BI-RADS (Further imaging work up recommended. The patient will be contacted for this appointment. If the patient has not been contacted | within 7 days, please call the Breast Imaging booking office, 613-761-4831 option #5.)   For report clarification: rads@toh.ca TRANSCRIBED BY: PS7132 REPORTED BY: N/A 18/22/18 16:40 FOR: R VERMA DICTATED: **VERIFIED BY PHYSICIAN** 18/12/18 16:10 FORM#: 283763 PAGE 1 OF 1 2019-11-28 12:50 PROTEGE B Karen McEvoy-Perrault / Fac-simil\u00e9 Confidentiel a destinataire Si par erreur SVP DETRUIRE et aviser CAMPUS 501 Smyth Rd Ottawa 8L6 / CFHS/SSFC   Page: 1", "mammogram_results": "There are scattered areas of fibroglandular density. There is focal asymmetry within the right upper inner breast, middle third, | presumably corresponding to the asymmetry for which the patient was initially recalled in Victoria. No dominant mass, architectural distortion or suspicious micrecalcifications in the left breast. IMPRESSION: Right breast focal asymmetry indeterminate, in the absence any previous imaging. Additional mammographic and sonographic assessment | will be arranged. BI-RADS (Further imaging work up recommended. The patient will be contacted for this appointment. If the patient has not been contacted | within 7 days, please call the Breast Imaging booking office, 613-761-4831 option #5.)   For report clarification: rads@toh.ca TRANSCRIBED BY: PS7132 REPORTED BY: N/A 18/22/18 16:40 FOR: R VERMA DICTATED: **VERIFIED BY PHYSICIAN** 18/12/18 16:10 FORM#: 283763 PAGE 1 OF 1 2019-11-28 12:50 PROTEGE B Karen McEvoy-Perrault / Fac-simil\u00e9 Confidentiel a destinataire Si par erreur SVP DETRUIRE et aviser CAMPUS 501 Smyth Rd Ottawa 8L6 / CFHS/SSFC   Page: 1", "patient_history": "Not Available", "patient_name": "Deidentified", "recommendation": "mammogram, previous in Victoria, No new complaints. COMPARISON: No previous available, Attempted retrieval of outside images was not successful, FINDINGS: There are scattered areas of fibroglandular density. There is focal asymmetry within the right upper inner breast, middle third, | presumably corresponding to the asymmetry for which the patient was initially recalled in Victoria. No dominant mass, architectural distortion or suspicious micrecalcifications in the left breast. IMPRESSION: Right breast focal asymmetry indeterminate, in the absence any previous imaging. Additional mammographic and sonographic assessment | will be arranged. BI-RADS (Further imaging work up recommended. The patient will be contacted for this appointment. If the patient has not been contacted | within 7 days, please call the Breast Imaging booking office, 613-761-4831 option #5.)   For report clarification: rads@toh.ca TRANSCRIBED BY: PS7132 REPORTED BY: N/A 18/22/18 16:40 FOR: R VERMA DICTATED: **VERIFIED BY PHYSICIAN** 18/12/18 16:10 FORM#: 283763 PAGE 1 OF 1 2019-11-28 12:50 PROTEGE B Karen McEvoy-Perrault / Fac-simil\u00e9 Confidentiel a destinataire Si par erreur SVP DETRUIRE et aviser CAMPUS 501 Smyth Rd Ottawa 8L6 / CFHS/SSFC   Page: 1", "testing_provider": "Not Available", "ultrasound_results": "Not Available", "additional_information": "", "is_deidentified": true, "confidence_scores": {"ocr": 0.0, "nlp": 0.0}}
2025-02-27 22:50:05,924 - INFO - Saved report to database: Example 2.pdf
2025-02-27 22:50:05,933 - INFO - Using cached results for Eng Example 5.pdf
2025-02-27 22:50:05,933 - INFO - Using cached results for Eng Example 6.pdf
2025-02-27 22:50:06,124 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 22:54:27,918 - INFO - RadBERT loaded successfully with pipeline
2025-02-27 22:54:27,918 - INFO - Medical chatbot loaded successfully
2025-02-27 22:54:27,953 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 22:56:27,777 - INFO - Tesseract version: 5.5.0.20241111
2025-02-27 22:56:28,785 - INFO - Using cached results for Eng Example 6.pdf
2025-02-27 22:56:28,791 - INFO - Using cached results for Example 1.pdf
2025-02-27 22:56:28,796 - INFO - Using cached results for Example 2.pdf
2025-02-27 22:56:28,796 - INFO - Using cached results for Eng Example 5.pdf
2025-02-27 22:56:29,191 - INFO - Tesseract version: 5.5.0.20241111
